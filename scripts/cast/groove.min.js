const _0x4c4728=_0x1ef0;(function(_0x3a58df,_0x184b8d){const _0x5d422c=_0x1ef0,_0x611825=_0x3a58df();while(!![]){try{const _0x2bd747=parseInt(_0x5d422c(0x204))/0x1*(-parseInt(_0x5d422c(0x217))/0x2)+parseInt(_0x5d422c(0x1ac))/0x3*(-parseInt(_0x5d422c(0x1e0))/0x4)+parseInt(_0x5d422c(0x1e6))/0x5+-parseInt(_0x5d422c(0x227))/0x6+parseInt(_0x5d422c(0x18e))/0x7+-parseInt(_0x5d422c(0x205))/0x8*(-parseInt(_0x5d422c(0x1c3))/0x9)+-parseInt(_0x5d422c(0x216))/0xa;if(_0x2bd747===_0x184b8d)break;else _0x611825['push'](_0x611825['shift']());}catch(_0x54a01f){_0x611825['push'](_0x611825['shift']());}}}(_0x2a4d,0x1e730));import{W as _0x5da005,V as _0x2cfbe6,r as _0x26c0b2}from'./receiver.min.js';import{b as _0x2aecb8,d as _0x1d6c73,c as _0x5606f9}from'./fullscreen-quad.min.js';function _0x1ef0(_0x47feae,_0x4c91b6){const _0x2a4d93=_0x2a4d();return _0x1ef0=function(_0x1ef03c,_0x4742fd){_0x1ef03c=_0x1ef03c-0x185;let _0x1f700a=_0x2a4d93[_0x1ef03c];return _0x1f700a;},_0x1ef0(_0x47feae,_0x4c91b6);}var n=_0x4c4728(0x1e9);function _0x2a4d(){const _0x3cee3f=['_lastRenderAt','_attributes','1268voeeTk','init','flowX','now','INTERACTIVE','flowY','508235RwEneV','uFeedback','bindTexture','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','_presentProgram','FRAMEBUFFER','TEXTURE_MAG_FILTER','height','u_feedback','lerp','beatConfidence','_targetScale','vvavy','_writeTarget','pow','_boundHandlePointer','useProgram','uWarpDir','sum','_resizeTargets','rmsTime','_pointerBias','autoDispose','_ensureTargets','POPULAR','present','pointermove','COLOR_ATTACHMENT0','uniform1f','_beatCooldown','6vRZjaT','1609096lsWnei','fbo','VIBE','densityScale','CLAMP_TO_EDGE','u_buffer','top','closest','_destroyTarget','TEMPO','addEventListener','getViewportProfile','_audioTime','push','_state','clientX','_flowDirection','100960nDkPtK','1244JHNkrk','TECH','getUniformLocation','ONE','createTexture','.footer-bar','TEXTURE_WRAP_T','parentElement','feedback','overallEnergy','MID','_computeTargetScale','uniform1i','canvas','uPrev','left','605940gewncg','uZoom','checkFramebufferStatus','_feedbackProgram','drawingBufferHeight','_quadBuffer','u_volume','bind','[data-role=\x22cast-overlay\x22]','_updateVolumeHistory','591332Bwxqhj','uWarpStrength','u_resolution','destroy','clamp','_createDefaultState','TEXTURE0','releaseGLResource','click','removeEventListener','_pointerLastAt','uniform2f','max','bottom','GROOVY','texParameteri','bindFramebuffer','_buildResources','FRAMEBUFFER_COMPLETE','clientY','pointerdown','_readTarget','createProgram','activeTexture','resetState','onResize','TRIPPY','undefined','_volumeHistory','flowYTarget','1398bsJBVg','TEXTURE_2D','aPosition','floor','values','ZERO','uResolution','deleteFramebuffer','_handlePointer','getBoundingClientRect','TEXTURE_MIN_FILTER','shortEdge','GEOMETRY','DEPTH_TEST','drawingBufferWidth','_createTarget','_uniforms','Framebuffer\x20incomplete\x20for\x20groove','texImage2D','CULL_FACE','viewport','_pointerUnsub','nodeType','9MOqIwh','LINEAR','Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','config','isFinite','width','_targetHeight','texture','_setupInteractions','lastVolume','ENERGY','uScene','groove','_verticalDirection','flowXTarget','flushTrackedGLResources','length','meta','uVolume','_targetWidth','u_warpDirection','target','_pointerIdleSeconds','uTime','u_scene','shift','disable'];_0x2a4d=function(){return _0x3cee3f;};return _0x2a4d();}class a extends _0x5da005{static [_0x4c4728(0x1d4)]={'savedAt':0x19c5969cbe3,'createdBy':_0x4c4728(0x1f2),'description':_0x4c4728(0x1c5),'tags':[_0x2cfbe6[_0x4c4728(0x218)][_0x4c4728(0x1b8)],_0x2cfbe6[_0x4c4728(0x207)][_0x4c4728(0x1a8)],_0x2cfbe6[_0x4c4728(0x1cd)][_0x4c4728(0x221)],_0x2cfbe6[_0x4c4728(0x20e)][_0x4c4728(0x19c)],_0x2cfbe6[_0x4c4728(0x218)]['HD'],_0x2cfbe6[_0x4c4728(0x218)][_0x4c4728(0x1e4)],_0x2cfbe6['STATUS'][_0x4c4728(0x1fe)]]};constructor(_0x665b8b){const _0x562467=_0x4c4728;super({..._0x665b8b,'config':{..._0x665b8b?.[_0x562467(0x1c6)]??{},'backgroundColor':'#000000'}}),this[_0x562467(0x187)]=null,this[_0x562467(0x1ea)]=null,this[_0x562467(0x1bc)]={'feedback':null,'present':null},this[_0x562467(0x1df)]={'aPosition':0x0},this[_0x562467(0x189)]=null,this[_0x562467(0x1a3)]=null,this[_0x562467(0x1f3)]=null,this[_0x562467(0x1d6)]=0x0,this[_0x562467(0x1c9)]=0x0,this[_0x562467(0x1f1)]=0.8,this[_0x562467(0x1de)]=null,this[_0x562467(0x211)]=0x0,this[_0x562467(0x203)]=0x0,this[_0x562467(0x215)]=0x1,this[_0x562467(0x1d0)]=0x0,this['_volumeHistory']={'values':[],'sum':0x0,'max':0x3c},this[_0x562467(0x1fb)]={'x':0x0,'y':0x0},this['_pointerLastAt']=0x0,this[_0x562467(0x1d9)]=0.6,this['_pointerUnsub']=null,this[_0x562467(0x213)]=this[_0x562467(0x193)]();}[_0x4c4728(0x1e1)](){const _0x1bf78f=_0x4c4728,_0x2af689=this['gl'];if(!_0x2af689)return;_0x2af689[_0x1bf78f(0x1dd)](_0x2af689[_0x1bf78f(0x1b9)]),_0x2af689['disable'](_0x2af689[_0x1bf78f(0x1bf)]),_0x2af689['disable'](_0x2af689['STENCIL_TEST']),_0x2af689['blendFunc'](_0x2af689[_0x1bf78f(0x21a)],_0x2af689[_0x1bf78f(0x1b1)]),this[_0x1bf78f(0x19f)](_0x2af689),this[_0x1bf78f(0x1f1)]=this[_0x1bf78f(0x222)]();const _0x461406=_0x2af689[_0x1bf78f(0x1ba)]||this[_0x1bf78f(0x1c8)]||this[_0x1bf78f(0x224)]?.[_0x1bf78f(0x1c8)]||0x1,_0x415055=_0x2af689[_0x1bf78f(0x188)]||this['height']||this[_0x1bf78f(0x224)]?.[_0x1bf78f(0x1ed)]||0x1;this['_targetWidth']=Math[_0x1bf78f(0x19a)](0x8,Math['floor'](_0x461406*this[_0x1bf78f(0x1f1)])),this[_0x1bf78f(0x1c9)]=Math[_0x1bf78f(0x19a)](0x8,Math[_0x1bf78f(0x1af)](_0x415055*this[_0x1bf78f(0x1f1)])),this[_0x1bf78f(0x1f9)](!0x0),this['_audioTime']=0x0,this[_0x1bf78f(0x1de)]=null,this['_setupInteractions']();}['destroy'](){const _0x20ff56=_0x4c4728;this[_0x20ff56(0x1d2)](),this[_0x20ff56(0x1c1)]?.(),this[_0x20ff56(0x1c1)]=null,this[_0x20ff56(0x1f3)]=null,super[_0x20ff56(0x191)]();}[_0x4c4728(0x1a6)](){const _0x15e8e2=_0x4c4728;this[_0x15e8e2(0x211)]=0x0,this[_0x15e8e2(0x1de)]=null,this[_0x15e8e2(0x203)]=0x0,this[_0x15e8e2(0x215)]=0x1,this[_0x15e8e2(0x1d0)]=0x0,this[_0x15e8e2(0x1aa)]={'values':[],'sum':0x0,'max':0x3c},this[_0x15e8e2(0x1fb)]={'x':0x0,'y':0x0},this[_0x15e8e2(0x198)]=0x0,this[_0x15e8e2(0x213)]=this[_0x15e8e2(0x193)](),this[_0x15e8e2(0x1d2)](),this[_0x15e8e2(0x1a3)]=null,this['_writeTarget']=null,this['_feedbackProgram']=null,this[_0x15e8e2(0x1ea)]=null,this['_quadBuffer']=null,this['gl']&&this[_0x15e8e2(0x1f9)](!0x0);}[_0x4c4728(0x1a7)](){const _0x310363=_0x4c4728;super[_0x310363(0x1a7)]?.(),this[_0x310363(0x1f1)]=this[_0x310363(0x222)]();const _0xc1fbf4=this['gl'],_0x2d7057=_0xc1fbf4?.[_0x310363(0x1ba)]||this[_0x310363(0x1c8)]||this[_0x310363(0x224)]?.[_0x310363(0x1c8)]||0x1,_0x2c9e06=_0xc1fbf4?.[_0x310363(0x188)]||this['height']||this[_0x310363(0x224)]?.[_0x310363(0x1ed)]||0x1;this[_0x310363(0x1d6)]=Math['max'](0x8,Math['floor'](_0x2d7057*this[_0x310363(0x1f1)])),this['_targetHeight']=Math[_0x310363(0x19a)](0x8,Math['floor'](_0x2c9e06*this['_targetScale'])),this['_resizeTargets'](!0x0);}[_0x4c4728(0x1cb)](){const _0xe1c785=_0x4c4728,_0x46a81c=this[_0xe1c785(0x224)]?.[_0xe1c785(0x21e)]||(_0xe1c785(0x1a9)!=typeof window?window:null);_0x46a81c&&(this[_0xe1c785(0x1f5)]=this['_boundHandlePointer']||this[_0xe1c785(0x1b4)][_0xe1c785(0x18b)](this),_0x46a81c[_0xe1c785(0x20f)](_0xe1c785(0x200),this[_0xe1c785(0x1f5)]),_0x46a81c[_0xe1c785(0x20f)](_0xe1c785(0x1a2),this[_0xe1c785(0x1f5)]),_0x46a81c[_0xe1c785(0x20f)]('click',this[_0xe1c785(0x1f5)]),this[_0xe1c785(0x1c1)]=()=>{const _0x50b402=_0xe1c785;_0x46a81c[_0x50b402(0x197)](_0x50b402(0x200),this['_boundHandlePointer']),_0x46a81c[_0x50b402(0x197)](_0x50b402(0x1a2),this['_boundHandlePointer']),_0x46a81c[_0x50b402(0x197)](_0x50b402(0x196),this[_0x50b402(0x1f5)]);});}[_0x4c4728(0x1b4)](_0x47dc73){const _0x18adec=_0x4c4728;if(!this[_0x18adec(0x224)])return;const _0x5544a1=this[_0x18adec(0x224)][_0x18adec(0x1b5)]();if(_0x47dc73[_0x18adec(0x214)]<_0x5544a1[_0x18adec(0x226)]||_0x47dc73[_0x18adec(0x214)]>_0x5544a1['right']||_0x47dc73[_0x18adec(0x1a1)]<_0x5544a1['top']||_0x47dc73[_0x18adec(0x1a1)]>_0x5544a1[_0x18adec(0x19b)])return;const _0x43e61c=_0x47dc73[_0x18adec(0x1d8)];if(_0x43e61c&&0x1===_0x43e61c[_0x18adec(0x1c2)]&&(_0x43e61c['closest'](_0x18adec(0x21c))||_0x43e61c[_0x18adec(0x20c)](_0x18adec(0x18c))))return;const _0x14c20a=_0x5544a1['width'],_0x5e9a19=_0x5544a1[_0x18adec(0x1ed)];if(!_0x14c20a||!_0x5e9a19)return;const _0x5ecba0=0x2*((_0x47dc73['clientX']-_0x5544a1[_0x18adec(0x226)])/_0x14c20a-0.5),_0x4b0077=0x2*(0.5-(_0x47dc73['clientY']-_0x5544a1[_0x18adec(0x20b)])/_0x5e9a19);this[_0x18adec(0x1fb)]={'x':this[_0x18adec(0x192)](_0x5ecba0,-0x1,0x1),'y':this[_0x18adec(0x192)](_0x4b0077,-0x1,0x1)},this[_0x18adec(0x198)]=_0x18adec(0x1a9)!=typeof performance?0.001*performance['now']():Date[_0x18adec(0x1e3)]()/0x3e8;}['onUpdate'](_0x10a479){const _0x216ba2=_0x4c4728;if(!_0x10a479)return;const _0x2ea693=this[_0x216ba2(0x192)](_0x10a479['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x188b3d=Number[_0x216ba2(0x1c7)](_0x2ea693)?_0x2ea693:0x1/0x3c,_0x4b430b=this['clamp'](1.5*(_0x10a479[_0x216ba2(0x220)]??_0x10a479[_0x216ba2(0x1fa)]??0x0),0x0,1.4);this['_state'][_0x216ba2(0x1cc)]=_0x4b430b,this['_updateVolumeHistory'](_0x4b430b);const _0x339eaf=this[_0x216ba2(0x1aa)][_0x216ba2(0x1b0)][_0x216ba2(0x1d3)]?this[_0x216ba2(0x1aa)][_0x216ba2(0x1f8)]/this[_0x216ba2(0x1aa)][_0x216ba2(0x1b0)][_0x216ba2(0x1d3)]:_0x4b430b,_0x203534=(_0x339eaf>0.001?(_0x4b430b-_0x339eaf)/_0x339eaf:0x0)>0.05?0x1:-0x1;_0x203534!==this['_verticalDirection']&&(this[_0x216ba2(0x1d0)]=_0x203534,this['_state'][_0x216ba2(0x1ab)]=0.5*_0x203534);const _0x58d370=this[_0x216ba2(0x192)](_0x10a479[_0x216ba2(0x1f0)]??0x0,0x0,0x1);Boolean(_0x10a479['isBeat'])&&_0x58d370>0.3&&this['_beatCooldown']<=0x0&&(this[_0x216ba2(0x215)]*=-0x1,this[_0x216ba2(0x215)]!==Math['sign'](this[_0x216ba2(0x213)]['flowXTarget']||0x0)&&(this[_0x216ba2(0x213)][_0x216ba2(0x1d1)]=0.5*this[_0x216ba2(0x215)]),this[_0x216ba2(0x203)]=0.22),this[_0x216ba2(0x203)]=Math[_0x216ba2(0x19a)](0x0,this['_beatCooldown']-_0x188b3d);const _0x5cff80=(_0x216ba2(0x1a9)!=typeof performance?0.001*performance['now']():Date[_0x216ba2(0x1e3)]()/0x3e8)-(this[_0x216ba2(0x198)]||0x0)<this[_0x216ba2(0x1d9)],_0x44b9b3=0x3c*_0x188b3d,_0x29f78a=0x1-Math['pow'](0.92,_0x44b9b3),_0x241d26=0x1-Math[_0x216ba2(0x1f4)](0.95,_0x44b9b3);_0x5cff80||(this[_0x216ba2(0x1fb)]['x']=this[_0x216ba2(0x1ef)](this['_pointerBias']['x'],0x0,_0x29f78a),this[_0x216ba2(0x1fb)]['y']=this[_0x216ba2(0x1ef)](this[_0x216ba2(0x1fb)]['y'],0x0,_0x29f78a));const _0x34251d=this[_0x216ba2(0x192)](this[_0x216ba2(0x213)][_0x216ba2(0x1d1)]+(_0x5cff80?this['_pointerBias']['x']:0x0),-0x1,0x1),_0x4d2397=this[_0x216ba2(0x192)](this[_0x216ba2(0x213)]['flowYTarget']+(_0x5cff80?this[_0x216ba2(0x1fb)]['y']:0x0),-0x1,0x1);this[_0x216ba2(0x213)]['flowX']=this['lerp'](this['_state'][_0x216ba2(0x1e2)],_0x34251d,_0x241d26),this[_0x216ba2(0x213)][_0x216ba2(0x1e5)]=this[_0x216ba2(0x1ef)](this[_0x216ba2(0x213)]['flowY'],_0x4d2397,_0x241d26);}['onRender'](){const _0x50301e=_0x4c4728,_0x4261ed=this['gl'];if(!_0x4261ed||!this[_0x50301e(0x224)])return;if(!this[_0x50301e(0x187)]||!this[_0x50301e(0x1ea)]||!this[_0x50301e(0x189)])try{this[_0x50301e(0x19f)](_0x4261ed),this[_0x50301e(0x1f9)](!0x0);}catch{return;}const _0x288d62='undefined'!=typeof performance?0.001*performance['now']():Date[_0x50301e(0x1e3)]()/0x3e8,_0x546dee=this[_0x50301e(0x1de)]?_0x288d62-this['_lastRenderAt']:0x1/0x3c,_0x453f11=this[_0x50301e(0x192)](_0x546dee,0x1/0xf0,0.2);this[_0x50301e(0x1de)]=_0x288d62,this[_0x50301e(0x211)]+=_0x453f11;const _0x52c596=_0x4261ed[_0x50301e(0x1ba)]||this['canvas']?.['width']||0x1,_0x1519ae=_0x4261ed['drawingBufferHeight']||this[_0x50301e(0x224)]?.[_0x50301e(0x1ed)]||0x1;if(_0x52c596<=0x0||_0x1519ae<=0x0)return;const _0x45c262=this[_0x50301e(0x1f1)]||0.8,_0x37b162=Math[_0x50301e(0x19a)](0x8,Math['floor'](_0x52c596*_0x45c262)),_0x3713b8=Math[_0x50301e(0x19a)](0x8,Math['floor'](_0x1519ae*_0x45c262));this[_0x50301e(0x1fd)](_0x37b162,_0x3713b8);const _0xab7c4a=this['_readTarget'],_0x1b3495=this['_writeTarget'];if(!_0xab7c4a||!_0x1b3495)return;_0x4261ed[_0x50301e(0x1c0)](0x0,0x0,_0x37b162,_0x3713b8),_0x4261ed[_0x50301e(0x19e)](_0x4261ed[_0x50301e(0x1eb)],_0x1b3495[_0x50301e(0x206)]),_0x4261ed[_0x50301e(0x1f6)](this['_feedbackProgram']),_0x2aecb8(_0x4261ed,this[_0x50301e(0x189)],this[_0x50301e(0x1df)]['aPosition']??0x0);const _0x1c9549=this[_0x50301e(0x1bc)][_0x50301e(0x21f)];if(_0x1c9549?.[_0x50301e(0x1b2)]&&_0x4261ed['uniform2f'](_0x1c9549[_0x50301e(0x1b2)],_0x37b162,_0x3713b8),_0x1c9549?.['uTime']&&_0x4261ed['uniform1f'](_0x1c9549[_0x50301e(0x1da)],this[_0x50301e(0x211)]),_0x1c9549?.[_0x50301e(0x1e7)]&&_0x4261ed[_0x50301e(0x202)](_0x1c9549[_0x50301e(0x1e7)],0.97),_0x1c9549?.['uWarpDir']&&_0x4261ed[_0x50301e(0x199)](_0x1c9549[_0x50301e(0x1f7)],this[_0x50301e(0x213)][_0x50301e(0x1e2)],this[_0x50301e(0x213)][_0x50301e(0x1e5)]),_0x1c9549?.[_0x50301e(0x185)]){const _0x29a92a=this[_0x50301e(0x210)]()[_0x50301e(0x1b7)]<0x384?1.4:0x1;_0x4261ed[_0x50301e(0x202)](_0x1c9549[_0x50301e(0x185)],_0x29a92a);}if(_0x1c9549?.[_0x50301e(0x18f)]){const _0x4b0c89=this[_0x50301e(0x210)]()[_0x50301e(0x1b7)]<0x384?2.5:0x1;_0x4261ed[_0x50301e(0x202)](_0x1c9549[_0x50301e(0x18f)],_0x4b0c89);}_0x1c9549?.['uPrev']&&(_0x4261ed[_0x50301e(0x1a5)](_0x4261ed[_0x50301e(0x194)]),_0x4261ed[_0x50301e(0x1e8)](_0x4261ed[_0x50301e(0x1ad)],_0xab7c4a[_0x50301e(0x1ca)]),_0x4261ed[_0x50301e(0x223)](_0x1c9549[_0x50301e(0x225)],0x0)),_0x1d6c73(_0x4261ed),_0x4261ed[_0x50301e(0x19e)](_0x4261ed[_0x50301e(0x1eb)],null),_0x4261ed[_0x50301e(0x1c0)](0x0,0x0,_0x52c596,_0x1519ae),_0x4261ed[_0x50301e(0x1f6)](this[_0x50301e(0x1ea)]);const _0x1e443b=this[_0x50301e(0x1bc)][_0x50301e(0x1ff)];_0x1e443b?.[_0x50301e(0x1ce)]&&(_0x4261ed[_0x50301e(0x1a5)](_0x4261ed['TEXTURE0']),_0x4261ed[_0x50301e(0x1e8)](_0x4261ed[_0x50301e(0x1ad)],_0x1b3495['texture']),_0x4261ed[_0x50301e(0x223)](_0x1e443b[_0x50301e(0x1ce)],0x0)),_0x1e443b?.[_0x50301e(0x1d5)]&&_0x4261ed[_0x50301e(0x202)](_0x1e443b[_0x50301e(0x1d5)],this[_0x50301e(0x213)]['lastVolume']||0x0),_0x1d6c73(_0x4261ed),this['_swapTargets']();}[_0x4c4728(0x193)](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}[_0x4c4728(0x222)](){const _0x3fb269=_0x4c4728,_0x47d41a=this[_0x3fb269(0x210)](),_0x107b6e=this[_0x3fb269(0x192)](0.06*(_0x47d41a[_0x3fb269(0x208)]??0x1),-0.06,0.1);return this[_0x3fb269(0x192)](0.88+_0x107b6e,0.65,0x1);}[_0x4c4728(0x19f)](_0x1febbb){const _0x146248=_0x4c4728;this['flushTrackedGLResources'](),this[_0x146248(0x187)]=this[_0x146248(0x1a4)](n,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this['_presentProgram']=this[_0x146248(0x1a4)](n,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this[_0x146248(0x1df)][_0x146248(0x1ae)]=_0x1febbb['getAttribLocation'](this['_feedbackProgram'],_0x146248(0x1ae)),(this[_0x146248(0x1df)][_0x146248(0x1ae)]??-0x1)<0x0&&(this['_attributes'][_0x146248(0x1ae)]=0x0),this[_0x146248(0x1bc)]['feedback']={'uResolution':_0x1febbb[_0x146248(0x219)](this[_0x146248(0x187)],_0x146248(0x190)),'uTime':_0x1febbb[_0x146248(0x219)](this[_0x146248(0x187)],'u_time'),'uPrev':_0x1febbb[_0x146248(0x219)](this[_0x146248(0x187)],_0x146248(0x20a)),'uFeedback':_0x1febbb['getUniformLocation'](this['_feedbackProgram'],_0x146248(0x1ee)),'uWarpDir':_0x1febbb['getUniformLocation'](this[_0x146248(0x187)],_0x146248(0x1d7)),'uZoom':_0x1febbb[_0x146248(0x219)](this[_0x146248(0x187)],'u_zoom'),'uWarpStrength':_0x1febbb['getUniformLocation'](this[_0x146248(0x187)],'u_warpStrength')},this[_0x146248(0x1bc)]['present']={'uScene':_0x1febbb[_0x146248(0x219)](this[_0x146248(0x1ea)],_0x146248(0x1db)),'uVolume':_0x1febbb[_0x146248(0x219)](this['_presentProgram'],_0x146248(0x18a))},this[_0x146248(0x189)]=_0x5606f9(_0x1febbb,{'autoDispose':this['autoDispose']['bind'](this)});}[_0x4c4728(0x1fd)](_0x44b4c0,_0x4d9e1d){const _0x3168b4=_0x4c4728;_0x44b4c0===this[_0x3168b4(0x1d6)]&&_0x4d9e1d===this[_0x3168b4(0x1c9)]&&this['_readTarget']&&this[_0x3168b4(0x1f3)]||(this['_targetWidth']=_0x44b4c0,this[_0x3168b4(0x1c9)]=_0x4d9e1d,this[_0x3168b4(0x1f9)](!0x0));}[_0x4c4728(0x1f9)](_0x5789c9=!0x1){const _0x11ce2b=_0x4c4728,_0x33d1a5=this['gl'];if(!_0x33d1a5)return;const _0x2bb96e=Math[_0x11ce2b(0x19a)](0x8,Math[_0x11ce2b(0x1af)](this[_0x11ce2b(0x1d6)]||_0x33d1a5['drawingBufferWidth']||0x1)),_0x5b3c35=Math[_0x11ce2b(0x19a)](0x8,Math[_0x11ce2b(0x1af)](this[_0x11ce2b(0x1c9)]||_0x33d1a5[_0x11ce2b(0x188)]||0x1));!_0x5789c9&&this['_readTarget']&&this[_0x11ce2b(0x1f3)]||(this[_0x11ce2b(0x20d)](this[_0x11ce2b(0x1a3)]),this[_0x11ce2b(0x20d)](this[_0x11ce2b(0x1f3)]),this[_0x11ce2b(0x1a3)]=this[_0x11ce2b(0x1bb)](_0x33d1a5,_0x2bb96e,_0x5b3c35),this[_0x11ce2b(0x1f3)]=this['_createTarget'](_0x33d1a5,_0x2bb96e,_0x5b3c35));}[_0x4c4728(0x1bb)](_0x515c7f,_0x1c12e5,_0x1f7979){const _0x1fda1f=_0x4c4728,_0x5d938f=_0x515c7f[_0x1fda1f(0x21b)](),_0x56d087=_0x515c7f['createFramebuffer']();if(!_0x5d938f||!_0x56d087)throw new Error('Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove');this[_0x1fda1f(0x1fc)](_0x5d938f,(_0x149c70,_0x5aed78)=>_0x149c70['deleteTexture'](_0x5aed78)),this[_0x1fda1f(0x1fc)](_0x56d087,(_0x27de97,_0x21bee)=>_0x27de97[_0x1fda1f(0x1b3)](_0x21bee)),_0x515c7f[_0x1fda1f(0x1e8)](_0x515c7f[_0x1fda1f(0x1ad)],_0x5d938f),_0x515c7f[_0x1fda1f(0x1be)](_0x515c7f[_0x1fda1f(0x1ad)],0x0,_0x515c7f['RGBA'],_0x1c12e5,_0x1f7979,0x0,_0x515c7f['RGBA'],_0x515c7f['UNSIGNED_BYTE'],null),_0x515c7f['texParameteri'](_0x515c7f[_0x1fda1f(0x1ad)],_0x515c7f[_0x1fda1f(0x1b6)],_0x515c7f[_0x1fda1f(0x1c4)]),_0x515c7f[_0x1fda1f(0x19d)](_0x515c7f[_0x1fda1f(0x1ad)],_0x515c7f[_0x1fda1f(0x1ec)],_0x515c7f[_0x1fda1f(0x1c4)]),_0x515c7f[_0x1fda1f(0x19d)](_0x515c7f[_0x1fda1f(0x1ad)],_0x515c7f['TEXTURE_WRAP_S'],_0x515c7f[_0x1fda1f(0x209)]),_0x515c7f[_0x1fda1f(0x19d)](_0x515c7f[_0x1fda1f(0x1ad)],_0x515c7f[_0x1fda1f(0x21d)],_0x515c7f[_0x1fda1f(0x209)]),_0x515c7f['bindFramebuffer'](_0x515c7f[_0x1fda1f(0x1eb)],_0x56d087),_0x515c7f['framebufferTexture2D'](_0x515c7f[_0x1fda1f(0x1eb)],_0x515c7f[_0x1fda1f(0x201)],_0x515c7f[_0x1fda1f(0x1ad)],_0x5d938f,0x0);if(_0x515c7f[_0x1fda1f(0x186)](_0x515c7f[_0x1fda1f(0x1eb)])!==_0x515c7f[_0x1fda1f(0x1a0)])throw _0x515c7f['bindFramebuffer'](_0x515c7f[_0x1fda1f(0x1eb)],null),_0x515c7f[_0x1fda1f(0x1e8)](_0x515c7f['TEXTURE_2D'],null),new Error(_0x1fda1f(0x1bd));return _0x515c7f['bindFramebuffer'](_0x515c7f[_0x1fda1f(0x1eb)],null),_0x515c7f[_0x1fda1f(0x1e8)](_0x515c7f['TEXTURE_2D'],null),{'texture':_0x5d938f,'fbo':_0x56d087,'width':_0x1c12e5,'height':_0x1f7979};}[_0x4c4728(0x20d)](_0x1de196){const _0x472707=_0x4c4728;_0x1de196&&(this['releaseGLResource'](_0x1de196[_0x472707(0x1ca)]),this[_0x472707(0x195)](_0x1de196[_0x472707(0x206)]));}['_swapTargets'](){const _0x55716e=_0x4c4728,_0xc37cf4=this[_0x55716e(0x1a3)];this['_readTarget']=this[_0x55716e(0x1f3)],this[_0x55716e(0x1f3)]=_0xc37cf4;}[_0x4c4728(0x18d)](_0x2ef061){const _0x8d8578=_0x4c4728,_0x6e7696=this[_0x8d8578(0x1aa)];if(_0x6e7696['values'][_0x8d8578(0x212)](_0x2ef061),_0x6e7696[_0x8d8578(0x1f8)]+=_0x2ef061,_0x6e7696[_0x8d8578(0x1b0)]['length']>_0x6e7696[_0x8d8578(0x19a)]){const _0x34ee6a=_0x6e7696[_0x8d8578(0x1b0)][_0x8d8578(0x1dc)]();_0x6e7696[_0x8d8578(0x1f8)]-=_0x34ee6a??0x0;}}}_0x26c0b2(_0x4c4728(0x1cf),a,{'meta':a[_0x4c4728(0x1d4)]});
