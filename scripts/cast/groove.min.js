const _0x48fa68=_0x381d;(function(_0xb82d28,_0x2ab90b){const _0x24b0b9=_0x381d,_0x539e84=_0xb82d28();while(!![]){try{const _0x5b709c=parseInt(_0x24b0b9(0x21d))/0x1*(parseInt(_0x24b0b9(0x20f))/0x2)+-parseInt(_0x24b0b9(0x221))/0x3*(-parseInt(_0x24b0b9(0x20d))/0x4)+-parseInt(_0x24b0b9(0x234))/0x5*(-parseInt(_0x24b0b9(0x23b))/0x6)+parseInt(_0x24b0b9(0x1e9))/0x7+-parseInt(_0x24b0b9(0x1e1))/0x8+parseInt(_0x24b0b9(0x1f9))/0x9*(-parseInt(_0x24b0b9(0x1cf))/0xa)+-parseInt(_0x24b0b9(0x228))/0xb*(parseInt(_0x24b0b9(0x1bc))/0xc);if(_0x5b709c===_0x2ab90b)break;else _0x539e84['push'](_0x539e84['shift']());}catch(_0x46b6b5){_0x539e84['push'](_0x539e84['shift']());}}}(_0x12b7,0x559f2));import{W as _0x118769,V as _0x35f5d4,r as _0x3fd8dc}from'./receiver.min.js';import{b as _0x4b8a65,d as _0x338086,c as _0x4effb0}from'./fullscreen-quad.min.js';function _0x381d(_0x36c40f,_0x2083d5){const _0x12b74e=_0x12b7();return _0x381d=function(_0x381d9c,_0xaed3db){_0x381d9c=_0x381d9c-0x1ab;let _0x15dbba=_0x12b74e[_0x381d9c];return _0x15dbba;},_0x381d(_0x36c40f,_0x2083d5);}var n=_0x48fa68(0x220);function _0x12b7(){const _0x38bd24=['_volumeHistory','TEXTURE_WRAP_S','bindFramebuffer','23fqfpnX','bind','clientY','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','4596RrlWNB','checkFramebufferStatus','COLOR_ATTACHMENT0','_handlePointer','FRAMEBUFFER','_updateVolumeHistory','uZoom','583PgUkAR','u_warpStrength','autoDispose','undefined','_boundHandlePointer','_targetScale','flowYTarget','_uniforms','closest','_pointerIdleSeconds','aPosition','ENERGY','5zobery','clamp','now','_ensureTargets','viewport','_state','createTexture','3112752DmeqRh','_flowDirection','meta','CULL_FACE','createFramebuffer','getUniformLocation','sum','uWarpDir','canvas','framebufferTexture2D','TEXTURE_MIN_FILTER','uVolume','_createTarget','CLAMP_TO_EDGE','clientX','_pointerBias','_audioTime','addEventListener','parentElement','useProgram','uTime','FRAMEBUFFER_COMPLETE','init','floor','uniform1f','shift','114096tUekrU','TEMPO','GROOVY','LINEAR','.footer-bar','_setupInteractions','disable','uniform2f','STENCIL_TEST','_destroyTarget','present','rmsTime','flushTrackedGLResources','_attributes','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','TEXTURE_2D','_presentProgram','_pointerLastAt','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','2710rOabDd','pointerdown','texParameteri','u_resolution','deleteTexture','_resizeTargets','uScene','removeEventListener','DEPTH_TEST','right','TEXTURE_WRAP_T','densityScale','width','getViewportProfile','_beatCooldown','_verticalDirection','lastVolume','top','4086424CezZiF','INTERACTIVE','length','drawingBufferWidth','_pointerUnsub','isFinite','left','values','544691aJNKny','_targetHeight','drawingBufferHeight','_writeTarget','POPULAR','_readTarget','createProgram','bindTexture','pow','fbo','_feedbackProgram','_swapTargets','uWarpStrength','texture','click','RGBA','3609vLPxlw','Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','TECH','TEXTURE0','destroy','uPrev','height','_computeTargetScale','activeTexture','_quadBuffer','uResolution','MID','TEXTURE_MAG_FILTER','vvavy','_lastRenderAt','deleteFramebuffer','flowY','_targetWidth','beatConfidence','_buildResources','1532mQUMyg','_createDefaultState','25282jAMiIY','uniform1i','flowXTarget','flowX','[data-role=\x22cast-overlay\x22]','nodeType','max','GEOMETRY','STATUS','uFeedback','lerp'];_0x12b7=function(){return _0x38bd24;};return _0x12b7();}class a extends _0x118769{static [_0x48fa68(0x23d)]={'savedAt':0x19c5969cbe3,'createdBy':_0x48fa68(0x206),'description':_0x48fa68(0x1fa),'tags':[_0x35f5d4['TECH'][_0x48fa68(0x216)],_0x35f5d4['VIBE']['TRIPPY'],_0x35f5d4[_0x48fa68(0x233)][_0x48fa68(0x204)],_0x35f5d4[_0x48fa68(0x1bd)][_0x48fa68(0x1be)],_0x35f5d4[_0x48fa68(0x1fb)]['HD'],_0x35f5d4[_0x48fa68(0x1fb)][_0x48fa68(0x1e2)],_0x35f5d4[_0x48fa68(0x217)][_0x48fa68(0x1ed)]]};constructor(_0x315bcd){const _0x287c2a=_0x48fa68;super({..._0x315bcd,'config':{..._0x315bcd?.['config']??{},'backgroundColor':'#000000'}}),this[_0x287c2a(0x1f3)]=null,this[_0x287c2a(0x1cc)]=null,this[_0x287c2a(0x22f)]={'feedback':null,'present':null},this[_0x287c2a(0x1c9)]={'aPosition':0x0},this['_quadBuffer']=null,this[_0x287c2a(0x1ee)]=null,this[_0x287c2a(0x1ec)]=null,this[_0x287c2a(0x20a)]=0x0,this[_0x287c2a(0x1ea)]=0x0,this['_targetScale']=0.8,this[_0x287c2a(0x207)]=null,this[_0x287c2a(0x1b2)]=0x0,this['_beatCooldown']=0x0,this[_0x287c2a(0x23c)]=0x1,this[_0x287c2a(0x1de)]=0x0,this[_0x287c2a(0x21a)]={'values':[],'sum':0x0,'max':0x3c},this[_0x287c2a(0x1b1)]={'x':0x0,'y':0x0},this[_0x287c2a(0x1cd)]=0x0,this[_0x287c2a(0x231)]=0.6,this[_0x287c2a(0x1e5)]=null,this[_0x287c2a(0x239)]=this[_0x287c2a(0x20e)]();}[_0x48fa68(0x1b8)](){const _0x504ce=_0x48fa68,_0xc9d3ea=this['gl'];if(!_0xc9d3ea)return;_0xc9d3ea[_0x504ce(0x1c2)](_0xc9d3ea[_0x504ce(0x1d7)]),_0xc9d3ea['disable'](_0xc9d3ea[_0x504ce(0x23e)]),_0xc9d3ea['disable'](_0xc9d3ea[_0x504ce(0x1c4)]),_0xc9d3ea['blendFunc'](_0xc9d3ea['ONE'],_0xc9d3ea['ZERO']),this['_buildResources'](_0xc9d3ea),this['_targetScale']=this[_0x504ce(0x200)]();const _0x3a780a=_0xc9d3ea[_0x504ce(0x1e4)]||this['width']||this[_0x504ce(0x243)]?.[_0x504ce(0x1db)]||0x1,_0x3ef30b=_0xc9d3ea[_0x504ce(0x1eb)]||this[_0x504ce(0x1ff)]||this[_0x504ce(0x243)]?.['height']||0x1;this[_0x504ce(0x20a)]=Math[_0x504ce(0x215)](0x8,Math[_0x504ce(0x1b9)](_0x3a780a*this[_0x504ce(0x22d)])),this['_targetHeight']=Math[_0x504ce(0x215)](0x8,Math[_0x504ce(0x1b9)](_0x3ef30b*this[_0x504ce(0x22d)])),this[_0x504ce(0x1d4)](!0x0),this[_0x504ce(0x1b2)]=0x0,this[_0x504ce(0x207)]=null,this['_setupInteractions']();}[_0x48fa68(0x1fd)](){const _0x153d8d=_0x48fa68;this[_0x153d8d(0x1c8)](),this['_pointerUnsub']?.(),this[_0x153d8d(0x1e5)]=null,this[_0x153d8d(0x1ec)]=null,super[_0x153d8d(0x1fd)]();}['resetState'](){const _0x3db5ac=_0x48fa68;this[_0x3db5ac(0x1b2)]=0x0,this['_lastRenderAt']=null,this['_beatCooldown']=0x0,this[_0x3db5ac(0x23c)]=0x1,this['_verticalDirection']=0x0,this[_0x3db5ac(0x21a)]={'values':[],'sum':0x0,'max':0x3c},this['_pointerBias']={'x':0x0,'y':0x0},this['_pointerLastAt']=0x0,this['_state']=this[_0x3db5ac(0x20e)](),this[_0x3db5ac(0x1c8)](),this[_0x3db5ac(0x1ee)]=null,this['_writeTarget']=null,this[_0x3db5ac(0x1f3)]=null,this[_0x3db5ac(0x1cc)]=null,this[_0x3db5ac(0x202)]=null,this['gl']&&this[_0x3db5ac(0x1d4)](!0x0);}['onResize'](){const _0x7bcf8b=_0x48fa68;super['onResize']?.(),this['_targetScale']=this[_0x7bcf8b(0x200)]();const _0x15255b=this['gl'],_0xc755e8=_0x15255b?.['drawingBufferWidth']||this[_0x7bcf8b(0x1db)]||this[_0x7bcf8b(0x243)]?.[_0x7bcf8b(0x1db)]||0x1,_0x5656f6=_0x15255b?.['drawingBufferHeight']||this[_0x7bcf8b(0x1ff)]||this[_0x7bcf8b(0x243)]?.[_0x7bcf8b(0x1ff)]||0x1;this['_targetWidth']=Math[_0x7bcf8b(0x215)](0x8,Math['floor'](_0xc755e8*this['_targetScale'])),this[_0x7bcf8b(0x1ea)]=Math[_0x7bcf8b(0x215)](0x8,Math[_0x7bcf8b(0x1b9)](_0x5656f6*this[_0x7bcf8b(0x22d)])),this[_0x7bcf8b(0x1d4)](!0x0);}[_0x48fa68(0x1c1)](){const _0x361d13=_0x48fa68,_0x26f708=this[_0x361d13(0x243)]?.[_0x361d13(0x1b4)]||(_0x361d13(0x22b)!=typeof window?window:null);_0x26f708&&(this[_0x361d13(0x22c)]=this[_0x361d13(0x22c)]||this[_0x361d13(0x224)][_0x361d13(0x21e)](this),_0x26f708[_0x361d13(0x1b3)]('pointermove',this[_0x361d13(0x22c)]),_0x26f708['addEventListener'](_0x361d13(0x1d0),this[_0x361d13(0x22c)]),_0x26f708[_0x361d13(0x1b3)](_0x361d13(0x1f7),this[_0x361d13(0x22c)]),this[_0x361d13(0x1e5)]=()=>{const _0x46efba=_0x361d13;_0x26f708[_0x46efba(0x1d6)]('pointermove',this[_0x46efba(0x22c)]),_0x26f708['removeEventListener'](_0x46efba(0x1d0),this['_boundHandlePointer']),_0x26f708['removeEventListener'](_0x46efba(0x1f7),this[_0x46efba(0x22c)]);});}[_0x48fa68(0x224)](_0x2f0a98){const _0x58db59=_0x48fa68;if(!this[_0x58db59(0x243)])return;const _0x34b793=this[_0x58db59(0x243)]['getBoundingClientRect']();if(_0x2f0a98['clientX']<_0x34b793['left']||_0x2f0a98[_0x58db59(0x1b0)]>_0x34b793[_0x58db59(0x1d8)]||_0x2f0a98['clientY']<_0x34b793[_0x58db59(0x1e0)]||_0x2f0a98['clientY']>_0x34b793['bottom'])return;const _0x34cd45=_0x2f0a98['target'];if(_0x34cd45&&0x1===_0x34cd45[_0x58db59(0x214)]&&(_0x34cd45[_0x58db59(0x230)](_0x58db59(0x1c0))||_0x34cd45[_0x58db59(0x230)](_0x58db59(0x213))))return;const _0x4b008e=_0x34b793[_0x58db59(0x1db)],_0x1aaaf7=_0x34b793[_0x58db59(0x1ff)];if(!_0x4b008e||!_0x1aaaf7)return;const _0x3b22b0=0x2*((_0x2f0a98[_0x58db59(0x1b0)]-_0x34b793[_0x58db59(0x1e7)])/_0x4b008e-0.5),_0x6dda44=0x2*(0.5-(_0x2f0a98[_0x58db59(0x21f)]-_0x34b793['top'])/_0x1aaaf7);this['_pointerBias']={'x':this[_0x58db59(0x235)](_0x3b22b0,-0x1,0x1),'y':this['clamp'](_0x6dda44,-0x1,0x1)},this[_0x58db59(0x1cd)]='undefined'!=typeof performance?0.001*performance[_0x58db59(0x236)]():Date['now']()/0x3e8;}['onUpdate'](_0x109970){const _0x3e6a4d=_0x48fa68;if(!_0x109970)return;const _0x2f5c8d=this[_0x3e6a4d(0x235)](_0x109970['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x5f44d=Number[_0x3e6a4d(0x1e6)](_0x2f5c8d)?_0x2f5c8d:0x1/0x3c,_0x1402e0=this[_0x3e6a4d(0x235)](1.5*(_0x109970['overallEnergy']??_0x109970[_0x3e6a4d(0x1c7)]??0x0),0x0,1.4);this[_0x3e6a4d(0x239)][_0x3e6a4d(0x1df)]=_0x1402e0,this[_0x3e6a4d(0x226)](_0x1402e0);const _0x85054a=this[_0x3e6a4d(0x21a)][_0x3e6a4d(0x1e8)][_0x3e6a4d(0x1e3)]?this[_0x3e6a4d(0x21a)]['sum']/this[_0x3e6a4d(0x21a)][_0x3e6a4d(0x1e8)][_0x3e6a4d(0x1e3)]:_0x1402e0,_0x36466e=(_0x85054a>0.001?(_0x1402e0-_0x85054a)/_0x85054a:0x0)>0.05?0x1:-0x1;_0x36466e!==this[_0x3e6a4d(0x1de)]&&(this[_0x3e6a4d(0x1de)]=_0x36466e,this['_state'][_0x3e6a4d(0x22e)]=0.5*_0x36466e);const _0x3dde32=this[_0x3e6a4d(0x235)](_0x109970[_0x3e6a4d(0x20b)]??0x0,0x0,0x1);Boolean(_0x109970['isBeat'])&&_0x3dde32>0.3&&this['_beatCooldown']<=0x0&&(this[_0x3e6a4d(0x23c)]*=-0x1,this[_0x3e6a4d(0x23c)]!==Math['sign'](this[_0x3e6a4d(0x239)][_0x3e6a4d(0x211)]||0x0)&&(this[_0x3e6a4d(0x239)][_0x3e6a4d(0x211)]=0.5*this['_flowDirection']),this['_beatCooldown']=0.22),this['_beatCooldown']=Math[_0x3e6a4d(0x215)](0x0,this[_0x3e6a4d(0x1dd)]-_0x5f44d);const _0x18fa99=(_0x3e6a4d(0x22b)!=typeof performance?0.001*performance[_0x3e6a4d(0x236)]():Date[_0x3e6a4d(0x236)]()/0x3e8)-(this[_0x3e6a4d(0x1cd)]||0x0)<this[_0x3e6a4d(0x231)],_0x7e060b=0x3c*_0x5f44d,_0x366176=0x1-Math[_0x3e6a4d(0x1f1)](0.92,_0x7e060b),_0x4325e7=0x1-Math[_0x3e6a4d(0x1f1)](0.95,_0x7e060b);_0x18fa99||(this[_0x3e6a4d(0x1b1)]['x']=this[_0x3e6a4d(0x219)](this[_0x3e6a4d(0x1b1)]['x'],0x0,_0x366176),this[_0x3e6a4d(0x1b1)]['y']=this[_0x3e6a4d(0x219)](this['_pointerBias']['y'],0x0,_0x366176));const _0x99005=this[_0x3e6a4d(0x235)](this['_state'][_0x3e6a4d(0x211)]+(_0x18fa99?this[_0x3e6a4d(0x1b1)]['x']:0x0),-0x1,0x1),_0x53a281=this[_0x3e6a4d(0x235)](this[_0x3e6a4d(0x239)][_0x3e6a4d(0x22e)]+(_0x18fa99?this['_pointerBias']['y']:0x0),-0x1,0x1);this['_state'][_0x3e6a4d(0x212)]=this[_0x3e6a4d(0x219)](this['_state']['flowX'],_0x99005,_0x4325e7),this[_0x3e6a4d(0x239)]['flowY']=this[_0x3e6a4d(0x219)](this[_0x3e6a4d(0x239)][_0x3e6a4d(0x209)],_0x53a281,_0x4325e7);}['onRender'](){const _0x4ab8ee=_0x48fa68,_0x2aace7=this['gl'];if(!_0x2aace7||!this[_0x4ab8ee(0x243)])return;if(!this[_0x4ab8ee(0x1f3)]||!this[_0x4ab8ee(0x1cc)]||!this['_quadBuffer'])try{this[_0x4ab8ee(0x20c)](_0x2aace7),this[_0x4ab8ee(0x1d4)](!0x0);}catch{return;}const _0x4134b5=_0x4ab8ee(0x22b)!=typeof performance?0.001*performance[_0x4ab8ee(0x236)]():Date['now']()/0x3e8,_0x4f68e8=this[_0x4ab8ee(0x207)]?_0x4134b5-this[_0x4ab8ee(0x207)]:0x1/0x3c,_0x32308b=this['clamp'](_0x4f68e8,0x1/0xf0,0.2);this[_0x4ab8ee(0x207)]=_0x4134b5,this['_audioTime']+=_0x32308b;const _0x552355=_0x2aace7[_0x4ab8ee(0x1e4)]||this[_0x4ab8ee(0x243)]?.[_0x4ab8ee(0x1db)]||0x1,_0x549dec=_0x2aace7['drawingBufferHeight']||this[_0x4ab8ee(0x243)]?.['height']||0x1;if(_0x552355<=0x0||_0x549dec<=0x0)return;const _0x346488=this[_0x4ab8ee(0x22d)]||0.8,_0x5606d5=Math[_0x4ab8ee(0x215)](0x8,Math['floor'](_0x552355*_0x346488)),_0xf8ea8c=Math[_0x4ab8ee(0x215)](0x8,Math[_0x4ab8ee(0x1b9)](_0x549dec*_0x346488));this[_0x4ab8ee(0x237)](_0x5606d5,_0xf8ea8c);const _0x502146=this[_0x4ab8ee(0x1ee)],_0x540b20=this[_0x4ab8ee(0x1ec)];if(!_0x502146||!_0x540b20)return;_0x2aace7[_0x4ab8ee(0x238)](0x0,0x0,_0x5606d5,_0xf8ea8c),_0x2aace7[_0x4ab8ee(0x21c)](_0x2aace7[_0x4ab8ee(0x225)],_0x540b20[_0x4ab8ee(0x1f2)]),_0x2aace7[_0x4ab8ee(0x1b5)](this[_0x4ab8ee(0x1f3)]),_0x4b8a65(_0x2aace7,this['_quadBuffer'],this['_attributes'][_0x4ab8ee(0x232)]??0x0);const _0x22c4c4=this[_0x4ab8ee(0x22f)]['feedback'];if(_0x22c4c4?.['uResolution']&&_0x2aace7[_0x4ab8ee(0x1c3)](_0x22c4c4[_0x4ab8ee(0x203)],_0x5606d5,_0xf8ea8c),_0x22c4c4?.['uTime']&&_0x2aace7[_0x4ab8ee(0x1ba)](_0x22c4c4[_0x4ab8ee(0x1b6)],this[_0x4ab8ee(0x1b2)]),_0x22c4c4?.[_0x4ab8ee(0x218)]&&_0x2aace7[_0x4ab8ee(0x1ba)](_0x22c4c4[_0x4ab8ee(0x218)],0.97),_0x22c4c4?.[_0x4ab8ee(0x242)]&&_0x2aace7[_0x4ab8ee(0x1c3)](_0x22c4c4['uWarpDir'],this['_state']['flowX'],this[_0x4ab8ee(0x239)]['flowY']),_0x22c4c4?.[_0x4ab8ee(0x227)]){const _0x2eb698=this[_0x4ab8ee(0x1dc)]()['shortEdge']<0x384?1.4:0x1;_0x2aace7[_0x4ab8ee(0x1ba)](_0x22c4c4[_0x4ab8ee(0x227)],_0x2eb698);}if(_0x22c4c4?.[_0x4ab8ee(0x1f5)]){const _0x2a1f3e=this[_0x4ab8ee(0x1dc)]()['shortEdge']<0x384?2.5:0x1;_0x2aace7[_0x4ab8ee(0x1ba)](_0x22c4c4['uWarpStrength'],_0x2a1f3e);}_0x22c4c4?.[_0x4ab8ee(0x1fe)]&&(_0x2aace7[_0x4ab8ee(0x201)](_0x2aace7[_0x4ab8ee(0x1fc)]),_0x2aace7[_0x4ab8ee(0x1f0)](_0x2aace7['TEXTURE_2D'],_0x502146[_0x4ab8ee(0x1f6)]),_0x2aace7[_0x4ab8ee(0x210)](_0x22c4c4[_0x4ab8ee(0x1fe)],0x0)),_0x338086(_0x2aace7),_0x2aace7['bindFramebuffer'](_0x2aace7[_0x4ab8ee(0x225)],null),_0x2aace7['viewport'](0x0,0x0,_0x552355,_0x549dec),_0x2aace7[_0x4ab8ee(0x1b5)](this[_0x4ab8ee(0x1cc)]);const _0x4a3cc5=this['_uniforms']['present'];_0x4a3cc5?.['uScene']&&(_0x2aace7[_0x4ab8ee(0x201)](_0x2aace7[_0x4ab8ee(0x1fc)]),_0x2aace7[_0x4ab8ee(0x1f0)](_0x2aace7[_0x4ab8ee(0x1cb)],_0x540b20['texture']),_0x2aace7[_0x4ab8ee(0x210)](_0x4a3cc5[_0x4ab8ee(0x1d5)],0x0)),_0x4a3cc5?.[_0x4ab8ee(0x1ad)]&&_0x2aace7[_0x4ab8ee(0x1ba)](_0x4a3cc5[_0x4ab8ee(0x1ad)],this[_0x4ab8ee(0x239)]['lastVolume']||0x0),_0x338086(_0x2aace7),this[_0x4ab8ee(0x1f4)]();}[_0x48fa68(0x20e)](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}[_0x48fa68(0x200)](){const _0x1475b4=_0x48fa68,_0x177f9d=this[_0x1475b4(0x1dc)](),_0x37e5ff=this['clamp'](0.06*(_0x177f9d[_0x1475b4(0x1da)]??0x1),-0.06,0.1);return this[_0x1475b4(0x235)](0.88+_0x37e5ff,0.65,0x1);}[_0x48fa68(0x20c)](_0x40dc47){const _0x449b77=_0x48fa68;this[_0x449b77(0x1c8)](),this[_0x449b77(0x1f3)]=this[_0x449b77(0x1ef)](n,_0x449b77(0x1ce),{'aPosition':0x0}),this[_0x449b77(0x1cc)]=this[_0x449b77(0x1ef)](n,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this['_attributes'][_0x449b77(0x232)]=_0x40dc47['getAttribLocation'](this[_0x449b77(0x1f3)],'aPosition'),(this[_0x449b77(0x1c9)][_0x449b77(0x232)]??-0x1)<0x0&&(this[_0x449b77(0x1c9)][_0x449b77(0x232)]=0x0),this[_0x449b77(0x22f)]['feedback']={'uResolution':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1f3)],_0x449b77(0x1d2)),'uTime':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1f3)],'u_time'),'uPrev':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1f3)],'u_buffer'),'uFeedback':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1f3)],'u_feedback'),'uWarpDir':_0x40dc47[_0x449b77(0x240)](this['_feedbackProgram'],'u_warpDirection'),'uZoom':_0x40dc47[_0x449b77(0x240)](this['_feedbackProgram'],'u_zoom'),'uWarpStrength':_0x40dc47['getUniformLocation'](this[_0x449b77(0x1f3)],_0x449b77(0x229))},this[_0x449b77(0x22f)][_0x449b77(0x1c6)]={'uScene':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1cc)],'u_scene'),'uVolume':_0x40dc47[_0x449b77(0x240)](this[_0x449b77(0x1cc)],'u_volume')},this[_0x449b77(0x202)]=_0x4effb0(_0x40dc47,{'autoDispose':this[_0x449b77(0x22a)][_0x449b77(0x21e)](this)});}[_0x48fa68(0x237)](_0x3c84e8,_0x2b080d){const _0x310ed9=_0x48fa68;_0x3c84e8===this[_0x310ed9(0x20a)]&&_0x2b080d===this[_0x310ed9(0x1ea)]&&this['_readTarget']&&this['_writeTarget']||(this[_0x310ed9(0x20a)]=_0x3c84e8,this[_0x310ed9(0x1ea)]=_0x2b080d,this[_0x310ed9(0x1d4)](!0x0));}['_resizeTargets'](_0x435cd3=!0x1){const _0x4136e0=_0x48fa68,_0x3a17f3=this['gl'];if(!_0x3a17f3)return;const _0x4b58b5=Math[_0x4136e0(0x215)](0x8,Math[_0x4136e0(0x1b9)](this[_0x4136e0(0x20a)]||_0x3a17f3[_0x4136e0(0x1e4)]||0x1)),_0x2ca764=Math[_0x4136e0(0x215)](0x8,Math[_0x4136e0(0x1b9)](this[_0x4136e0(0x1ea)]||_0x3a17f3[_0x4136e0(0x1eb)]||0x1));!_0x435cd3&&this[_0x4136e0(0x1ee)]&&this[_0x4136e0(0x1ec)]||(this[_0x4136e0(0x1c5)](this[_0x4136e0(0x1ee)]),this['_destroyTarget'](this[_0x4136e0(0x1ec)]),this['_readTarget']=this[_0x4136e0(0x1ae)](_0x3a17f3,_0x4b58b5,_0x2ca764),this[_0x4136e0(0x1ec)]=this['_createTarget'](_0x3a17f3,_0x4b58b5,_0x2ca764));}[_0x48fa68(0x1ae)](_0x2a96e1,_0x586e91,_0x4828dd){const _0x2389be=_0x48fa68,_0x48a4ed=_0x2a96e1[_0x2389be(0x23a)](),_0x46b24c=_0x2a96e1[_0x2389be(0x23f)]();if(!_0x48a4ed||!_0x46b24c)throw new Error(_0x2389be(0x1ca));this['autoDispose'](_0x48a4ed,(_0x3358f7,_0xe0ce53)=>_0x3358f7[_0x2389be(0x1d3)](_0xe0ce53)),this['autoDispose'](_0x46b24c,(_0x527647,_0x3f8df3)=>_0x527647[_0x2389be(0x208)](_0x3f8df3)),_0x2a96e1['bindTexture'](_0x2a96e1[_0x2389be(0x1cb)],_0x48a4ed),_0x2a96e1['texImage2D'](_0x2a96e1[_0x2389be(0x1cb)],0x0,_0x2a96e1[_0x2389be(0x1f8)],_0x586e91,_0x4828dd,0x0,_0x2a96e1[_0x2389be(0x1f8)],_0x2a96e1['UNSIGNED_BYTE'],null),_0x2a96e1[_0x2389be(0x1d1)](_0x2a96e1[_0x2389be(0x1cb)],_0x2a96e1[_0x2389be(0x1ac)],_0x2a96e1[_0x2389be(0x1bf)]),_0x2a96e1['texParameteri'](_0x2a96e1[_0x2389be(0x1cb)],_0x2a96e1[_0x2389be(0x205)],_0x2a96e1[_0x2389be(0x1bf)]),_0x2a96e1[_0x2389be(0x1d1)](_0x2a96e1[_0x2389be(0x1cb)],_0x2a96e1[_0x2389be(0x21b)],_0x2a96e1['CLAMP_TO_EDGE']),_0x2a96e1[_0x2389be(0x1d1)](_0x2a96e1[_0x2389be(0x1cb)],_0x2a96e1[_0x2389be(0x1d9)],_0x2a96e1[_0x2389be(0x1af)]),_0x2a96e1[_0x2389be(0x21c)](_0x2a96e1['FRAMEBUFFER'],_0x46b24c),_0x2a96e1[_0x2389be(0x1ab)](_0x2a96e1[_0x2389be(0x225)],_0x2a96e1[_0x2389be(0x223)],_0x2a96e1[_0x2389be(0x1cb)],_0x48a4ed,0x0);if(_0x2a96e1[_0x2389be(0x222)](_0x2a96e1[_0x2389be(0x225)])!==_0x2a96e1[_0x2389be(0x1b7)])throw _0x2a96e1[_0x2389be(0x21c)](_0x2a96e1[_0x2389be(0x225)],null),_0x2a96e1[_0x2389be(0x1f0)](_0x2a96e1['TEXTURE_2D'],null),new Error('Framebuffer\x20incomplete\x20for\x20groove');return _0x2a96e1[_0x2389be(0x21c)](_0x2a96e1['FRAMEBUFFER'],null),_0x2a96e1[_0x2389be(0x1f0)](_0x2a96e1['TEXTURE_2D'],null),{'texture':_0x48a4ed,'fbo':_0x46b24c,'width':_0x586e91,'height':_0x4828dd};}['_destroyTarget'](_0x2a9623){const _0x5f05f1=_0x48fa68;_0x2a9623&&(this['releaseGLResource'](_0x2a9623[_0x5f05f1(0x1f6)]),this['releaseGLResource'](_0x2a9623[_0x5f05f1(0x1f2)]));}[_0x48fa68(0x1f4)](){const _0x36deab=_0x48fa68,_0x2e130c=this[_0x36deab(0x1ee)];this['_readTarget']=this[_0x36deab(0x1ec)],this['_writeTarget']=_0x2e130c;}[_0x48fa68(0x226)](_0x314060){const _0x5c1496=_0x48fa68,_0x36ff5c=this[_0x5c1496(0x21a)];if(_0x36ff5c[_0x5c1496(0x1e8)]['push'](_0x314060),_0x36ff5c[_0x5c1496(0x241)]+=_0x314060,_0x36ff5c['values'][_0x5c1496(0x1e3)]>_0x36ff5c[_0x5c1496(0x215)]){const _0x272a4d=_0x36ff5c[_0x5c1496(0x1e8)][_0x5c1496(0x1bb)]();_0x36ff5c[_0x5c1496(0x241)]-=_0x272a4d??0x0;}}}_0x3fd8dc('groove',a,{'meta':a[_0x48fa68(0x23d)]});
