const _0x34cbaf=_0x2b76;(function(_0x552352,_0x5f1d64){const _0x461209=_0x2b76,_0x3650d4=_0x552352();while(!![]){try{const _0x3e7016=parseInt(_0x461209(0x120))/0x1*(parseInt(_0x461209(0x14e))/0x2)+-parseInt(_0x461209(0x167))/0x3+parseInt(_0x461209(0x117))/0x4*(parseInt(_0x461209(0x14b))/0x5)+-parseInt(_0x461209(0xf4))/0x6*(-parseInt(_0x461209(0x15e))/0x7)+-parseInt(_0x461209(0x108))/0x8+parseInt(_0x461209(0x16a))/0x9+-parseInt(_0x461209(0x175))/0xa;if(_0x3e7016===_0x5f1d64)break;else _0x3650d4['push'](_0x3650d4['shift']());}catch(_0x2d82a8){_0x3650d4['push'](_0x3650d4['shift']());}}}(_0x19dd,0x8df9c));function _0x2b76(_0xf7c2dd,_0xc18446){const _0x19dd9c=_0x19dd();return _0x2b76=function(_0x2b76ce,_0x434117){_0x2b76ce=_0x2b76ce-0xdd;let _0x5cc489=_0x19dd9c[_0x2b76ce];return _0x5cc489;},_0x2b76(_0xf7c2dd,_0xc18446);}import{W as _0x507303,V as _0x77cef2,r as _0x4f5796}from'./receiver.min.js';function _0x19dd(){const _0x10c7c0=['target','meta','getBoundingClientRect','flowX','fbo','u_zoom','Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','[data-role=\x22cast-overlay\x22]','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','.footer-bar','width','_boundHandlePointer','getViewportProfile','parentElement','bindTexture','_pointerIdleSeconds','GEOMETRY','4566696CHuFnj','pow','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','_state','ONE','undefined','releaseGLResource','TEXTURE_WRAP_T','RGBA','drawingBufferHeight','height','max','_targetHeight','createTexture','texParameteri','16uRzjyj','u_feedback','shift','overallEnergy','blendFunc','TEXTURE_2D','#000000','_buildResources','MID','55HzDWYX','uFeedback','flowY','isFinite','u_warpDirection','uniform2f','_pointerUnsub','COLOR_ATTACHMENT0','drawingBufferWidth','aPosition','_lastRenderAt','activeTexture','DEPTH_TEST','useProgram','uWarpDir','destroy','ENERGY','UNSIGNED_BYTE','_quadBuffer','_pointerLastAt','bindFramebuffer','_attributes','_setupInteractions','lastVolume','now','texture','onUpdate','groove','lerp','init','shortEdge','clamp','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','VIBE','uZoom','_handlePointer','CLAMP_TO_EDGE','LINEAR','_createTarget','click','TRIPPY','STENCIL_TEST','floor','489985LxPOYn','uScene','top','31928fIIFRQ','uniform1i','TEMPO','TECH','TEXTURE0','uResolution','CULL_FACE','_pointerBias','_targetWidth','STATUS','GROOVY','uniform1f','right','flowXTarget','_verticalDirection','u_warpStrength','908957cHLDtL','autoDispose','_volumeHistory','addEventListener','feedback','_presentProgram','_destroyTarget','bind','_uniforms','802146wWoaRl','closest','_readTarget','2087604SGUMGq','pointermove','onResize','_updateVolumeHistory','_targetScale','flowYTarget','_createDefaultState','disable','uTime','sum','framebufferTexture2D','3419150cyHJqz','FRAMEBUFFER','isBeat','removeEventListener','values','canvas','_resizeTargets','_flowDirection','Framebuffer\x20incomplete\x20for\x20groove','clientY','uVolume','length','TEXTURE_MAG_FILTER','getUniformLocation','clientX','_feedbackProgram','u_scene','TEXTURE_MIN_FILTER','_computeTargetScale','resetState','TEXTURE_WRAP_S','createProgram','flushTrackedGLResources','_ensureTargets','_beatCooldown','u_time','beatConfidence','pointerdown','_writeTarget','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','deleteFramebuffer','onRender','12suCwnQ','_audioTime','uWarpStrength'];_0x19dd=function(){return _0x10c7c0;};return _0x19dd();}import{b as _0x4cd00c,d as _0x3bed82,c as _0x7eca9f}from'./fullscreen-quad.min.js';var n=_0x34cbaf(0x140);class a extends _0x507303{static [_0x34cbaf(0xf8)]={'savedAt':0x19c5969cbe3,'createdBy':'vvavy','description':_0x34cbaf(0xfd),'tags':[_0x77cef2['TECH'][_0x34cbaf(0x107)],_0x77cef2[_0x34cbaf(0x141)][_0x34cbaf(0x148)],_0x77cef2[_0x34cbaf(0x130)][_0x34cbaf(0x11f)],_0x77cef2[_0x34cbaf(0x150)][_0x34cbaf(0x158)],_0x77cef2['TECH']['HD'],_0x77cef2[_0x34cbaf(0x151)]['INTERACTIVE'],_0x77cef2[_0x34cbaf(0x157)]['POPULAR']]};constructor(_0x193737){const _0x48c5fe=_0x34cbaf;super({..._0x193737,'config':{..._0x193737?.['config']??{},'backgroundColor':_0x48c5fe(0x11d)}}),this['_feedbackProgram']=null,this[_0x48c5fe(0x163)]=null,this[_0x48c5fe(0x166)]={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0x48c5fe(0x132)]=null,this[_0x48c5fe(0x169)]=null,this['_writeTarget']=null,this[_0x48c5fe(0x156)]=0x0,this[_0x48c5fe(0x114)]=0x0,this[_0x48c5fe(0x16e)]=0.8,this[_0x48c5fe(0x12a)]=null,this[_0x48c5fe(0xf5)]=0x0,this[_0x48c5fe(0xec)]=0x0,this['_flowDirection']=0x1,this['_verticalDirection']=0x0,this[_0x48c5fe(0x160)]={'values':[],'sum':0x0,'max':0x3c},this[_0x48c5fe(0x155)]={'x':0x0,'y':0x0},this[_0x48c5fe(0x133)]=0x0,this[_0x48c5fe(0x106)]=0.6,this[_0x48c5fe(0x126)]=null,this[_0x48c5fe(0x10b)]=this[_0x48c5fe(0x170)]();}[_0x34cbaf(0x13d)](){const _0x422279=_0x34cbaf,_0x1c2255=this['gl'];if(!_0x1c2255)return;_0x1c2255[_0x422279(0x171)](_0x1c2255[_0x422279(0x12c)]),_0x1c2255[_0x422279(0x171)](_0x1c2255[_0x422279(0x154)]),_0x1c2255[_0x422279(0x171)](_0x1c2255[_0x422279(0x149)]),_0x1c2255[_0x422279(0x11b)](_0x1c2255[_0x422279(0x10c)],_0x1c2255['ZERO']),this[_0x422279(0x11e)](_0x1c2255),this[_0x422279(0x16e)]=this[_0x422279(0xe6)]();const _0x2d4fd4=_0x1c2255[_0x422279(0x128)]||this[_0x422279(0x101)]||this['canvas']?.[_0x422279(0x101)]||0x1,_0x158a77=_0x1c2255['drawingBufferHeight']||this[_0x422279(0x112)]||this['canvas']?.[_0x422279(0x112)]||0x1;this['_targetWidth']=Math[_0x422279(0x113)](0x8,Math[_0x422279(0x14a)](_0x2d4fd4*this['_targetScale'])),this['_targetHeight']=Math[_0x422279(0x113)](0x8,Math[_0x422279(0x14a)](_0x158a77*this[_0x422279(0x16e)])),this[_0x422279(0x17b)](!0x0),this[_0x422279(0xf5)]=0x0,this['_lastRenderAt']=null,this['_setupInteractions']();}[_0x34cbaf(0x12f)](){const _0x48d2be=_0x34cbaf;this['flushTrackedGLResources'](),this[_0x48d2be(0x126)]?.(),this['_pointerUnsub']=null,this['_writeTarget']=null,super[_0x48d2be(0x12f)]();}[_0x34cbaf(0xe7)](){const _0x1fbf7d=_0x34cbaf;this[_0x1fbf7d(0xf5)]=0x0,this[_0x1fbf7d(0x12a)]=null,this[_0x1fbf7d(0xec)]=0x0,this['_flowDirection']=0x1,this[_0x1fbf7d(0x15c)]=0x0,this['_volumeHistory']={'values':[],'sum':0x0,'max':0x3c},this[_0x1fbf7d(0x155)]={'x':0x0,'y':0x0},this[_0x1fbf7d(0x133)]=0x0,this['_state']=this[_0x1fbf7d(0x170)](),this[_0x1fbf7d(0xea)](),this[_0x1fbf7d(0x169)]=null,this[_0x1fbf7d(0xf0)]=null,this['_feedbackProgram']=null,this[_0x1fbf7d(0x163)]=null,this[_0x1fbf7d(0x132)]=null,this['gl']&&this[_0x1fbf7d(0x17b)](!0x0);}[_0x34cbaf(0x16c)](){const _0x303e34=_0x34cbaf;super['onResize']?.(),this[_0x303e34(0x16e)]=this[_0x303e34(0xe6)]();const _0x44e2e8=this['gl'],_0x2512be=_0x44e2e8?.[_0x303e34(0x128)]||this[_0x303e34(0x101)]||this[_0x303e34(0x17a)]?.[_0x303e34(0x101)]||0x1,_0x38cb62=_0x44e2e8?.[_0x303e34(0x111)]||this[_0x303e34(0x112)]||this['canvas']?.[_0x303e34(0x112)]||0x1;this[_0x303e34(0x156)]=Math[_0x303e34(0x113)](0x8,Math['floor'](_0x2512be*this['_targetScale'])),this[_0x303e34(0x114)]=Math[_0x303e34(0x113)](0x8,Math[_0x303e34(0x14a)](_0x38cb62*this[_0x303e34(0x16e)])),this[_0x303e34(0x17b)](!0x0);}[_0x34cbaf(0x136)](){const _0x1e71e9=_0x34cbaf,_0x33febc=this[_0x1e71e9(0x17a)]?.[_0x1e71e9(0x104)]||(_0x1e71e9(0x10d)!=typeof window?window:null);_0x33febc&&(this[_0x1e71e9(0x102)]=this['_boundHandlePointer']||this['_handlePointer'][_0x1e71e9(0x165)](this),_0x33febc[_0x1e71e9(0x161)]('pointermove',this[_0x1e71e9(0x102)]),_0x33febc[_0x1e71e9(0x161)](_0x1e71e9(0xef),this['_boundHandlePointer']),_0x33febc[_0x1e71e9(0x161)](_0x1e71e9(0x147),this[_0x1e71e9(0x102)]),this[_0x1e71e9(0x126)]=()=>{const _0x2f9e99=_0x1e71e9;_0x33febc[_0x2f9e99(0x178)](_0x2f9e99(0x16b),this[_0x2f9e99(0x102)]),_0x33febc[_0x2f9e99(0x178)](_0x2f9e99(0xef),this['_boundHandlePointer']),_0x33febc[_0x2f9e99(0x178)](_0x2f9e99(0x147),this['_boundHandlePointer']);});}[_0x34cbaf(0x143)](_0x10cfd1){const _0x4a685f=_0x34cbaf;if(!this[_0x4a685f(0x17a)])return;const _0x1c8ef7=this[_0x4a685f(0x17a)][_0x4a685f(0xf9)]();if(_0x10cfd1['clientX']<_0x1c8ef7['left']||_0x10cfd1[_0x4a685f(0xe2)]>_0x1c8ef7[_0x4a685f(0x15a)]||_0x10cfd1[_0x4a685f(0xdd)]<_0x1c8ef7[_0x4a685f(0x14d)]||_0x10cfd1[_0x4a685f(0xdd)]>_0x1c8ef7['bottom'])return;const _0x709401=_0x10cfd1[_0x4a685f(0xf7)];if(_0x709401&&0x1===_0x709401['nodeType']&&(_0x709401['closest'](_0x4a685f(0x100))||_0x709401[_0x4a685f(0x168)](_0x4a685f(0xfe))))return;const _0x24affa=_0x1c8ef7[_0x4a685f(0x101)],_0x33f25c=_0x1c8ef7[_0x4a685f(0x112)];if(!_0x24affa||!_0x33f25c)return;const _0x4d424a=0x2*((_0x10cfd1['clientX']-_0x1c8ef7['left'])/_0x24affa-0.5),_0x430495=0x2*(0.5-(_0x10cfd1[_0x4a685f(0xdd)]-_0x1c8ef7[_0x4a685f(0x14d)])/_0x33f25c);this[_0x4a685f(0x155)]={'x':this['clamp'](_0x4d424a,-0x1,0x1),'y':this[_0x4a685f(0x13f)](_0x430495,-0x1,0x1)},this[_0x4a685f(0x133)]=_0x4a685f(0x10d)!=typeof performance?0.001*performance['now']():Date[_0x4a685f(0x138)]()/0x3e8;}[_0x34cbaf(0x13a)](_0x53d247){const _0x1631ff=_0x34cbaf;if(!_0x53d247)return;const _0x258255=this[_0x1631ff(0x13f)](_0x53d247['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x40c0d4=Number[_0x1631ff(0x123)](_0x258255)?_0x258255:0x1/0x3c,_0x4737f1=this[_0x1631ff(0x13f)](1.5*(_0x53d247[_0x1631ff(0x11a)]??_0x53d247['rmsTime']??0x0),0x0,1.4);this[_0x1631ff(0x10b)][_0x1631ff(0x137)]=_0x4737f1,this[_0x1631ff(0x16d)](_0x4737f1);const _0x351ab3=this[_0x1631ff(0x160)][_0x1631ff(0x179)][_0x1631ff(0xdf)]?this[_0x1631ff(0x160)][_0x1631ff(0x173)]/this['_volumeHistory'][_0x1631ff(0x179)][_0x1631ff(0xdf)]:_0x4737f1,_0x2d6e4d=(_0x351ab3>0.001?(_0x4737f1-_0x351ab3)/_0x351ab3:0x0)>0.05?0x1:-0x1;_0x2d6e4d!==this[_0x1631ff(0x15c)]&&(this['_verticalDirection']=_0x2d6e4d,this[_0x1631ff(0x10b)]['flowYTarget']=0.5*_0x2d6e4d);const _0x3f72b0=this[_0x1631ff(0x13f)](_0x53d247[_0x1631ff(0xee)]??0x0,0x0,0x1);Boolean(_0x53d247[_0x1631ff(0x177)])&&_0x3f72b0>0.3&&this[_0x1631ff(0xec)]<=0x0&&(this['_flowDirection']*=-0x1,this[_0x1631ff(0x17c)]!==Math['sign'](this[_0x1631ff(0x10b)]['flowXTarget']||0x0)&&(this[_0x1631ff(0x10b)]['flowXTarget']=0.5*this[_0x1631ff(0x17c)]),this['_beatCooldown']=0.22),this[_0x1631ff(0xec)]=Math[_0x1631ff(0x113)](0x0,this[_0x1631ff(0xec)]-_0x40c0d4);const _0x255ebe=(_0x1631ff(0x10d)!=typeof performance?0.001*performance[_0x1631ff(0x138)]():Date[_0x1631ff(0x138)]()/0x3e8)-(this[_0x1631ff(0x133)]||0x0)<this['_pointerIdleSeconds'],_0xc621a8=0x3c*_0x40c0d4,_0x2f30ae=0x1-Math['pow'](0.92,_0xc621a8),_0x3042a3=0x1-Math[_0x1631ff(0x109)](0.95,_0xc621a8);_0x255ebe||(this['_pointerBias']['x']=this[_0x1631ff(0x13c)](this[_0x1631ff(0x155)]['x'],0x0,_0x2f30ae),this[_0x1631ff(0x155)]['y']=this['lerp'](this[_0x1631ff(0x155)]['y'],0x0,_0x2f30ae));const _0x4c0243=this[_0x1631ff(0x13f)](this[_0x1631ff(0x10b)][_0x1631ff(0x15b)]+(_0x255ebe?this[_0x1631ff(0x155)]['x']:0x0),-0x1,0x1),_0x739501=this[_0x1631ff(0x13f)](this['_state'][_0x1631ff(0x16f)]+(_0x255ebe?this[_0x1631ff(0x155)]['y']:0x0),-0x1,0x1);this['_state']['flowX']=this[_0x1631ff(0x13c)](this[_0x1631ff(0x10b)][_0x1631ff(0xfa)],_0x4c0243,_0x3042a3),this[_0x1631ff(0x10b)][_0x1631ff(0x122)]=this[_0x1631ff(0x13c)](this[_0x1631ff(0x10b)][_0x1631ff(0x122)],_0x739501,_0x3042a3);}[_0x34cbaf(0xf3)](){const _0x18d9de=_0x34cbaf,_0x2c083e=this['gl'];if(!_0x2c083e||!this[_0x18d9de(0x17a)])return;if(!this[_0x18d9de(0xe3)]||!this['_presentProgram']||!this[_0x18d9de(0x132)])try{this[_0x18d9de(0x11e)](_0x2c083e),this['_resizeTargets'](!0x0);}catch{return;}const _0x64c22='undefined'!=typeof performance?0.001*performance['now']():Date['now']()/0x3e8,_0x58e5e7=this['_lastRenderAt']?_0x64c22-this[_0x18d9de(0x12a)]:0x1/0x3c,_0x37d8e9=this['clamp'](_0x58e5e7,0x1/0xf0,0.2);this[_0x18d9de(0x12a)]=_0x64c22,this['_audioTime']+=_0x37d8e9;const _0x4dd870=_0x2c083e[_0x18d9de(0x128)]||this[_0x18d9de(0x17a)]?.[_0x18d9de(0x101)]||0x1,_0x43fac7=_0x2c083e['drawingBufferHeight']||this[_0x18d9de(0x17a)]?.[_0x18d9de(0x112)]||0x1;if(_0x4dd870<=0x0||_0x43fac7<=0x0)return;const _0x16281b=this['_targetScale']||0.8,_0x1941c5=Math[_0x18d9de(0x113)](0x8,Math['floor'](_0x4dd870*_0x16281b)),_0x110552=Math[_0x18d9de(0x113)](0x8,Math['floor'](_0x43fac7*_0x16281b));this[_0x18d9de(0xeb)](_0x1941c5,_0x110552);const _0x1438d8=this[_0x18d9de(0x169)],_0x48e59c=this['_writeTarget'];if(!_0x1438d8||!_0x48e59c)return;_0x2c083e['viewport'](0x0,0x0,_0x1941c5,_0x110552),_0x2c083e['bindFramebuffer'](_0x2c083e[_0x18d9de(0x176)],_0x48e59c['fbo']),_0x2c083e[_0x18d9de(0x12d)](this[_0x18d9de(0xe3)]),_0x4cd00c(_0x2c083e,this[_0x18d9de(0x132)],this['_attributes'][_0x18d9de(0x129)]??0x0);const _0x12d204=this[_0x18d9de(0x166)]['feedback'];if(_0x12d204?.['uResolution']&&_0x2c083e[_0x18d9de(0x125)](_0x12d204[_0x18d9de(0x153)],_0x1941c5,_0x110552),_0x12d204?.[_0x18d9de(0x172)]&&_0x2c083e[_0x18d9de(0x159)](_0x12d204[_0x18d9de(0x172)],this[_0x18d9de(0xf5)]),_0x12d204?.['uFeedback']&&_0x2c083e[_0x18d9de(0x159)](_0x12d204[_0x18d9de(0x121)],0.97),_0x12d204?.['uWarpDir']&&_0x2c083e['uniform2f'](_0x12d204[_0x18d9de(0x12e)],this[_0x18d9de(0x10b)][_0x18d9de(0xfa)],this[_0x18d9de(0x10b)][_0x18d9de(0x122)]),_0x12d204?.['uZoom']){const _0x59243f=this[_0x18d9de(0x103)]()[_0x18d9de(0x13e)]<0x384?1.4:0x1;_0x2c083e[_0x18d9de(0x159)](_0x12d204[_0x18d9de(0x142)],_0x59243f);}if(_0x12d204?.[_0x18d9de(0xf6)]){const _0x18bbbd=this[_0x18d9de(0x103)]()[_0x18d9de(0x13e)]<0x384?2.5:0x1;_0x2c083e[_0x18d9de(0x159)](_0x12d204[_0x18d9de(0xf6)],_0x18bbbd);}_0x12d204?.['uPrev']&&(_0x2c083e[_0x18d9de(0x12b)](_0x2c083e[_0x18d9de(0x152)]),_0x2c083e[_0x18d9de(0x105)](_0x2c083e[_0x18d9de(0x11c)],_0x1438d8[_0x18d9de(0x139)]),_0x2c083e[_0x18d9de(0x14f)](_0x12d204['uPrev'],0x0)),_0x3bed82(_0x2c083e),_0x2c083e[_0x18d9de(0x134)](_0x2c083e[_0x18d9de(0x176)],null),_0x2c083e['viewport'](0x0,0x0,_0x4dd870,_0x43fac7),_0x2c083e[_0x18d9de(0x12d)](this[_0x18d9de(0x163)]);const _0x259a48=this['_uniforms']['present'];_0x259a48?.[_0x18d9de(0x14c)]&&(_0x2c083e['activeTexture'](_0x2c083e[_0x18d9de(0x152)]),_0x2c083e[_0x18d9de(0x105)](_0x2c083e[_0x18d9de(0x11c)],_0x48e59c[_0x18d9de(0x139)]),_0x2c083e[_0x18d9de(0x14f)](_0x259a48[_0x18d9de(0x14c)],0x0)),_0x259a48?.['uVolume']&&_0x2c083e[_0x18d9de(0x159)](_0x259a48[_0x18d9de(0xde)],this['_state'][_0x18d9de(0x137)]||0x0),_0x3bed82(_0x2c083e),this['_swapTargets']();}[_0x34cbaf(0x170)](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}[_0x34cbaf(0xe6)](){const _0x2b27b0=_0x34cbaf,_0x2f7f99=this['getViewportProfile'](),_0x6485e6=this[_0x2b27b0(0x13f)](0.06*(_0x2f7f99['densityScale']??0x1),-0.06,0.1);return this[_0x2b27b0(0x13f)](0.88+_0x6485e6,0.65,0x1);}[_0x34cbaf(0x11e)](_0x3631a5){const _0x5f124a=_0x34cbaf;this[_0x5f124a(0xea)](),this[_0x5f124a(0xe3)]=this[_0x5f124a(0xe9)](n,_0x5f124a(0xf1),{'aPosition':0x0}),this[_0x5f124a(0x163)]=this['createProgram'](n,_0x5f124a(0x10a),{'aPosition':0x0}),this[_0x5f124a(0x135)][_0x5f124a(0x129)]=_0x3631a5['getAttribLocation'](this[_0x5f124a(0xe3)],_0x5f124a(0x129)),(this['_attributes'][_0x5f124a(0x129)]??-0x1)<0x0&&(this[_0x5f124a(0x135)][_0x5f124a(0x129)]=0x0),this[_0x5f124a(0x166)][_0x5f124a(0x162)]={'uResolution':_0x3631a5['getUniformLocation'](this[_0x5f124a(0xe3)],'u_resolution'),'uTime':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0xe3)],_0x5f124a(0xed)),'uPrev':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0xe3)],'u_buffer'),'uFeedback':_0x3631a5['getUniformLocation'](this['_feedbackProgram'],_0x5f124a(0x118)),'uWarpDir':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0xe3)],_0x5f124a(0x124)),'uZoom':_0x3631a5['getUniformLocation'](this[_0x5f124a(0xe3)],_0x5f124a(0xfc)),'uWarpStrength':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0xe3)],_0x5f124a(0x15d))},this[_0x5f124a(0x166)]['present']={'uScene':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0x163)],_0x5f124a(0xe4)),'uVolume':_0x3631a5[_0x5f124a(0xe1)](this[_0x5f124a(0x163)],'u_volume')},this[_0x5f124a(0x132)]=_0x7eca9f(_0x3631a5,{'autoDispose':this['autoDispose']['bind'](this)});}['_ensureTargets'](_0x388727,_0x91d725){const _0x4091dd=_0x34cbaf;_0x388727===this['_targetWidth']&&_0x91d725===this[_0x4091dd(0x114)]&&this[_0x4091dd(0x169)]&&this['_writeTarget']||(this[_0x4091dd(0x156)]=_0x388727,this[_0x4091dd(0x114)]=_0x91d725,this[_0x4091dd(0x17b)](!0x0));}[_0x34cbaf(0x17b)](_0x2c0fe9=!0x1){const _0x47f9bf=_0x34cbaf,_0xc73c23=this['gl'];if(!_0xc73c23)return;const _0x19081a=Math[_0x47f9bf(0x113)](0x8,Math[_0x47f9bf(0x14a)](this[_0x47f9bf(0x156)]||_0xc73c23[_0x47f9bf(0x128)]||0x1)),_0x5d64a6=Math[_0x47f9bf(0x113)](0x8,Math[_0x47f9bf(0x14a)](this[_0x47f9bf(0x114)]||_0xc73c23['drawingBufferHeight']||0x1));!_0x2c0fe9&&this['_readTarget']&&this[_0x47f9bf(0xf0)]||(this[_0x47f9bf(0x164)](this[_0x47f9bf(0x169)]),this[_0x47f9bf(0x164)](this[_0x47f9bf(0xf0)]),this[_0x47f9bf(0x169)]=this[_0x47f9bf(0x146)](_0xc73c23,_0x19081a,_0x5d64a6),this['_writeTarget']=this[_0x47f9bf(0x146)](_0xc73c23,_0x19081a,_0x5d64a6));}['_createTarget'](_0x3de722,_0x46e0bd,_0x5c48f2){const _0xeb6542=_0x34cbaf,_0x41822b=_0x3de722[_0xeb6542(0x115)](),_0x328c0e=_0x3de722['createFramebuffer']();if(!_0x41822b||!_0x328c0e)throw new Error(_0xeb6542(0xff));this[_0xeb6542(0x15f)](_0x41822b,(_0x4b80ce,_0x3195cd)=>_0x4b80ce['deleteTexture'](_0x3195cd)),this['autoDispose'](_0x328c0e,(_0x2dca0b,_0x9af124)=>_0x2dca0b[_0xeb6542(0xf2)](_0x9af124)),_0x3de722[_0xeb6542(0x105)](_0x3de722[_0xeb6542(0x11c)],_0x41822b),_0x3de722['texImage2D'](_0x3de722['TEXTURE_2D'],0x0,_0x3de722[_0xeb6542(0x110)],_0x46e0bd,_0x5c48f2,0x0,_0x3de722[_0xeb6542(0x110)],_0x3de722[_0xeb6542(0x131)],null),_0x3de722[_0xeb6542(0x116)](_0x3de722[_0xeb6542(0x11c)],_0x3de722[_0xeb6542(0xe5)],_0x3de722[_0xeb6542(0x145)]),_0x3de722[_0xeb6542(0x116)](_0x3de722[_0xeb6542(0x11c)],_0x3de722[_0xeb6542(0xe0)],_0x3de722[_0xeb6542(0x145)]),_0x3de722[_0xeb6542(0x116)](_0x3de722['TEXTURE_2D'],_0x3de722[_0xeb6542(0xe8)],_0x3de722[_0xeb6542(0x144)]),_0x3de722[_0xeb6542(0x116)](_0x3de722['TEXTURE_2D'],_0x3de722[_0xeb6542(0x10f)],_0x3de722[_0xeb6542(0x144)]),_0x3de722['bindFramebuffer'](_0x3de722[_0xeb6542(0x176)],_0x328c0e),_0x3de722[_0xeb6542(0x174)](_0x3de722['FRAMEBUFFER'],_0x3de722[_0xeb6542(0x127)],_0x3de722[_0xeb6542(0x11c)],_0x41822b,0x0);if(_0x3de722['checkFramebufferStatus'](_0x3de722['FRAMEBUFFER'])!==_0x3de722['FRAMEBUFFER_COMPLETE'])throw _0x3de722['bindFramebuffer'](_0x3de722['FRAMEBUFFER'],null),_0x3de722[_0xeb6542(0x105)](_0x3de722[_0xeb6542(0x11c)],null),new Error(_0xeb6542(0x17d));return _0x3de722[_0xeb6542(0x134)](_0x3de722[_0xeb6542(0x176)],null),_0x3de722[_0xeb6542(0x105)](_0x3de722[_0xeb6542(0x11c)],null),{'texture':_0x41822b,'fbo':_0x328c0e,'width':_0x46e0bd,'height':_0x5c48f2};}[_0x34cbaf(0x164)](_0x5ec108){const _0x6b249=_0x34cbaf;_0x5ec108&&(this[_0x6b249(0x10e)](_0x5ec108['texture']),this[_0x6b249(0x10e)](_0x5ec108[_0x6b249(0xfb)]));}['_swapTargets'](){const _0x4fc303=_0x34cbaf,_0x47bcf5=this[_0x4fc303(0x169)];this['_readTarget']=this[_0x4fc303(0xf0)],this['_writeTarget']=_0x47bcf5;}[_0x34cbaf(0x16d)](_0x21edd1){const _0xc5b223=_0x34cbaf,_0x1e167e=this[_0xc5b223(0x160)];if(_0x1e167e[_0xc5b223(0x179)]['push'](_0x21edd1),_0x1e167e[_0xc5b223(0x173)]+=_0x21edd1,_0x1e167e['values'][_0xc5b223(0xdf)]>_0x1e167e[_0xc5b223(0x113)]){const _0x27b171=_0x1e167e[_0xc5b223(0x179)][_0xc5b223(0x119)]();_0x1e167e[_0xc5b223(0x173)]-=_0x27b171??0x0;}}}_0x4f5796(_0x34cbaf(0x13b),a,{'meta':a[_0x34cbaf(0xf8)]});
