const _0x1dc952=_0x46e4;(function(_0x43446e,_0x36db7e){const _0x2f58ea=_0x46e4,_0x300cd6=_0x43446e();while(!![]){try{const _0x9a9f02=parseInt(_0x2f58ea(0x1f9))/0x1+parseInt(_0x2f58ea(0x1f5))/0x2*(-parseInt(_0x2f58ea(0x1ff))/0x3)+-parseInt(_0x2f58ea(0x1de))/0x4+parseInt(_0x2f58ea(0x1fd))/0x5*(parseInt(_0x2f58ea(0x247))/0x6)+parseInt(_0x2f58ea(0x24a))/0x7+-parseInt(_0x2f58ea(0x1ea))/0x8+parseInt(_0x2f58ea(0x213))/0x9;if(_0x9a9f02===_0x36db7e)break;else _0x300cd6['push'](_0x300cd6['shift']());}catch(_0x4c320e){_0x300cd6['push'](_0x300cd6['shift']());}}}(_0x350b,0x3fdea));import{W as _0x350bbd,V as _0x4c34b9,r as _0x4969b8}from'./receiver.min.js';class n extends _0x350bbd{static [_0x1dc952(0x241)]={'savedAt':0x19c4ecec384,'description':_0x1dc952(0x20b),'tags':[_0x4c34b9['TECH']['HD'],_0x4c34b9['VIBE'][_0x1dc952(0x216)],_0x4c34b9[_0x1dc952(0x215)][_0x1dc952(0x20c)],_0x4c34b9['TEMPO'][_0x1dc952(0x201)]]};constructor(_0x325b42){const _0x6bc7b7=_0x1dc952;super(_0x325b42),this[_0x6bc7b7(0x24b)]=null,this[_0x6bc7b7(0x220)]=null,this[_0x6bc7b7(0x1dd)]=null,this[_0x6bc7b7(0x22e)]=null,this[_0x6bc7b7(0x1e8)]=0x0,this[_0x6bc7b7(0x238)]=0x0,this['_spectralFlux']=0x0,this['_flatness']=0x0,this['_novelty']=0x0,this['_beatPulse']=0x0,this[_0x6bc7b7(0x217)]=0x0,this[_0x6bc7b7(0x22b)]=0x0,this[_0x6bc7b7(0x1fb)]=0x0,this[_0x6bc7b7(0x245)]=0x0,this[_0x6bc7b7(0x1f0)]=-0x1,this[_0x6bc7b7(0x218)]=0x0,this[_0x6bc7b7(0x1ef)]=0x0,this[_0x6bc7b7(0x1d2)]=0x0;}[_0x1dc952(0x22a)](){const _0x47f21f=_0x1dc952;this[_0x47f21f(0x1e8)]=0x0,this[_0x47f21f(0x238)]=0x0,this[_0x47f21f(0x21d)]=0x0,this[_0x47f21f(0x21c)]=0x0,this[_0x47f21f(0x1d3)]=0x0,this['_beatPulse']=0x0,this[_0x47f21f(0x217)]=0x0,this['_colorShiftSpeed']=0x0,this['_directTunnelSpeed']=0x0,this['_beatColorPulse']=0x0,this['_lastBeatFrame']=-0x1,this['_dropActive']=0x0,this[_0x47f21f(0x1ef)]=0x0,this[_0x47f21f(0x1d2)]=0x0;}[_0x1dc952(0x229)](){const _0x2202d7=_0x1dc952,_0x169d49=this['gl'];_0x169d49&&(this[_0x2202d7(0x22a)](),this[_0x2202d7(0x231)](_0x169d49));}[_0x1dc952(0x20f)](){const _0x5db624=_0x1dc952;super[_0x5db624(0x20f)]?.(),this[_0x5db624(0x235)]();}[_0x1dc952(0x1f3)](_0x63b751){const _0x33cce9=_0x1dc952;if(!_0x63b751||_0x63b751['mediaPaused'])return;const _0x35e236=this[_0x33cce9(0x211)](_0x63b751['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x512aab=Number['isFinite'](_0x35e236)?_0x35e236:0x1/0x3c,_0x267289=_0x63b751[_0x33cce9(0x226)]??{},_0x3b2956=this[_0x33cce9(0x211)](_0x63b751[_0x33cce9(0x1fe)]??_0x63b751[_0x33cce9(0x1e7)]??_0x63b751[_0x33cce9(0x22c)]??_0x63b751['dbNormalized']??0x0,0x0,0x1),_0x35c6a7=this['clamp'](_0x63b751[_0x33cce9(0x1da)]??_0x63b751[_0x33cce9(0x23f)]??0x0,0x0,0x1),_0x5aad33=this[_0x33cce9(0x211)](_0x63b751[_0x33cce9(0x210)]??0.5,0x0,0x1),_0x3060b4=this[_0x33cce9(0x211)](_0x63b751[_0x33cce9(0x1ee)]??0x0,0x0,0x1),_0x425fc4=this['clamp'](_0x63b751[_0x33cce9(0x21b)]??(_0x63b751[_0x33cce9(0x243)]?0x1:0x0),0x0,0x1),_0x57245c=this[_0x33cce9(0x211)](_0x63b751[_0x33cce9(0x20e)]??0x0,0x0,0x1),_0x43a1c3=Boolean(_0x267289[_0x33cce9(0x207)]||_0x267289[_0x33cce9(0x223)]),_0x1d116f=this[_0x33cce9(0x211)](_0x267289[_0x33cce9(0x209)]??_0x267289[_0x33cce9(0x233)]??_0x63b751[_0x33cce9(0x209)]??_0x63b751[_0x33cce9(0x233)]??0x0,0x0,0x1);this[_0x33cce9(0x21d)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x21d)],_0x35c6a7,_0x512aab,0.05,0.3),this[_0x33cce9(0x21c)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x21c)],_0x5aad33,_0x512aab,0.12,0.4),this[_0x33cce9(0x1d3)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x1d3)],_0x3060b4,_0x512aab,0.04,0.25),this['_beatPulse']=this[_0x33cce9(0x20a)](this[_0x33cce9(0x23d)],_0x425fc4,_0x512aab,0.02,0.4),this[_0x33cce9(0x217)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x217)],_0x57245c,_0x512aab,0.1,0.35),this[_0x33cce9(0x218)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x218)],_0x43a1c3?0x1:0x0,_0x512aab,0.02,0.6),this[_0x33cce9(0x1ef)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x1ef)],_0x1d116f,_0x512aab,0.05,0.5);const _0x4c0005=this[_0x33cce9(0x218)];this[_0x33cce9(0x1d2)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x1d2)],_0x4c0005,_0x512aab,0.02,0.4);const _0x236fb2=Math['floor'](0x3c*this[_0x33cce9(0x1e8)]);_0x63b751[_0x33cce9(0x243)]&&_0x236fb2!==this[_0x33cce9(0x1f0)]&&(this[_0x33cce9(0x1f0)]=_0x236fb2,this['_beatColorPulse']=0x1),this[_0x33cce9(0x245)]=Math[_0x33cce9(0x1f7)](0x0,this['_beatColorPulse']-0x8*_0x512aab),this[_0x33cce9(0x238)]=this[_0x33cce9(0x20a)](this[_0x33cce9(0x238)],_0x3b2956,_0x512aab,0.05,0.8),this['_directTunnelSpeed']=0.3+1.7*_0x3b2956;const _0x4dc4a5=0.5*(0x1-this[_0x33cce9(0x21c)]),_0x1cb0d4=0.6*this[_0x33cce9(0x21c)],_0x2389e7=1.2*this[_0x33cce9(0x1d3)],_0x53b883=0x3*this[_0x33cce9(0x245)],_0x235bd9=2.5*this['_dropActive'];this[_0x33cce9(0x22b)]=0.3+_0x4dc4a5+_0x1cb0d4+_0x2389e7+_0x53b883+_0x235bd9;const _0x1d070c=0x1+0.7*this[_0x33cce9(0x1d2)];this['_time']+=_0x512aab*this['_directTunnelSpeed']*_0x1d070c;}[_0x1dc952(0x204)](){const _0x31334d=_0x1dc952,_0x2fe7e9=this['gl'];if(!_0x2fe7e9)return;if(!this[_0x31334d(0x1e0)]())return;const _0x3c99dd=_0x2fe7e9['drawingBufferWidth']||this[_0x31334d(0x1df)]?.[_0x31334d(0x1f2)]||0x1,_0xdbf241=_0x2fe7e9[_0x31334d(0x1e4)]||this[_0x31334d(0x1df)]?.[_0x31334d(0x21a)]||0x1;if(_0x3c99dd<=0x0||_0xdbf241<=0x0)return;_0x2fe7e9[_0x31334d(0x1e6)](0x0,0x0,_0x3c99dd,_0xdbf241),_0x2fe7e9[_0x31334d(0x232)](_0x2fe7e9['DEPTH_TEST']),_0x2fe7e9['disable'](_0x2fe7e9[_0x31334d(0x242)]),_0x2fe7e9[_0x31334d(0x1e2)](_0x2fe7e9['BLEND']),_0x2fe7e9[_0x31334d(0x23c)](_0x2fe7e9[_0x31334d(0x22f)],_0x2fe7e9[_0x31334d(0x208)]),_0x2fe7e9['colorMask'](!0x0,!0x0,!0x0,!0x0),_0x2fe7e9[_0x31334d(0x244)](this[_0x31334d(0x24b)]);const _0x2c2544=this[_0x31334d(0x220)][_0x31334d(0x1fc)]??0x0;_0x2fe7e9[_0x31334d(0x227)](_0x2fe7e9[_0x31334d(0x1e5)],this[_0x31334d(0x22e)]),_0x2fe7e9[_0x31334d(0x224)](_0x2c2544),_0x2fe7e9['vertexAttribPointer'](_0x2c2544,0x2,_0x2fe7e9['FLOAT'],!0x1,0x0,0x0),this[_0x31334d(0x1dd)][_0x31334d(0x1ed)]&&_0x2fe7e9[_0x31334d(0x222)](this[_0x31334d(0x1dd)]['uResolution'],_0x3c99dd,_0xdbf241),this['_uniforms'][_0x31334d(0x1dc)]&&_0x2fe7e9[_0x31334d(0x1d7)](this['_uniforms'][_0x31334d(0x1dc)],this[_0x31334d(0x1e8)]),this[_0x31334d(0x1dd)][_0x31334d(0x1e9)]&&_0x2fe7e9[_0x31334d(0x1d7)](this[_0x31334d(0x1dd)][_0x31334d(0x1e9)],this[_0x31334d(0x22b)]),this[_0x31334d(0x1dd)][_0x31334d(0x219)]&&_0x2fe7e9['uniform1f'](this[_0x31334d(0x1dd)]['uTunnelSpeed'],this[_0x31334d(0x1fb)]),this[_0x31334d(0x1dd)][_0x31334d(0x212)]&&_0x2fe7e9[_0x31334d(0x1d7)](this[_0x31334d(0x1dd)]['uBeatPulse'],this[_0x31334d(0x245)]),this[_0x31334d(0x1dd)][_0x31334d(0x1f4)]&&_0x2fe7e9[_0x31334d(0x1d7)](this[_0x31334d(0x1dd)][_0x31334d(0x1f4)],this['_dropActive']),this[_0x31334d(0x1dd)]['uDropIntensity']&&_0x2fe7e9[_0x31334d(0x1d7)](this[_0x31334d(0x1dd)][_0x31334d(0x1db)],this[_0x31334d(0x1ef)]),this['_uniforms'][_0x31334d(0x230)]&&_0x2fe7e9['uniform1f'](this[_0x31334d(0x1dd)][_0x31334d(0x230)],this[_0x31334d(0x1d2)]),_0x2fe7e9[_0x31334d(0x246)](_0x2fe7e9['TRIANGLES'],0x0,0x6);}[_0x1dc952(0x231)](_0x441a88){const _0x41e6d8=_0x1dc952;if(this[_0x41e6d8(0x24b)])return;const _0x17839f=this[_0x41e6d8(0x23e)](_0x441a88,_0x41e6d8(0x214),_0x41e6d8(0x249));if(!_0x17839f)return void(window[_0x41e6d8(0x1ec)]?.[_0x41e6d8(0x21e)]&&window[_0x41e6d8(0x1ec)]['error']('Failed\x20to\x20compile\x20Kaleidoscope\x20Tunnel\x20shaders'));this[_0x41e6d8(0x24b)]=_0x17839f,this['_attributes']={'aPosition':_0x441a88['getAttribLocation'](_0x17839f,_0x41e6d8(0x225))},this['_uniforms']={'uResolution':_0x441a88[_0x41e6d8(0x237)](_0x17839f,'u_resolution'),'uTime':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x239)),'uColorShiftSpeed':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1d6)),'uTunnelSpeed':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1f1)),'uBeatPulse':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1f8)),'uDropActive':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1e3)),'uDropIntensity':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1f6)),'uTimeDistortion':_0x441a88[_0x41e6d8(0x237)](_0x17839f,_0x41e6d8(0x1d8))};const _0x5ef0d6=new Float32Array([-0x1,-0x1,0x1,-0x1,-0x1,0x1,0x1,-0x1,0x1,0x1,-0x1,0x1]);this[_0x41e6d8(0x22e)]=_0x441a88[_0x41e6d8(0x21f)](),_0x441a88[_0x41e6d8(0x227)](_0x441a88[_0x41e6d8(0x1e5)],this[_0x41e6d8(0x22e)]),_0x441a88[_0x41e6d8(0x240)](_0x441a88['ARRAY_BUFFER'],_0x5ef0d6,_0x441a88[_0x41e6d8(0x228)]),this[_0x41e6d8(0x203)](()=>{const _0xbd34b2=_0x41e6d8;this[_0xbd34b2(0x22e)]&&_0x441a88[_0xbd34b2(0x1d4)](this[_0xbd34b2(0x22e)]),this[_0xbd34b2(0x24b)]&&_0x441a88[_0xbd34b2(0x200)](this[_0xbd34b2(0x24b)]);});}[_0x1dc952(0x1e0)](){const _0x118a55=_0x1dc952;return!!this[_0x118a55(0x24b)];}[_0x1dc952(0x235)](){const _0x498467=_0x1dc952,_0x4beb3d=this['gl'];if(!_0x4beb3d||!this[_0x498467(0x1dd)][_0x498467(0x1ed)])return;const _0x3cb210=_0x4beb3d[_0x498467(0x1eb)]||this['canvas']?.[_0x498467(0x1f2)]||0x1,_0x10966a=_0x4beb3d[_0x498467(0x1e4)]||this[_0x498467(0x1df)]?.[_0x498467(0x21a)]||0x1;_0x4beb3d['uniform2f'](this[_0x498467(0x1dd)][_0x498467(0x1ed)],_0x3cb210,_0x10966a);}[_0x1dc952(0x23e)](_0x39c505,_0x382cb3,_0x75453f){const _0x15af08=_0x1dc952,_0x49c4be=_0x39c505[_0x15af08(0x1d1)](_0x39c505[_0x15af08(0x20d)]);if(!_0x49c4be)return null;if(_0x39c505[_0x15af08(0x206)](_0x49c4be,_0x382cb3),_0x39c505['compileShader'](_0x49c4be),!_0x39c505[_0x15af08(0x22d)](_0x49c4be,_0x39c505[_0x15af08(0x205)]))return window[_0x15af08(0x1ec)]?.[_0x15af08(0x21e)]&&window[_0x15af08(0x1ec)][_0x15af08(0x21e)]('Vertex\x20shader\x20error:',_0x39c505[_0x15af08(0x221)](_0x49c4be)),_0x39c505['deleteShader'](_0x49c4be),null;const _0x145233=_0x39c505[_0x15af08(0x1d1)](_0x39c505[_0x15af08(0x1e1)]);if(!_0x145233)return null;if(_0x39c505[_0x15af08(0x206)](_0x145233,_0x75453f),_0x39c505[_0x15af08(0x1fa)](_0x145233),!_0x39c505[_0x15af08(0x22d)](_0x145233,_0x39c505[_0x15af08(0x205)]))return window[_0x15af08(0x1ec)]?.[_0x15af08(0x21e)]&&window[_0x15af08(0x1ec)][_0x15af08(0x21e)](_0x15af08(0x234),_0x39c505[_0x15af08(0x221)](_0x145233)),_0x39c505[_0x15af08(0x1d9)](_0x145233),null;const _0x1be767=_0x39c505[_0x15af08(0x1d5)]();return _0x1be767?(_0x39c505['attachShader'](_0x1be767,_0x49c4be),_0x39c505[_0x15af08(0x202)](_0x1be767,_0x145233),_0x39c505[_0x15af08(0x236)](_0x1be767),_0x39c505[_0x15af08(0x23b)](_0x1be767,_0x39c505[_0x15af08(0x23a)])?(_0x39c505[_0x15af08(0x1d9)](_0x49c4be),_0x39c505[_0x15af08(0x1d9)](_0x145233),_0x1be767):(window[_0x15af08(0x1ec)]?.['error']&&window[_0x15af08(0x1ec)][_0x15af08(0x21e)](_0x15af08(0x248),_0x39c505['getProgramInfoLog'](_0x1be767)),_0x39c505[_0x15af08(0x200)](_0x1be767),null)):null;}}function _0x46e4(_0x28671d,_0x4c37f9){const _0x350b8d=_0x350b();return _0x46e4=function(_0x46e491,_0x4ff500){_0x46e491=_0x46e491-0x1d1;let _0x2ac440=_0x350b8d[_0x46e491];return _0x2ac440;},_0x46e4(_0x28671d,_0x4c37f9);}function _0x350b(){const _0x1351c4=['deleteShader','spectralFlux','uDropIntensity','uTime','_uniforms','755580IEBwpl','canvas','_ensureResources','FRAGMENT_SHADER','enable','u_dropActive','drawingBufferHeight','ARRAY_BUFFER','viewport','rms','_time','uColorShiftSpeed','2526736IFgWgI','drawingBufferWidth','console','uResolution','novelty','_dropIntensity','_lastBeatFrame','u_tunnelSpeed','width','onUpdate','uDropActive','2aEEUdN','u_dropIntensity','max','u_beatPulse','268419MbZDkj','compileShader','_directTunnelSpeed','aPosition','35QALhrb','energy','806157ALRmCi','deleteProgram','GROOVY','attachShader','trackGLCleanup','onRender','COMPILE_STATUS','shaderSource','dropStart','ONE_MINUS_SRC_ALPHA','dropIntensity','attackRelease','Hypnotic\x20kaleidoscope\x20tunnel\x20with\x20audio-driven\x20speed\x20and\x20color\x20shifts.\x20Centroid\x20controls\x20tunnel\x20layer\x20velocity,\x20energy\x20modulates\x20color\x20shift\x20tempo.','HIGH','VERTEX_SHADER','trebleEnergy','onResize','flatness','clamp','uBeatPulse','1347750dNQEYB','#version\x20300\x20es\x0ain\x20vec4\x20a_position;\x0avoid\x20main()\x20{\x0a\x20\x20gl_Position\x20=\x20a_position;\x0a}\x0a','ENERGY','SURREAL','_trebleEnergy','_dropActive','uTunnelSpeed','height','beatPulse','_flatness','_spectralFlux','error','createBuffer','_attributes','getShaderInfoLog','uniform2f','dropBloom','enableVertexAttribArray','a_position','cues','bindBuffer','STATIC_DRAW','init','reset','_colorShiftSpeed','overallEnergy','getShaderParameter','_positionBuffer','SRC_ALPHA','uTimeDistortion','_buildResources','disable','dropScore','Fragment\x20shader\x20error:','_updateResolutionUniform','linkProgram','getUniformLocation','_baseEnergy','u_time','LINK_STATUS','getProgramParameter','blendFunc','_beatPulse','_compileProgram','flux','bufferData','meta','CULL_FACE','isBeat','useProgram','_beatColorPulse','drawArrays','126798WEHVLq','Program\x20link\x20error:','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20float\x20u_colorShiftSpeed;\x0auniform\x20float\x20u_tunnelSpeed;\x0auniform\x20float\x20u_beatPulse;\x0auniform\x20float\x20u_dropActive;\x0auniform\x20float\x20u_dropIntensity;\x0auniform\x20float\x20u_timeDistortion;\x0a\x0aout\x20vec4\x20fragColorOutput;\x0a\x0a#define\x20PI\x203.141592654\x0a\x0avec3\x20hsv2rgb(vec3\x20c)\x20{\x0a\x20\x20vec3\x20rgb\x20=\x20clamp(abs(mod(c.x\x20*\x206.0\x20+\x20vec3(0.0,\x204.0,\x202.0),\x206.0)\x20-\x203.0)\x20-\x201.0,\x200.0,\x201.0);\x0a\x20\x20return\x20c.z\x20*\x20mix(vec3(1.0),\x20rgb,\x20c.y);\x0a}\x0a\x0amat2\x20rot(float\x20x)\x20{\x0a\x20\x20return\x20mat2(cos(x),\x20sin(x),\x20-sin(x),\x20cos(x));\x0a}\x0a\x0avec2\x20foldRotate(in\x20vec2\x20p,\x20in\x20float\x20s)\x20{\x0a\x20\x20float\x20a\x20=\x20PI\x20/\x20s\x20-\x20atan(p.x,\x20p.y);\x0a\x20\x20float\x20n\x20=\x20PI\x20*\x202.0\x20/\x20s;\x0a\x20\x20a\x20=\x20floor(a\x20/\x20n)\x20*\x20n;\x0a\x20\x20p\x20*=\x20rot(a);\x0a\x20\x20return\x20p;\x0a}\x0a\x0afloat\x20sdRect(vec2\x20p,\x20vec2\x20b)\x20{\x0a\x20\x20vec2\x20d\x20=\x20abs(p)\x20-\x20b;\x0a\x20\x20return\x20min(max(d.x,\x20d.y),\x200.0)\x20+\x20length(max(d,\x200.0));\x0a}\x0a\x0afloat\x20tex(vec2\x20p,\x20float\x20z)\x20{\x0a\x20\x20float\x20time_warp\x20=\x20sin(u_time\x20*\x200.5)\x20*\x200.1;\x0a\x0a\x20\x20//\x20Apply\x20tunnel\x20speed\x20to\x20geometry\x20scaling/distortion\x20for\x20perspective\x20effect\x0a\x20\x20float\x20speedInfluence\x20=\x20u_tunnelSpeed\x20*\x200.3;\x0a\x0a\x20\x20p\x20=\x20foldRotate(p,\x208.0);\x0a\x20\x20vec2\x20q\x20=\x20(fract(p\x20/\x2010.0)\x20-\x200.5)\x20*\x2010.0;\x0a\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x203;\x20++i)\x20{\x0a\x20\x20\x20\x20for(int\x20j\x20=\x200;\x20j\x20<\x202;\x20j++)\x20{\x0a\x20\x20\x20\x20\x20\x20q\x20=\x20abs(q)\x20-\x20(0.15\x20+\x20time_warp\x20*\x200.5\x20+\x20speedInfluence\x20*\x200.1);\x0a\x20\x20\x20\x20\x20\x20q\x20*=\x20rot(PI\x20*\x200.25);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20q\x20=\x20abs(q)\x20-\x20vec2(1.0\x20+\x20time_warp\x20+\x20speedInfluence\x20*\x200.15,\x201.5\x20-\x20time_warp\x20*\x200.5);\x0a\x20\x20\x20\x20q\x20*=\x20rot(PI\x20*\x200.25\x20*\x20z);\x0a\x20\x20\x20\x20q\x20=\x20foldRotate(q,\x203.0);\x0a\x20\x20}\x0a\x20\x20float\x20d\x20=\x20sdRect(q,\x20vec2(1.0,\x201.0));\x0a\x20\x20float\x20f\x20=\x201.0\x20/\x20(1.0\x20+\x20abs(d));\x0a\x20\x20return\x20smoothstep(0.9,\x201.0,\x20f);\x0a}\x0a\x0afloat\x20Bokeh(vec2\x20p,\x20vec2\x20sp,\x20float\x20size,\x20float\x20mi,\x20float\x20blur)\x20{\x0a\x20\x20float\x20d\x20=\x20length(p\x20-\x20sp);\x0a\x20\x20float\x20c\x20=\x20smoothstep(size,\x20size\x20*\x20(1.0\x20-\x20blur),\x20d);\x0a\x20\x20c\x20=\x20mix(mi,\x201.0,\x20smoothstep(size\x20*\x200.8,\x20size,\x20d));\x0a\x20\x20return\x20c;\x0a}\x0a\x0avec2\x20hash(vec2\x20p)\x20{\x0a\x20\x20p\x20=\x20vec2(dot(p,\x20vec2(127.1,\x20311.7)),\x20dot(p,\x20vec2(269.5,\x20183.3)));\x0a\x20\x20return\x20fract(sin(p)\x20*\x2043758.5453)\x20*\x202.0\x20-\x201.0;\x0a}\x0a\x0afloat\x20dirt(vec2\x20uv,\x20float\x20n)\x20{\x0a\x20\x20vec2\x20p\x20=\x20fract(uv\x20*\x20n);\x0a\x20\x20vec2\x20st\x20=\x20(floor(uv\x20*\x20n)\x20+\x200.5)\x20/\x20n;\x0a\x20\x20vec2\x20rnd\x20=\x20hash(st);\x0a\x20\x20return\x20Bokeh(p,\x20vec2(0.5,\x200.5)\x20+\x20vec2(0.2)\x20*\x20rnd,\x200.05,\x20abs(rnd.y\x20*\x200.4)\x20+\x200.3,\x200.25\x20+\x20rnd.x\x20*\x20rnd.y\x20*\x200.2);\x0a}\x0a\x0afloat\x20sm(float\x20start,\x20float\x20end,\x20float\x20t,\x20float\x20smo)\x20{\x0a\x20\x20return\x20smoothstep(start,\x20start\x20+\x20smo,\x20t)\x20-\x20smoothstep(end\x20-\x20smo,\x20end,\x20t);\x0a}\x0a\x0avoid\x20mainImageLogic(out\x20vec4\x20fragColor,\x20in\x20vec2\x20fragCoord)\x20{\x0a\x20\x20vec2\x20uv\x20=\x20fragCoord.xy\x20/\x20u_resolution.xy;\x0a\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x0a\x20\x20uv.x\x20*=\x20u_resolution.x\x20/\x20u_resolution.y;\x0a\x20\x20uv\x20*=\x202.0;\x0a\x0a\x20\x20vec3\x20col\x20=\x20vec3(0.0);\x0a\x0a\x20\x20#define\x20N\x206\x0a\x20\x20#define\x20NN\x20float(N)\x0a\x20\x20#define\x20INTERVAL\x203.0\x0a\x0a\x20\x20float\x20time\x20=\x20u_time;\x0a\x0a\x20\x20//\x20TIME\x20DISTORTION\x20EFFECT:\x20Warp\x20time\x20during\x20drop\x20outro\x0a\x20\x20//\x20Creates\x20a\x20dramatic\x20\x22fast-forward\x22\x20visual\x20effect\x20during\x20drops\x0a\x20\x20//\x20High\x20distortion\x20=\x20extreme\x20warping\x20of\x20the\x20texture\x20progression\x0a\x20\x20float\x20distortedTime\x20=\x20time\x20*\x20(1.0\x20+\x20u_timeDistortion\x20*\x203.0);\x20//\x20Up\x20to\x204x\x20time\x20warp!\x0a\x0a\x20\x20//\x20Also\x20apply\x20spatial\x20distortion\x20to\x20UVs\x20based\x20on\x20time\x20distortion\x0a\x20\x20//\x20Make\x20this\x20much\x20more\x20extreme\x20for\x20obvious\x20warping\x0a\x20\x20vec2\x20uvDistort\x20=\x20uv\x20*\x20(1.0\x20+\x20sin(distortedTime\x20*\x200.5)\x20*\x20u_timeDistortion\x20*\x200.4);\x0a\x0a\x20\x20//\x20BEAT\x20PULSE:\x20Sharp\x20hue\x20shift\x20on\x20beat\x20detection\x0a\x20\x20//\x20Adds\x20a\x20bright\x20white/yellow\x20flash\x20mixed\x20into\x20the\x20colors\x0a\x20\x20float\x20beatFlash\x20=\x20u_beatPulse\x20*\x200.8;\x20//\x200-0.8\x20intensity\x20on\x20beat\x0a\x0a\x20\x20//\x20DROP\x20EFFECT:\x20Massive\x20hue\x20and\x20intensity\x20shift\x20when\x20drop\x20is\x20detected\x0a\x20\x20//\x20Creates\x20a\x20\x22reality\x20warp\x22\x20visual\x20impact\x0a\x20\x20float\x20dropHueShift\x20=\x20u_dropActive\x20*\x200.4;\x20//\x20Hue\x20offset\x20during\x20drop\x0a\x20\x20float\x20dropIntensity\x20=\x20u_dropIntensity\x20*\x201.5;\x20//\x20Amplify\x20brightness/saturation\x0a\x0a\x20\x20//\x20Time\x20distortion\x20amplifies\x20drop\x20effect\x20even\x20more\x20during\x20outro\x0a\x20\x20dropIntensity\x20+=\x20u_timeDistortion\x20*\x202.0;\x20//\x20Extra\x20boost\x20during\x20drop\x20outro\x0a\x0a\x20\x20//\x20Smooth\x20time\x20for\x20hue\x20control,\x20shifted\x20by\x20color\x20shift\x20speed\x0a\x20\x20//\x20Also\x20affected\x20by\x20beat\x20pulse\x20and\x20drop\x20for\x20reactive\x20color\x20changes\x0a\x20\x20float\x20colorSpeed\x20=\x20u_colorShiftSpeed\x20*\x200.2;\x0a\x20\x20colorSpeed\x20+=\x20beatFlash\x20*\x200.5;\x20//\x20Beat\x20accelerates\x20hue\x20shifts\x0a\x20\x20colorSpeed\x20+=\x20dropIntensity\x20*\x200.3;\x20//\x20Drop\x20amplifies\x20color\x20cycling\x0a\x20\x20colorSpeed\x20+=\x20u_timeDistortion\x20*\x201.5;\x20//\x20Time\x20distortion\x20REALLY\x20warps\x20color\x20cycling\x0a\x20\x20float\x20smooth_time\x20=\x20mod(distortedTime\x20*\x20colorSpeed,\x20INTERVAL\x20*\x202.0);\x0a\x0a\x20\x20//\x20Define\x20the\x20two\x20main\x20colors\x20we\x20are\x20blending\x20between\x20(Cyan/Magenta/Yellow\x20transition)\x0a\x20\x20float\x20hue_A\x20=\x20mod(smooth_time\x20*\x200.05\x20+\x20dropHueShift,\x201.0)\x20+\x200.5;\x0a\x20\x20float\x20hue_B\x20=\x20mod(smooth_time\x20*\x200.05\x20+\x20dropHueShift,\x201.0)\x20+\x200.8;\x0a\x0a\x20\x20//\x20Loop\x20for\x20layered,\x20fading\x20tunnel\x20instances\x0a\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x20N;\x20i++)\x20{\x0a\x20\x20\x20\x20float\x20t;\x0a\x20\x20\x20\x20float\x20ii\x20=\x20float(N\x20-\x20i);\x0a\x20\x20\x20\x20//\x20USE\x20DISTORTED\x20TIME\x20for\x20tunnel\x20animation\x20to\x20make\x20warp\x20effect\x20visible!\x0a\x20\x20\x20\x20float\x20time_mod\x20=\x20mod(distortedTime,\x20INTERVAL);\x0a\x0a\x20\x20\x20\x20float\x20progress\x20=\x201.0\x20-\x20(ii\x20*\x20INTERVAL\x20-\x20time_mod)\x20/\x20(NN\x20*\x20INTERVAL);\x0a\x20\x20\x20\x20progress\x20=\x20clamp(progress\x20*\x201.5,\x200.0,\x201.0);\x0a\x0a\x20\x20\x20\x20vec3\x20instanceIntensity\x20=\x20vec3(smoothstep(0.0,\x201.0,\x201.0\x20-\x20progress));\x0a\x0a\x20\x20\x20\x20//\x20BEAT\x20AND\x20DROP\x20BOOSTS:\x20Intensify\x20the\x20visual\x20during\x20key\x20moments\x0a\x20\x20\x20\x20float\x20intensityBoost\x20=\x201.0\x20+\x20beatFlash\x20*\x202.5\x20+\x20dropIntensity\x20*\x202.0;\x20//\x201x\x20to\x204.5x\x20brighter\x0a\x20\x20\x20\x20instanceIntensity\x20*=\x20intensityBoost;\x0a\x0a\x20\x20\x20\x20float\x20current_hue\x20=\x20mod(mix(hue_A,\x20hue_B,\x20progress),\x201.0);\x0a\x0a\x20\x20\x20\x20//\x20Layer\x201:\x20Placeholder/Ambient\x0a\x20\x20\x20\x20t\x20=\x20ii\x20*\x20INTERVAL\x20-\x20mod(distortedTime\x20-\x20INTERVAL\x20*\x200.75,\x20INTERVAL);\x0a\x20\x20\x20\x20vec3\x20color1\x20=\x20hsv2rgb(vec3(current_hue,\x200.8,\x201.2));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20instanceIntensity\x20*\x20color1,\x200.0);\x0a\x0a\x20\x20\x20\x20//\x20Layer\x202:\x20Main\x20Kaleidoscope\x20Grid\x20Structure\x0a\x20\x20\x20\x20t\x20=\x20ii\x20*\x20INTERVAL\x20-\x20mod(distortedTime\x20+\x20INTERVAL\x20*\x200.5,\x20INTERVAL);\x0a\x20\x20\x20\x20vec3\x20color2\x20=\x20hsv2rgb(vec3(current_hue,\x201.0,\x202.0));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20instanceIntensity\x20*\x20color2\x20*\x201.8,\x20tex(uvDistort\x20*\x20max(0.0,\x20t),\x204.45));\x0a\x0a\x20\x20\x20\x20//\x20Layer\x203:\x20Placeholder\x0a\x20\x20\x20\x20t\x20=\x20ii\x20*\x20INTERVAL\x20-\x20mod(distortedTime\x20-\x20INTERVAL\x20*\x200.25,\x20INTERVAL);\x0a\x20\x20\x20\x20vec3\x20color3\x20=\x20hsv2rgb(vec3(current_hue,\x200.5,\x200.5));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20instanceIntensity\x20*\x20color3,\x200.0);\x0a\x0a\x20\x20\x20\x20//\x20Layer\x204:\x20Central\x20Pulse/Glow\x20Grid\x0a\x20\x20\x20\x20t\x20=\x20ii\x20*\x20INTERVAL\x20-\x20mod(distortedTime,\x20INTERVAL);\x0a\x20\x20\x20\x20float\x20r\x20=\x20length(uvDistort\x20*\x202.0\x20*\x20max(0.0,\x20t));\x0a\x20\x20\x20\x20float\x20rr\x20=\x20sm(-24.0,\x20-0.0,\x20(r\x20-\x20mod(distortedTime\x20*\x2030.0,\x2090.0)),\x2010.0);\x0a\x0a\x20\x20\x20\x20float\x20pulse_hue\x20=\x20mod(mix(0.25,\x20hue_B,\x20progress\x20*\x200.5),\x201.0);\x0a\x20\x20\x20\x20vec3\x20pulseColor\x20=\x20mix(instanceIntensity\x20*\x20vec3(1.0),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20instanceIntensity\x20*\x20hsv2rgb(vec3(pulse_hue,\x200.3,\x205.0)),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rr);\x0a\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20pulseColor,\x20tex(uvDistort\x20*\x202.0\x20*\x20max(0.0,\x20t),\x200.27\x20+\x20(2.0\x20*\x20rr)));\x0a\x20\x20}\x0a\x0a\x20\x20fragColor\x20=\x20vec4(col,\x201.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20colorResult;\x0a\x20\x20mainImageLogic(colorResult,\x20gl_FragCoord.xy);\x0a\x20\x20fragColorOutput\x20=\x20colorResult;\x0a}\x0a','3282762OSllEz','_program','createShader','_timeDistortion','_novelty','deleteBuffer','createProgram','u_colorShiftSpeed','uniform1f','u_timeDistortion'];_0x350b=function(){return _0x1351c4;};return _0x350b();}_0x4969b8('kaleidoscope-tunnel',n,{'meta':n[_0x1dc952(0x241)]});
