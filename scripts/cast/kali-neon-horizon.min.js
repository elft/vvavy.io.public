const _0x10a544=_0x1b1d;(function(_0x5a1896,_0xde1662){const _0xacd2e2=_0x1b1d,_0x3b3562=_0x5a1896();while(!![]){try{const _0x29169a=-parseInt(_0xacd2e2(0x179))/0x1+-parseInt(_0xacd2e2(0x15e))/0x2+parseInt(_0xacd2e2(0x14e))/0x3*(-parseInt(_0xacd2e2(0x124))/0x4)+parseInt(_0xacd2e2(0x11a))/0x5*(parseInt(_0xacd2e2(0x17d))/0x6)+parseInt(_0xacd2e2(0x153))/0x7*(-parseInt(_0xacd2e2(0x116))/0x8)+parseInt(_0xacd2e2(0x133))/0x9+parseInt(_0xacd2e2(0x158))/0xa*(parseInt(_0xacd2e2(0x189))/0xb);if(_0x29169a===_0xde1662)break;else _0x3b3562['push'](_0x3b3562['shift']());}catch(_0x25180a){_0x3b3562['push'](_0x3b3562['shift']());}}}(_0x2a5d,0x29c0d));function _0x1b1d(_0x2dbeb9,_0x24b4bd){const _0x2a5dcd=_0x2a5d();return _0x1b1d=function(_0x1b1dd0,_0x453669){_0x1b1dd0=_0x1b1dd0-0x116;let _0x4f3b17=_0x2a5dcd[_0x1b1dd0];return _0x4f3b17;},_0x1b1d(_0x2dbeb9,_0x24b4bd);}function _0x2a5d(){const _0x9da510=['6714nSZHVW','trebleEnergy','_loudnessDistortionDropHold','width','drawingBufferWidth','13818vxklUY','drop','_time','_lastRenderAt','highEnergy','20tyeycn','createBuffer','_loudnessDistortionPhase','beatPulse','_loudnessDistortion','canvas','354088jqiLyV','beatDrop','uStereo','_fullscreenBuffer','smooth','onUpdate','vertexAttribPointer','attackRelease','uBass','STATIC_DRAW','clamp','TECH','spectralFlux','uniform4f','_program','createProgram','DEPTH_TEST','_phraseClock','_loudnessDistortionDirection','lowMidEnergy','uResolution','_outroCollapsePhase','step','_loudnessDistortionPeak','_lastLoudnessSample','_loudnessDistortionDropTimer','uColorDrift','221234uSXZos','VIBE','_introCollapsePhase','uniform1f','830574gRymEa','overallEnergy','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','outroPhase','_loudnessDistortionActive','uDrop','onResize','_attributes','uIntroCollapsePhase','kali-neon-horizon','bpm','rms','2549558vauHZs','update','energy','_loudnessDistortionTravel','_updateResolutionUniform','loudnessDb','uEnergy','mrange','midSideRatio','uTime','aPosition','stereo','dbNormalized','uLoudnessDistortionDirection','reset','treble','_timelineDistortion','getAttribLocation','getUniformLocation','TRIPPY','1376BRHqJS','blendFunc','map','#ifdef\x20GL_ES\x0a#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aprecision\x20highp\x20int;\x0a#endif\x0a\x0a#ifdef\x20GL_OES_STANDARD_DERIVATIVES\x0a#extension\x20GL_OES_standard_derivatives\x20:\x20enable\x0a#define\x20HAS_DERIVATIVES\x201\x0a#elif\x20defined(GL_OES_standard_derivatives)\x0a#extension\x20GL_OES_standard_derivatives\x20:\x20enable\x0a#define\x20HAS_DERIVATIVES\x201\x0a#else\x0a#define\x20HAS_DERIVATIVES\x200\x0a#endif\x0a\x0auniform\x20float\x20uTime;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uBass;\x0auniform\x20float\x20uTreble;\x0auniform\x20float\x20uFlux;\x0auniform\x20float\x20uStereo;\x0auniform\x20float\x20uPhrase;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uColorDrift;\x0auniform\x20float\x20uBeatPulse;\x0auniform\x20float\x20uIntroCollapsePhase;\x0auniform\x20float\x20uOutroCollapsePhase;\x0auniform\x20vec4\x20uLoudnessDistortion;\x0auniform\x20float\x20uLoudnessDistortionDirection;\x0a\x0a#define\x20_t\x20uTime\x0a#define\x20_res\x20uResolution\x0a#define\x20TIME\x20\x20\x20\x20\x20\x20\x20\x20(_t\x20+\x20uFlux\x20*\x200.25\x20+\x20uDrop\x20*\x200.35)\x0a#define\x20RESOLUTION\x20\x20_res\x0a#define\x20PI\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.141592654\x0a#define\x20PI_2\x20\x20\x20\x20\x20\x20\x20\x20(0.5*PI)\x0a#define\x20TAU\x20\x20\x20\x20\x20\x20\x20\x20\x20(2.0*PI)\x0a#define\x20SCA(a)\x20\x20\x20\x20\x20\x20vec2(sin(a),\x20cos(a))\x0a#define\x20ROT(a)\x20\x20\x20\x20\x20\x20mat2(cos(a),\x20sin(a),\x20-sin(a),\x20cos(a))\x0a\x0a//\x20CC0:\x20For\x20the\x20neon\x20style\x20enjoyers\x0a//\x20Ported\x20+\x20audio-reactive\x20adaptation\x20for\x20vvavy.io\x20by\x20Codex\x0a\x0a#define\x20HSV2RGB(c)\x20\x20(c.z\x20*\x20mix(hsv2rgb_K.xxx,\x20clamp(abs(fract(c.xxx\x20+\x20hsv2rgb_K.xyz)\x20*\x206.0\x20-\x20hsv2rgb_K.www)\x20-\x20hsv2rgb_K.xxx,\x200.0,\x201.0),\x20c.y))\x0a\x0aconst\x20vec4\x20hsv2rgb_K\x20=\x20vec4(1.0,\x202.0\x20/\x203.0,\x201.0\x20/\x203.0,\x203.0);\x0a\x0avec3\x20hsv2rgb(vec3\x20c)\x20{\x0a\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20hsv2rgb_K.xyz)\x20*\x206.0\x20-\x20hsv2rgb_K.www);\x0a\x20\x20return\x20c.z\x20*\x20mix(hsv2rgb_K.xxx,\x20clamp(p\x20-\x20hsv2rgb_K.xxx,\x200.0,\x201.0),\x20c.y);\x0a}\x0a\x0avec3\x20rgb2hsv(vec3\x20c)\x20{\x0a\x20\x20const\x20vec4\x20K\x20=\x20vec4(0.0,\x20-1.0\x20/\x203.0,\x202.0\x20/\x203.0,\x20-1.0);\x0a\x20\x20vec4\x20p\x20=\x20mix(vec4(c.bg,\x20K.wz),\x20vec4(c.gb,\x20K.xy),\x20step(c.b,\x20c.g));\x0a\x20\x20vec4\x20q\x20=\x20mix(vec4(p.xyw,\x20c.r),\x20vec4(c.r,\x20p.yzx),\x20step(p.x,\x20c.r));\x0a\x0a\x20\x20float\x20d\x20=\x20q.x\x20-\x20min(q.w,\x20q.y);\x0a\x20\x20float\x20e\x20=\x201.0e-10;\x0a\x20\x20return\x20vec3(abs(q.z\x20+\x20(q.w\x20-\x20q.y)\x20/\x20(6.0\x20*\x20d\x20+\x20e)),\x20d\x20/\x20(q.x\x20+\x20e),\x20q.x);\x0a}\x0a\x0aconst\x20vec3\x20skyCol\x20\x20\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.58,\x200.86,\x201.0));\x0aconst\x20vec3\x20speCol1\x20\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.60,\x200.25,\x201.0));\x0aconst\x20vec3\x20speCol2\x20\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.55,\x200.25,\x201.0));\x0aconst\x20vec3\x20diffCol1\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.60,\x200.90,\x201.0));\x0aconst\x20vec3\x20diffCol2\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.55,\x200.90,\x201.0));\x0aconst\x20vec3\x20sunCol1\x20\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.60,\x200.50,\x200.5));\x0aconst\x20vec3\x20sunDir2\x20\x20\x20\x20\x20\x20=\x20vec3(0.0,\x200.634517,\x200.772909);\x0aconst\x20vec3\x20sunDir\x20\x20\x20\x20\x20\x20\x20=\x20vec3(0.0,\x200.049938,\x200.998752);\x0aconst\x20vec3\x20sunCol\x20\x20\x20\x20\x20\x20\x20=\x20HSV2RGB(vec3(0.58,\x200.86,\x200.0005));\x0aconst\x20float\x20mountainPos\x20=\x20-20.0;\x0a\x0afloat\x20atan_approx(float\x20y,\x20float\x20x)\x20{\x0a\x20\x20float\x20cosatan2\x20=\x20x\x20/\x20(abs(x)\x20+\x20abs(y));\x0a\x20\x20float\x20t\x20=\x20PI_2\x20-\x20cosatan2\x20*\x20PI_2;\x0a\x20\x20return\x20y\x20<\x200.0\x20?\x20-t\x20:\x20t;\x0a}\x0a\x0afloat\x20tanh_approx(float\x20x)\x20{\x0a\x20\x20float\x20x2\x20=\x20x*x;\x0a\x20\x20return\x20clamp(x*(27.0\x20+\x20x2)/(27.0+9.0*x2),\x20-1.0,\x201.0);\x0a}\x0a\x0avec2\x20toPolar2(vec2\x20p)\x20{\x0a\x20\x20return\x20vec2(length(p),\x20atan_approx(p.y,\x20p.x));\x0a}\x0a\x0avec2\x20toRect2(vec2\x20p)\x20{\x0a\x20\x20return\x20vec2(p.x\x20*\x20cos(p.y),\x20p.x\x20*\x20sin(p.y));\x0a}\x0a\x0avec3\x20toSpherical(vec3\x20p)\x20{\x0a\x20\x20float\x20r\x20\x20\x20=\x20length(p);\x0a\x20\x20float\x20t\x20\x20\x20=\x20acos(p.z/r);\x0a\x20\x20float\x20ph\x20\x20=\x20atan_approx(p.y,\x20p.x);\x0a\x20\x20return\x20vec3(r,\x20t,\x20ph);\x0a}\x0a\x0afloat\x20safeFwidth(float\x20value)\x20{\x0a#if\x20HAS_DERIVATIVES\x0a\x20\x20return\x20fwidth(value);\x0a#else\x0a\x20\x20return\x200.001;\x0a#endif\x0a}\x0a\x0afloat\x20safeDFdy(float\x20value)\x20{\x0a#if\x20HAS_DERIVATIVES\x0a\x20\x20return\x20dFdy(value);\x0a#else\x0a\x20\x20return\x200.0;\x0a#endif\x0a}\x0a\x0avec3\x20tanh_vec(vec3\x20v)\x20{\x0a\x20\x20return\x20vec3(tanh_approx(v.x),\x20tanh_approx(v.y),\x20tanh_approx(v.z));\x0a}\x0a\x0avec3\x20sRGB(vec3\x20t)\x20{\x0a\x20\x20return\x20mix(1.055*pow(t,\x20vec3(1./2.4))\x20-\x200.055,\x2012.92*t,\x20step(t,\x20vec3(0.0031308)));\x0a}\x0a\x0avec3\x20aces_approx(vec3\x20v)\x20{\x0a\x20\x20v\x20=\x20max(v,\x200.0);\x0a\x20\x20v\x20*=\x200.6;\x0a\x20\x20float\x20a\x20=\x202.51;\x0a\x20\x20float\x20b\x20=\x200.03;\x0a\x20\x20float\x20c\x20=\x202.43;\x0a\x20\x20float\x20d\x20=\x200.59;\x0a\x20\x20float\x20e\x20=\x200.14;\x0a\x20\x20return\x20clamp((v*(a*v+b))/(v*(c*v+d)+e),\x200.0,\x201.0);\x0a}\x0a\x0afloat\x20mod1(inout\x20float\x20p,\x20float\x20size)\x20{\x0a\x20\x20float\x20halfsize\x20=\x20size*0.5;\x0a\x20\x20float\x20c\x20=\x20floor((p\x20+\x20halfsize)/size);\x0a\x20\x20p\x20=\x20mod(p\x20+\x20halfsize,\x20size)\x20-\x20halfsize;\x0a\x20\x20return\x20c;\x0a}\x0a\x0avec2\x20mod2(inout\x20vec2\x20p,\x20vec2\x20size)\x20{\x0a\x20\x20vec2\x20c\x20=\x20floor((p\x20+\x20size*0.5)/size);\x0a\x20\x20p\x20=\x20mod(p\x20+\x20size*0.5,size)\x20-\x20size*0.5;\x0a\x20\x20return\x20c;\x0a}\x0a\x0afloat\x20rayPlane(vec3\x20ro,\x20vec3\x20rd,\x20vec4\x20p)\x20{\x0a\x20\x20return\x20-(dot(ro,p.xyz)+p.w)/dot(rd,p.xyz);\x0a}\x0a\x0afloat\x20equilateralTriangle(vec2\x20p)\x20{\x0a\x20\x20const\x20float\x20k\x20=\x20sqrt(3.0);\x0a\x20\x20p.x\x20=\x20abs(p.x)\x20-\x201.0;\x0a\x20\x20p.y\x20=\x20p.y\x20+\x201.0/k;\x0a\x20\x20if(\x20p.x+k*p.y>0.0\x20)\x20p\x20=\x20vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\x0a\x20\x20p.x\x20-=\x20clamp(\x20p.x,\x20-2.0,\x200.0\x20);\x0a\x20\x20return\x20-length(p)*sign(p.y);\x0a}\x0a\x0afloat\x20box(vec2\x20p,\x20vec2\x20b)\x20{\x0a\x20\x20vec2\x20d\x20=\x20abs(p)-b;\x0a\x20\x20return\x20length(max(d,0.0))\x20+\x20min(max(d.x,d.y),0.0);\x0a}\x0a\x0afloat\x20segment(vec2\x20p,\x20vec2\x20a,\x20vec2\x20b)\x20{\x0a\x20\x20vec2\x20pa\x20=\x20p-a,\x20ba\x20=\x20b-a;\x0a\x20\x20float\x20h\x20=\x20clamp(\x20dot(pa,ba)/dot(ba,ba),\x200.0,\x201.0\x20);\x0a\x20\x20return\x20length(pa\x20-\x20ba*h);\x0a}\x0a\x0afloat\x20hash(vec2\x20co)\x20{\x0a\x20\x20return\x20fract(sin(dot(co.xy\x20,vec2(12.9898,58.233)))\x20*\x2013758.5453);\x0a}\x0a\x0afloat\x20vnoise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20\x20\x20\x0a\x20\x20vec2\x20u\x20=\x20f*f*(3.0-2.0*f);\x0a\x0a\x20\x20float\x20a\x20=\x20hash(i\x20+\x20vec2(0.0,0.0));\x0a\x20\x20float\x20b\x20=\x20hash(i\x20+\x20vec2(1.0,0.0));\x0a\x20\x20float\x20c\x20=\x20hash(i\x20+\x20vec2(0.0,1.0));\x0a\x20\x20float\x20d\x20=\x20hash(i\x20+\x20vec2(1.0,1.0));\x0a\x20\x20\x0a\x20\x20float\x20m0\x20=\x20mix(a,\x20b,\x20u.x);\x0a\x20\x20float\x20m1\x20=\x20mix(c,\x20d,\x20u.x);\x0a\x20\x20float\x20m2\x20=\x20mix(m0,\x20m1,\x20u.y);\x0a\x20\x20\x0a\x20\x20return\x20m2;\x0a}\x0a\x0avec2\x20raySphere(vec3\x20ro,\x20vec3\x20rd,\x20vec4\x20dim)\x20{\x0a\x20\x20vec3\x20ce\x20=\x20dim.xyz;\x0a\x20\x20float\x20ra\x20=\x20dim.w;\x0a\x20\x20vec3\x20oc\x20=\x20ro\x20-\x20ce;\x0a\x20\x20float\x20b\x20=\x20dot(\x20oc,\x20rd\x20);\x0a\x20\x20float\x20c\x20=\x20dot(\x20oc,\x20oc\x20)\x20-\x20ra*ra;\x0a\x20\x20float\x20h\x20=\x20b*b\x20-\x20c;\x0a\x20\x20if(\x20h<0.0\x20)\x20return\x20vec2(-1.0);\x0a\x20\x20h\x20=\x20sqrt(\x20h\x20);\x0a\x20\x20return\x20vec2(\x20-b-h,\x20-b+h\x20);\x0a}\x0a\x0avec3\x20skyRender(vec3\x20ro,\x20vec3\x20rd)\x20{\x0a\x20\x20vec3\x20col\x20=\x20vec3(0.0);\x0a\x20\x20col\x20+=\x200.025*skyCol;\x0a\x20\x20col\x20+=\x20skyCol*0.0033/pow((1.001+((dot(sunDir2,\x20rd)))),\x202.0);\x0a\x0a\x20\x20float\x20tp0\x20\x20=\x20rayPlane(ro,\x20rd,\x20vec4(vec3(0.0,\x201.0,\x200.0),\x204.0));\x0a\x20\x20float\x20tp1\x20\x20=\x20rayPlane(ro,\x20rd,\x20vec4(vec3(0.0,\x20-1.0,\x200.0),\x206.0));\x0a\x20\x20float\x20tp\x20=\x20tp1;\x0a\x20\x20tp\x20=\x20max(tp0,tp1);\x0a\x0a\x20\x20if\x20(tp1\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20vec3\x20pos\x20\x20=\x20ro\x20+\x20tp1*rd;\x0a\x20\x20\x20\x20vec2\x20pp\x20=\x20pos.xz;\x0a\x20\x20\x20\x20float\x20db\x20=\x20box(pp,\x20vec2(5.0,\x209.0))-3.0;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20col\x20+=\x20vec3(4.0)*skyCol*rd.y*rd.y*smoothstep(0.25,\x200.0,\x20db);\x0a\x20\x20\x20\x20col\x20+=\x20vec3(0.8)*skyCol*exp(-0.5*max(db,\x200.0));\x0a\x20\x20\x20\x20col\x20+=\x200.25*sqrt(skyCol)*max(-db,\x200.0);\x0a\x20\x20}\x0a\x0a\x20\x20if\x20(tp0\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20vec3\x20pos\x20\x20=\x20ro\x20+\x20tp0*rd;\x0a\x20\x20\x20\x20vec2\x20pp\x20=\x20pos.xz;\x0a\x20\x20\x20\x20float\x20ds\x20=\x20length(pp)\x20-\x200.5;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20col\x20+=\x20(0.25)*skyCol*exp(-.5*max(ds,\x200.0));\x0a\x20\x20}\x0a\x0a\x20\x20return\x20clamp(col,\x200.0,\x2010.0);\x0a}\x0a\x0avec4\x20sphere(vec3\x20ro,\x20vec3\x20rd,\x20vec4\x20sdim)\x20{\x0a\x20\x20vec2\x20si\x20=\x20raySphere(ro,\x20rd,\x20sdim);\x0a\x20\x20\x0a\x20\x20vec3\x20nsp\x20=\x20ro\x20+\x20rd*si.x;\x0a\x0a\x20\x20const\x20vec3\x20lightPos1\x20\x20\x20=\x20vec3(0.0,\x2010.0,\x2010.0);\x0a\x20\x20const\x20vec3\x20lightPos2\x20\x20\x20=\x20vec3(0.0,\x20-80.0,\x2010.0);\x0a\x20\x20\x0a\x20\x20vec3\x20nld1\x20\x20\x20=\x20normalize(lightPos1-nsp);\x20\x0a\x20\x20vec3\x20nld2\x20\x20\x20=\x20normalize(lightPos2-nsp);\x20\x0a\x20\x20\x0a\x20\x20vec3\x20nnor\x20\x20\x20=\x20normalize(nsp\x20-\x20sdim.xyz);\x0a\x0a\x20\x20vec3\x20nref\x20\x20\x20=\x20reflect(rd,\x20nnor);\x0a\x0a\x20\x20const\x20float\x20sf\x20=\x204.0;\x0a\x20\x20float\x20ndif1\x20=\x20max(dot(nld1,\x20nnor),\x200.0);\x0a\x20\x20ndif1\x20\x20\x20\x20\x20\x20\x20*=\x20ndif1;\x0a\x20\x20vec3\x20nspe1\x20\x20=\x20pow(speCol1*max(dot(nld1,\x20nref),\x200.0),\x20sf*vec3(1.0,\x200.8,\x200.5));\x0a\x0a\x20\x20float\x20ndif2\x20=\x20max(dot(nld2,\x20nnor),\x200.0);\x0a\x20\x20ndif2\x20\x20\x20\x20\x20\x20\x20*=\x20ndif2;\x0a\x20\x20vec3\x20nspe2\x20\x20=\x20pow(speCol2*max(dot(nld2,\x20nref),\x200.0),\x20sf*vec3(0.9,\x200.5,\x200.5));\x0a\x0a\x20\x20vec3\x20nsky\x20\x20\x20=\x20skyRender(nsp,\x20nref);\x0a\x20\x20float\x20nfre\x20\x20=\x201.0+dot(rd,\x20nnor);\x0a\x20\x20nfre\x20\x20\x20\x20\x20\x20\x20\x20*=\x20nfre;\x0a\x0a\x20\x20vec3\x20scol\x20=\x20vec3(0.0);\x20\x0a\x20\x20scol\x20+=\x20nsky*mix(vec3(0.25),\x20vec3(0.5,\x200.5,\x201.0),\x20nfre);\x0a\x20\x20scol\x20+=\x20diffCol1*ndif1;\x0a\x20\x20scol\x20+=\x20diffCol2*ndif2;\x0a\x20\x20scol\x20+=\x20nspe1;\x0a\x20\x20scol\x20+=\x20nspe2;\x0a\x20\x20\x0a\x20\x20float\x20t\x20=\x20tanh_approx(2.0*(si.y-si.x)/sdim.w);\x0a\x20\x20\x0a\x20\x20return\x20vec4(scol,\x20t);\x0a}\x0a\x0avec3\x20sphereRender(vec3\x20ro,\x20vec3\x20rd)\x20{\x0a\x20\x20vec3\x20skyCol\x20=\x20skyRender(ro,\x20rd);\x0a\x20\x20vec3\x20col\x20=\x20skyCol;\x0a\x20\x20vec4\x20sdim0\x20=\x20vec4(vec3(0.0),\x202.0\x20+\x201.2\x20*\x20uBass\x20+\x200.5\x20*\x20uBeatPulse);\x0a\x20\x20vec4\x20scol0\x20=\x20sphere(ro,\x20rd,\x20sdim0);\x0a\x20\x20float\x20sphereMix\x20=\x20clamp(0.5\x20+\x200.4\x20*\x20uBeatPulse\x20+\x200.2\x20*\x20uTreble,\x200.0,\x201.0);\x0a\x20\x20col\x20=\x20mix(col,\x20scol0.xyz\x20*\x20(0.9\x20+\x200.3\x20*\x20uTreble),\x20scol0.w\x20*\x20sphereMix);\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20sphereEffect(vec2\x20p)\x20{\x0a\x20\x20float\x20fov\x20=\x20tan(TAU/6.0);\x0a\x20\x20vec3\x20ro\x20=\x20vec3(0.0,\x202.0\x20+\x20uEnergy,\x205.0\x20-\x203.0\x20*\x20uBass);\x0a\x20\x20vec3\x20la\x20=\x20vec3(0.4\x20*\x20uStereo,\x200.0,\x200.0);\x0a\x20\x20vec3\x20up\x20=\x20vec3(0.0,\x201.0,\x200.0);\x0a\x0a\x20\x20vec3\x20ww\x20=\x20normalize(la\x20-\x20ro);\x0a\x20\x20vec3\x20uu\x20=\x20normalize(cross(up,\x20ww));\x0a\x20\x20vec3\x20vv\x20=\x20cross(ww,uu);\x0a\x20\x20vec3\x20rd\x20=\x20normalize(-p.x*uu\x20+\x20p.y*vv\x20+\x20fov*ww);\x0a\x0a\x20\x20vec3\x20col\x20=\x20sphereRender(ro,\x20rd);\x0a\x20\x20\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20cityOfKali(vec2\x20p)\x20{\x0a\x20\x20vec2\x20c\x20=\x20-vec2(0.5,\x200.5)*1.12;\x0a\x0a\x20\x20float\x20s\x20=\x202.0\x20+\x200.25\x20*\x20uFlux;\x0a\x20\x20vec2\x20kp\x20=\x20p/s;\x0a\x20\x0a\x20\x20const\x20float\x20a\x20=\x20PI/4.0;\x0a\x20\x20const\x20vec2\x20n\x20=\x20vec2(cos(a),\x20sin(a));\x0a\x0a\x20\x20float\x20ot2\x20=\x201E6;\x0a\x20\x20float\x20ot3\x20=\x201E6;\x0a\x20\x20float\x20n2\x20=\x200.0;\x0a\x20\x20float\x20n3\x20=\x200.0;\x0a\x0a\x20\x20const\x20float\x20mx\x20=\x2012.0;\x0a\x20\x20for\x20(float\x20i\x20=\x200.0;\x20i\x20<\x20mx;\x20++i)\x20{\x0a\x20\x20\x20\x20float\x20m\x20=\x20(dot(kp,\x20kp));\x0a\x20\x20\x20\x20s\x20*=\x20m;\x0a\x20\x20\x20\x20kp\x20=\x20abs(kp)/m\x20+\x20c;\x0a\x20\x20\x20\x20float\x20d2\x20=\x20(abs(dot(kp,n)))*s;\x0a\x20\x20\x20\x20if\x20(d2\x20<\x20ot2)\x20{\x0a\x20\x20\x20\x20\x20\x20n2\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20ot2\x20=\x20d2;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20float\x20d3\x20=\x20(dot(kp,\x20kp));\x0a\x20\x20\x20\x20if\x20(d3\x20<\x20ot3)\x20{\x0a\x20\x20\x20\x20\x20\x20n3\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20ot3\x20=\x20d3;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x20\x20vec3\x20col\x20=\x20vec3(0.0);\x0a\x20\x20n2\x20/=\x20mx;\x0a\x20\x20n3\x20/=\x20mx;\x0a\x20\x20float\x20beatGlow\x20=\x201.0\x20+\x200.6\x20*\x20uBeatPulse;\x0a\x20\x20float\x20fluxSpark\x20=\x200.85\x20+\x200.4\x20*\x20clamp(uFlux,\x200.0,\x201.5);\x0a\x20\x20col\x20+=\x200.25*(hsv2rgb(vec3(0.8-0.2*n2*n2,\x200.90,\x200.025\x20*\x20beatGlow))/(sqrt(ot2)+0.0025));\x0a\x20\x20col\x20+=\x20hsv2rgb(vec3(0.55+0.8*n3\x20+\x200.15\x20*\x20uColorDrift,\x200.85,\x200.00000025\x20*\x20fluxSpark))/(ot3*ot3+0.000000025);\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20outerSkyRender(vec3\x20ro,\x20vec3\x20rd)\x20{\x0a\x20\x20vec3\x20center\x20=\x20ro+vec3(-100.0,\x2040.0,\x20100.0);\x0a\x20\x20vec4\x20sdim\x20=\x20vec4(center,\x2050);\x0a\x20\x20vec2\x20pi\x20=\x20raySphere(ro,\x20rd,\x20sdim);\x0a\x20\x20vec3\x20pn\x20=\x20normalize(vec3(0.,\x201.0,\x20-0.8));\x0a\x20\x20vec4\x20pdim\x20=\x20vec4(pn,\x20-dot(pn,\x20center));\x20\x0a\x20\x20float\x20ri\x20=\x20rayPlane(ro,\x20rd,\x20pdim);\x0a\x0a\x20\x20vec3\x20col\x20=\x20vec3(0.0);\x0a\x20\x20\x0a\x20\x20col\x20+=\x20sunCol/pow((1.001-((dot(sunDir,\x20rd)))),\x202.0);\x0a\x0a\x20\x20if\x20(pi.x\x20!=\x20-1.0)\x20{\x0a\x20\x20\x20\x20vec3\x20pp\x20=\x20ro\x20+\x20rd*pi.x;\x0a\x20\x20\x20\x20vec3\x20psp=\x20pp-sdim.xyz;\x0a\x20\x20\x20\x20vec3\x20pn2\x20=\x20normalize(pp-sdim.xyz);\x0a\x20\x20\x20\x20psp\x20=\x20psp.zxy;\x0a\x20\x20\x20\x20psp.yz\x20*=\x20ROT(-0.5\x20+\x200.25\x20*\x20uStereo);\x0a\x20\x20\x20\x20psp.xy\x20*=\x20ROT(0.025*TIME\x20+\x200.35\x20*\x20uPhrase\x20+\x200.25\x20*\x20uBeatPulse);\x0a\x20\x20\x20\x20vec3\x20pss=\x20toSpherical(psp);\x0a\x20\x20\x20\x20vec3\x20pcol\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20float\x20dif\x20=\x20max(dot(pn2,\x20sunDir),\x200.0);\x0a\x20\x20\x20\x20vec3\x20sc\x20=\x202000.0*sunCol;\x0a\x20\x20\x20\x20pcol\x20+=\x20sc*dif;\x0a\x20\x20\x20\x20pcol\x20+=\x20(cityOfKali(pss.yz))*smoothstep(0.125,\x200.0,\x20dif);\x0a\x20\x20\x20\x20pcol\x20+=\x20pow(max(dot(reflect(rd,\x20pn2),\x20sunDir),\x200.0),\x209.0)*sc;\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20pcol,\x20tanh_approx(0.125*(pi.y-pi.x)));\x0a\x20\x20\x20\x20\x0a\x20\x20}\x0a\x0a\x20\x20vec3\x20gcol\x20=\x20vec3(0.0);\x0a\x0a\x20\x20vec3\x20rp\x20=\x20ro\x20+\x20rd*ri;\x0a\x20\x20float\x20rl\x20=\x20length(rp-center);\x0a\x20\x20float\x20rb\x20=\x201.55*sdim.w;\x0a\x20\x20float\x20re\x20=\x202.45*sdim.w;\x0a\x20\x20float\x20rw\x20=\x200.1*sdim.w;\x0a\x20\x20vec3\x20rcol\x20=\x20hsv2rgb(vec3(clamp((0.005*(rl+32.0)),\x200.6,\x200.8),\x200.9,\x201.0));\x0a\x20\x20gcol\x20=\x20rcol*0.025;\x0a\x20\x20if\x20(ri\x20>\x200.0\x20&&\x20(pi.x\x20==\x20-1.0\x20||\x20ri\x20<\x20pi.x))\x20{\x0a\x20\x20\x20\x20float\x20mrl\x20=\x20rl;\x0a\x20\x20\x20\x20float\x20nrl\x20=\x20mod1(mrl,\x20rw);\x0a\x20\x20\x20\x20float\x20rfre\x20=\x201.0+dot(rd,\x20pn);\x0a\x20\x20\x20\x20vec3\x20rrcol\x20=\x20(rcol/max(abs(mrl),\x200.1+smoothstep(0.7,\x201.0,\x20rfre)));\x20\x0a\x20\x20\x20\x20rrcol\x20*=\x20smoothstep(1.0,\x200.3,\x20rfre);\x0a\x20\x20\x20\x20rrcol\x20*=\x20smoothstep(re,\x20re-0.5*rw,\x20rl);\x0a\x20\x20\x20\x20rrcol\x20*=\x20smoothstep(rb-0.5*rw,\x20rb,\x20rl);\x0a\x20\x20\x20\x20col\x20+=\x20rrcol;\x0a\x20\x20}\x0a\x0a\x20\x20col\x20+=\x20gcol/max(abs(rd.y),\x200.0033);\x0a\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20triRender(vec3\x20col,\x20vec3\x20ro,\x20vec3\x20rd,\x20inout\x20float\x20maxt)\x20{\x0a\x20\x20vec3\x20tpn\x20=\x20normalize(vec3(0.0,\x200.0,\x201.0));\x0a\x20\x20vec4\x20tpdim\x20=\x20vec4(tpn,\x20-2.0);\x0a\x20\x20float\x20tpd\x20=\x20rayPlane(ro,\x20rd,\x20tpdim);\x0a\x0a\x20\x20if\x20(tpd\x20<\x200.0\x20||\x20tpd\x20>\x20maxt)\x20{\x0a\x20\x20\x20\x20return\x20col;\x0a\x20\x20}\x0a\x0a\x20\x20vec3\x20pp\x20=\x20ro+rd*tpd;\x0a\x20\x20vec2\x20p\x20=\x20pp.xy;\x0a\x20\x20float\x20beatWarp\x20=\x200.5\x20+\x200.25\x20*\x20uBass;\x0a\x20\x20beatWarp\x20*=\x201.0\x20+\x200.2\x20*\x20uBeatPulse;\x0a\x20\x20p\x20*=\x20beatWarp;\x0a\x0a\x20\x20const\x20float\x20off\x20=\x201.2-0.02;\x0a\x20\x20vec2\x20op\x20=\x20p;\x20\x0a\x20\x20p.y\x20-=\x20off;\x0a\x20\x20const\x20vec2\x20n\x20=\x20SCA(-PI/3.0);\x0a\x20\x20vec2\x20gp\x20=\x20p;\x0a\x20\x20float\x20hoff\x20=\x200.15*dot(n,\x20p);\x0a\x20\x20vec3\x20gcol\x20=\x20hsv2rgb(vec3(clamp(0.7+hoff+0.2*uColorDrift,\x200.6,\x200.8),\x200.90,\x200.02\x20+\x200.4\x20*\x20uTreble));\x0a\x20\x20vec2\x20pt\x20=\x20p;\x0a\x20\x20pt.y\x20=\x20-pt.y;\x0a\x20\x20const\x20float\x20zt\x20=\x201.0;\x0a\x20\x20float\x20dt\x20=\x20equilateralTriangle(pt/zt)*zt;\x0a\x20\x20if\x20(dt\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20vec2\x20pulseP\x20=\x20p\x20*\x20(1.0\x20+\x200.15\x20*\x20uBeatPulse);\x0a\x20\x20\x20\x20col\x20=\x20sphereEffect(1.5\x20*\x20pulseP);\x0a\x20\x20}\x0a\x20\x20float\x20rimMix\x20=\x20smoothstep(0.25,\x200.0,\x20dt);\x0a\x20\x20rimMix\x20*=\x201.0\x20+\x200.4\x20*\x20uBeatPulse;\x0a\x20\x20col\x20+=\x20(gcol/max(abs(dt),\x200.001))*rimMix;\x0a\x20\x20if\x20(dt\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20maxt\x20=\x20tpd;\x0a\x20\x20}\x0a\x20\x20return\x20col;\x20\x20\x0a}\x0a\x0afloat\x20heightFactor(vec2\x20p)\x20{\x0a\x20\x20return\x204.0*smoothstep(7.0,\x200.5,\x20abs(p.x))+.5;\x0a}\x0a\x0afloat\x20hifbm(vec2\x20p)\x20{\x0a\x20\x20p\x20*=\x200.25;\x0a\x20\x20float\x20hf\x20=\x20heightFactor(p);\x0a\x20\x20const\x20float\x20aa\x20=\x200.5;\x0a\x20\x20const\x20float\x20pp\x20=\x202.0;\x0a\x0a\x20\x20float\x20sum\x20=\x200.0;\x0a\x20\x20float\x20a\x20\x20\x20=\x201.0;\x0a\x20\x20\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x205;\x20++i)\x20{\x0a\x20\x20\x20\x20sum\x20+=\x20a*vnoise(p);\x0a\x20\x20\x20\x20a\x20*=\x20aa;\x0a\x20\x20\x20\x20p\x20*=\x20pp;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20return\x20hf*sum;\x0a}\x0a\x0afloat\x20hiheight(vec2\x20p)\x20{\x0a\x20\x20return\x20hifbm(p);\x0a}\x0a\x0afloat\x20lofbm(vec2\x20p)\x20{\x0a\x20\x20p\x20*=\x200.25;\x0a\x20\x20float\x20hf\x20=\x20heightFactor(p);\x0a\x20\x20const\x20float\x20aa\x20=\x200.5;\x0a\x20\x20const\x20float\x20pp\x20=\x202.0;\x0a\x0a\x20\x20float\x20sum\x20=\x200.0;\x0a\x20\x20float\x20a\x20\x20\x20=\x201.0;\x0a\x20\x20\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x203;\x20++i)\x20{\x0a\x20\x20\x20\x20sum\x20+=\x20a*vnoise(p);\x0a\x20\x20\x20\x20a\x20*=\x20aa;\x0a\x20\x20\x20\x20p\x20*=\x20pp;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20return\x20hf*sum;\x0a}\x0a\x0afloat\x20loheight(vec2\x20p)\x20{\x0a\x20\x20return\x20lofbm(p)-0.5;\x0a}\x0a\x0avec3\x20mountainRender(vec3\x20col,\x20vec3\x20ro,\x20vec3\x20rd,\x20bool\x20flip,\x20inout\x20float\x20maxt)\x20{\x0a\x20\x20vec3\x20tpn\x20=\x20normalize(vec3(0.0,\x200.0,\x201.0));\x0a\x20\x20vec4\x20tpdim\x20=\x20vec4(tpn,\x20mountainPos);\x0a\x20\x20float\x20tpd\x20=\x20rayPlane(ro,\x20rd,\x20tpdim);\x0a\x0a\x20\x20if\x20(tpd\x20<\x200.0\x20||\x20tpd\x20>\x20maxt)\x20{\x0a\x20\x20\x20\x20return\x20col;\x0a\x20\x20}\x0a\x0a\x20\x20vec3\x20pp\x20=\x20ro+rd*tpd;\x0a\x20\x20vec2\x20p\x20=\x20pp.xy;\x0a\x20\x20const\x20float\x20cw\x20=\x200.75;\x0a\x20\x20float\x20hz\x20=\x200.15*TIME+1.0\x20+\x201.2\x20*\x20uPhrase\x20+\x200.3\x20*\x20uBass;\x0a\x20\x20float\x20lo\x20=\x20loheight(vec2(p.x,\x20hz));\x0a\x20\x20vec2\x20cp\x20=\x20p;\x0a\x20\x20float\x20cn\x20=\x20mod1(cp.x,\x20cw);\x0a\x0a\x20\x20const\x20float\x20reps\x20=\x201.0;\x0a\x0a\x20\x20float\x20d\x20=\x201E3;\x0a\x0a\x20\x20for\x20(float\x20i\x20=\x20-reps;\x20i\x20<=\x20reps;\x20++i)\x20{\x0a\x20\x20\x20\x20float\x20x0\x20=\x20(cn\x20-0.5\x20+\x20(i))*cw;\x0a\x20\x20\x20\x20float\x20x1\x20=\x20(cn\x20-0.5\x20+\x20(i\x20+\x201.0))*cw;\x0a\x20\x20\x0a\x20\x20\x20\x20float\x20y0\x20=\x20hiheight(vec2(x0,\x20hz));\x0a\x20\x20\x20\x20float\x20y1\x20=\x20hiheight(vec2(x1,\x20hz));\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20float\x20dd\x20=\x20segment(cp,\x20vec2(-cw*0.5\x20+\x20cw\x20*\x20float(i),\x20y0),\x20vec2(cw*0.5\x20+\x20cw\x20*\x20float(i),\x20y1));\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20d\x20=\x20min(d,\x20dd);\x0a\x20\x20}\x0a\x0a\x20\x20float\x20ridgeGlow\x20=\x200.125\x20+\x200.6\x20*\x20uEnergy\x20+\x200.35\x20*\x20uBeatPulse;\x0a\x20\x20vec3\x20rcol\x20=\x20hsv2rgb(vec3(clamp(0.7+(0.5*(rd.x+0.2*uStereo)),\x200.6,\x200.8),\x200.95,\x20ridgeGlow));\x0a\x0a\x20\x20float\x20sd\x20=\x201.0001-((dot(sunDir,\x20rd)));\x0a\x0a\x20\x20vec3\x20mcol\x20=\x20col;\x0a\x20\x20float\x20aa\x20=\x20safeFwidth(p.y);\x0a\x20\x20if\x20((safeDFdy(d)\x20<\x200.0)\x20==\x20!flip)\x20{\x0a\x20\x20\x20\x20mcol\x20*=\x20mix(0.0,\x201.0,\x20smoothstep(aa,\x20-aa,\x20d-aa));\x0a\x20\x20\x20\x20mcol\x20+=\x20HSV2RGB(vec3(0.55,\x200.85,\x200.8))*smoothstep(0.0,\x205.0,\x20lo-p.y);\x0a\x20\x20\x20\x20col\x20=\x20mcol;\x0a\x20\x20\x20\x20maxt\x20=\x20tpd;\x0a\x20\x20}\x0a\x20\x20col\x20+=\x203.0*rcol/(abs(d)+0.005+800.0*sd*sd*sd*sd);\x0a\x20\x20col\x20+=\x20HSV2RGB(vec3(0.55\x20+\x200.1\x20*\x20uColorDrift,\x200.96,\x200.075\x20+\x200.25\x20*\x20uTreble))/(abs(p.y)+0.05);\x0a\x0a\x20\x20return\x20col;\x20\x20\x0a}\x0a\x0avec3\x20groundRender(vec3\x20col,\x20vec3\x20ro,\x20vec3\x20rd,\x20inout\x20float\x20maxt)\x20{\x0a\x20\x20vec3\x20gpn\x20=\x20normalize(vec3(0.0,\x201.0,\x200.0));\x0a\x20\x20vec4\x20gpdim\x20=\x20vec4(gpn,\x200.0);\x0a\x20\x20float\x20gpd\x20=\x20rayPlane(ro,\x20rd,\x20gpdim);\x0a\x0a\x20\x20if\x20(gpd\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20return\x20col;\x0a\x20\x20}\x0a\x20\x20\x0a\x20\x20maxt\x20=\x20gpd;\x0a\x20\x20\x0a\x20\x20vec3\x20gp\x20\x20\x20\x20\x20=\x20ro\x20+\x20rd*gpd;\x0a\x20\x20float\x20gpfre\x20=\x201.0\x20+\x20dot(rd,\x20gpn);\x0a\x20\x20gpfre\x20*=\x20gpfre;\x0a\x20\x20gpfre\x20*=\x20gpfre;\x0a\x20\x20gpfre\x20*=\x20gpfre;\x0a\x20\x20\x0a\x20\x20vec3\x20grr\x20=\x20reflect(rd,\x20gpn);\x0a\x20\x20\x0a\x20\x20vec2\x20ggp\x20\x20\x20\x20=\x20gp.xz;\x0a\x20\x20ggp.y\x20+=\x20TIME\x20*\x20(0.35\x20+\x200.45\x20*\x20uEnergy);\x0a\x20\x20float\x20dfy\x20\x20\x20=\x20safeDFdy(ggp.y);\x0a\x20\x20float\x20gcf\x20=\x20sin(ggp.x\x20+\x200.5\x20*\x20uStereo)*sin(ggp.y);\x0a\x20\x20vec2\x20ggn\x20\x20\x20\x20=\x20mod2(ggp,\x20vec2(1.0));\x0a\x20\x20float\x20ggd\x20\x20\x20=\x20min(abs(ggp.x),\x20abs(ggp.y));\x0a\x0a\x20\x20vec3\x20gcol\x20=\x20hsv2rgb(\x0a\x20\x20\x20\x20vec3(0.7+0.1*gcf\x20+\x200.08\x20*\x20uStereo,\x200.90,\x200.02\x20+\x200.3\x20*\x20uDrop\x20+\x200.25\x20*\x20clamp(uFlux,\x200.0,\x201.2))\x0a\x20\x20);\x0a\x20\x20\x0a\x20\x20float\x20rmaxt\x20=\x201E6;\x0a\x20\x20vec3\x20rcol\x20=\x20outerSkyRender(gp,\x20grr);\x0a\x20\x20rcol\x20=\x20mountainRender(rcol,\x20gp,\x20grr,\x20true,\x20rmaxt);\x0a\x20\x20rcol\x20=\x20triRender(rcol,\x20gp,\x20grr,\x20rmaxt);\x0a\x0a\x20\x20col\x20=\x20gcol/max(ggd,\x200.0+0.25*dfy)*exp(-0.25*gpd);\x0a\x20\x20float\x20reflectionTint\x20=\x200.65\x20+\x200.05\x20*\x20uColorDrift\x20+\x200.1\x20*\x20uBeatPulse;\x0a\x20\x20rcol\x20+=\x20HSV2RGB(vec3(reflectionTint,\x200.85,\x201.0))*gpfre;\x0a\x20\x20rcol\x20=\x204.0*tanh_vec(rcol*0.25\x20+\x200.08\x20*\x20uBass\x20+\x200.05\x20*\x20uBeatPulse);\x0a\x20\x20col\x20+=\x20rcol*gpfre;\x0a\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20render(vec3\x20ro,\x20vec3\x20rd)\x20{\x0a\x20\x20float\x20maxt\x20=\x201E6;\x20\x20\x0a\x0a\x20\x20vec3\x20col\x20=\x20outerSkyRender(ro,\x20rd);\x0a\x20\x20col\x20=\x20groundRender(col,\x20ro,\x20rd,\x20maxt);\x0a\x20\x20col\x20=\x20mountainRender(col,\x20ro,\x20rd,\x20false,\x20maxt);\x0a\x20\x20col\x20=\x20triRender(col,\x20ro,\x20rd,\x20maxt);\x0a\x0a\x20\x20return\x20col;\x0a}\x0a\x0avec3\x20effect(vec2\x20p,\x20vec2\x20pp)\x20{\x0a\x20\x20float\x20fov\x20=\x20tan(TAU/6.0\x20+\x200.04\x20*\x20uEnergy);\x0a\x20\x20vec3\x20ro\x20=\x20vec3(0.0,\x20mix(0.8,\x201.4,\x20clamp(uEnergy,\x200.0,\x201.5)),\x20mix(-5.0,\x20-3.6,\x20clamp(uBass,\x200.0,\x201.5)));\x0a\x20\x20vec3\x20la\x20=\x20vec3(0.0,\x201.0,\x200.0);\x0a\x20\x20vec3\x20up\x20=\x20vec3(0.0,\x201.0,\x200.0);\x0a\x0a\x20\x20ro.x\x20+=\x200.45\x20*\x20uStereo;\x0a\x20\x20ro.y\x20+=\x200.2*sin(uPhrase\x20*\x20TAU\x20*\x202.0);\x0a\x20\x20ro.z\x20-=\x200.35\x20*\x20uDrop;\x0a\x0a\x20\x20vec2\x20warpP\x20=\x20p;\x0a\x20\x20warpP\x20*=\x20vec2(1.0\x20+\x200.18\x20*\x20uBass,\x201.0\x20+\x200.1\x20*\x20uEnergy);\x0a\x20\x20warpP\x20+=\x20vec2(uStereo\x20*\x200.12,\x200.05\x20*\x20sin(uPhrase\x20*\x20TAU\x20*\x204.0));\x0a\x0a\x20\x20vec3\x20ww\x20=\x20normalize(la\x20-\x20ro);\x0a\x20\x20vec3\x20uu\x20=\x20normalize(cross(up,\x20ww));\x0a\x20\x20vec3\x20vv\x20=\x20cross(ww,uu);\x0a\x20\x20vec3\x20rd\x20=\x20normalize(-warpP.x*uu\x20+\x20warpP.y*vv\x20+\x20fov*ww);\x0a\x0a\x20\x20float\x20aa\x20=\x202.0/RESOLUTION.y;\x0a\x0a\x20\x20vec3\x20col\x20=\x20render(ro,\x20rd);\x0a#ifdef\x20THAT_CRT_FEELING\x20\x20\x0a\x20\x20col\x20*=\x20smoothstep(1.5,\x200.5,\x20length(pp));\x0a\x20\x20col\x20*=\x201.25*mix(vec3(0.5),\x20vec3(1.0),smoothstep(-0.9,\x200.9,\x20sin(0.25*TAU*p.y/aa+TAU*vec3(0.0,\x201.,\x202.0)/3.0)));\x0a#endif\x20\x20\x0a\x20\x20col\x20-=\x200.05*vec3(.00,\x201.0,\x202.0).zyx;\x0a\x20\x20float\x20stereoHue\x20=\x20clamp(0.5\x20+\x200.4\x20*\x20uStereo,\x200.1,\x200.9);\x0a\x20\x20vec3\x20trebleLift\x20=\x20hsv2rgb(vec3(stereoHue,\x200.65,\x200.8\x20+\x200.2\x20*\x20uTreble));\x0a\x20\x20col\x20=\x20mix(col,\x20col\x20*\x20trebleLift,\x20clamp(uTreble,\x200.0,\x201.0)\x20*\x200.35);\x0a\x20\x20col\x20=\x20mix(col,\x20col.yzx,\x20clamp(0.4\x20+\x200.4\x20*\x20uStereo,\x200.0,\x201.0));\x0a\x20\x20float\x20dropShade\x20=\x20clamp(uDrop\x20*\x200.6,\x200.0,\x201.0);\x0a\x20\x20col\x20=\x20mix(col,\x20col\x20*\x200.75,\x20dropShade);\x0a\x20\x20col\x20=\x20aces_approx(col);\x20\x0a\x20\x20col\x20=\x20sRGB(col);\x0a\x20\x20return\x20col;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20fragCoord\x20=\x20gl_FragCoord.xy;\x0a\x20\x20vec2\x20q\x20=\x20fragCoord\x20/\x20RESOLUTION.xy;\x0a\x0a\x20\x20vec2\x20base\x20=\x20-1.\x20+\x202.\x20*\x20q;\x0a\x20\x20vec2\x20pp\x20=\x20base;\x0a\x20\x20vec2\x20p\x20=\x20base;\x0a\x20\x20p.x\x20*=\x20RESOLUTION.x\x20/\x20RESOLUTION.y;\x0a\x0a\x20\x20float\x20introPhase\x20=\x20clamp(uIntroCollapsePhase,\x200.0,\x201.0);\x0a\x20\x20float\x20introRadius\x20=\x200.0;\x0a\x20\x20if\x20(introPhase\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20p\x20=\x20applyIntroCollapseUv(p,\x20introPhase,\x20introRadius);\x0a\x20\x20}\x0a\x0a\x20\x20float\x20collapsePhase\x20=\x20clamp(uOutroCollapsePhase,\x200.0,\x201.0);\x0a\x20\x20float\x20collapseRadius\x20=\x200.0;\x0a\x20\x20vec2\x20collapseCoords\x20=\x20p;\x0a\x20\x20if\x20(collapsePhase\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20collapseCoords\x20=\x20applyOutroCollapseUv(p,\x20collapsePhase,\x20collapseRadius);\x0a\x20\x20}\x0a\x0a\x20\x20vec2\x20loudCoords\x20=\x20collapseCoords;\x0a\x20\x20float\x20loudAmt\x20=\x20clamp(uLoudnessDistortion.x,\x200.0,\x201.0);\x0a\x20\x20float\x20loudRadius\x20=\x200.0;\x0a\x20\x20if\x20(loudAmt\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20float\x20loudDecay\x20=\x201.0\x20-\x20smoothstep(0.0,\x201.0,\x20uLoudnessDistortion.y);\x0a\x20\x20\x20\x20float\x20loudMix\x20=\x20loudAmt\x20*\x20loudDecay;\x0a\x20\x20\x20\x20vec2\x20polar\x20=\x20toPolar2(loudCoords);\x0a\x20\x20\x20\x20float\x20swirl\x20=\x20loudMix\x20*\x200.65\x20*\x20uLoudnessDistortionDirection\x20*\x0a\x20\x20\x20\x20\x20\x20smoothstep(0.0,\x201.4,\x20clamp(polar.x,\x200.0,\x202.0));\x0a\x20\x20\x20\x20polar.y\x20+=\x20swirl;\x0a\x20\x20\x20\x20vec2\x20warped\x20=\x20toRect2(polar);\x0a\x20\x20\x20\x20float\x20rippleAmp\x20=\x20loudMix\x20*\x200.12;\x0a\x20\x20\x20\x20float\x20ripple\x20=\x20sin(uLoudnessDistortion.z\x20*\x202.4\x20+\x20polar.x\x20*\x2018.0\x20+\x20uLoudnessDistortion.w\x20*\x20TAU);\x0a\x20\x20\x20\x20float\x20safeLen\x20=\x20max(length(warped),\x201e-4);\x0a\x20\x20\x20\x20vec2\x20dirVec\x20=\x20warped\x20/\x20safeLen;\x0a\x20\x20\x20\x20warped\x20+=\x20dirVec\x20*\x20rippleAmp\x20*\x20ripple;\x0a\x20\x20\x20\x20loudCoords\x20=\x20mix(loudCoords,\x20warped,\x20clamp(loudMix\x20*\x201.2,\x200.0,\x201.0));\x0a\x20\x20\x20\x20loudRadius\x20=\x20length(loudCoords);\x0a\x20\x20}\x0a\x0a\x20\x20vec3\x20col\x20=\x20effect(loudCoords,\x20pp);\x0a\x0a\x20\x20if\x20(loudAmt\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20float\x20loudDecay\x20=\x201.0\x20-\x20smoothstep(0.0,\x201.0,\x20uLoudnessDistortion.y);\x0a\x20\x20\x20\x20float\x20halo\x20=\x20loudAmt\x20*\x20loudDecay;\x0a\x20\x20\x20\x20vec3\x20loudTint\x20=\x20mix(vec3(0.95,\x200.6,\x201.1),\x20vec3(1.0,\x200.85,\x200.45),\x20clamp(uTreble,\x200.0,\x201.0));\x0a\x20\x20\x20\x20float\x20beam\x20=\x20exp(-loudRadius\x20*\x20mix(5.0,\x2012.0,\x20halo));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20col\x20*\x20(1.0\x20+\x20halo\x20*\x200.4)\x20+\x20loudTint\x20*\x20halo\x20*\x200.25,\x20halo\x20*\x200.45);\x0a\x20\x20\x20\x20col\x20+=\x20loudTint\x20*\x20beam\x20*\x20halo\x20*\x200.2;\x0a\x20\x20}\x0a\x0a\x20\x20if\x20(introPhase\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20float\x20introGlow\x20=\x20introPhase\x20*\x20introPhase;\x0a\x20\x20\x20\x20vec3\x20introTint\x20=\x20mix(vec3(0.8,\x200.5,\x201.1),\x20vec3(1.0,\x200.92,\x200.7),\x20clamp(uColorDrift,\x200.0,\x201.0));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20col\x20*\x20(1.0\x20+\x20introGlow\x20*\x200.35)\x20+\x20introTint\x20*\x20introGlow\x20*\x200.2,\x20introGlow\x20*\x200.5);\x0a\x20\x20}\x0a\x0a\x20\x20if\x20(collapsePhase\x20>\x200.0001)\x20{\x0a\x20\x20\x20\x20float\x20collapseGlow\x20=\x20collapsePhase\x20*\x20collapsePhase;\x0a\x20\x20\x20\x20vec3\x20collapseTint\x20=\x20mix(vec3(0.05,\x200.02,\x200.2),\x20vec3(1.0,\x200.8,\x200.9),\x20collapsePhase);\x0a\x20\x20\x20\x20float\x20tunnel\x20=\x20exp(-collapseRadius\x20*\x20mix(2.8,\x204.5,\x20collapsePhase));\x0a\x20\x20\x20\x20col\x20=\x20mix(col,\x20col\x20*\x20(1.0\x20+\x20collapseGlow\x20*\x200.55),\x20collapseGlow\x20*\x200.5);\x0a\x20\x20\x20\x20col\x20+=\x20collapseTint\x20*\x20tunnel\x20*\x20(0.2\x20+\x20collapseGlow\x20*\x200.4);\x0a\x20\x20}\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(col,\x201.0);\x0a}\x0a','5naseSo','tempo','ONE_MINUS_SRC_ALPHA','EPIC','useProgram','presenceEnergy','uBeatPulse','_loudnessDistortionCooldownDuration','bindBuffer','uPhrase','36pqCKIa','max','isBeat','isBeatSpike','onRender','uLoudnessDistortion','dbTo01','meta','ONE','beat','TRIANGLES','drawingBufferHeight','Failed\x20to\x20allocate\x20fullscreen\x20buffer','uniform2f','height','2942856jBAUlB','MID_HIGH','FLOAT','min','autoDispose','_loudnessDistortionTimer','uTreble','_loudnessDistortionCooldown','loudnessShortDb','colorDrift','_state','lerp','TEMPO','bass','stereoBalance','ARRAY_BUFFER','CULL_FACE','flux','bassEnergy','uOutroCollapsePhase','_loudnessDistortionMaxDuration','_uniforms','undefined','viewport','uFlux','disableVertexAttribArray','BLEND'];_0x2a5d=function(){return _0x9da510;};return _0x2a5d();}import{W as _0xda0553,V as _0x5a9d7d,r as _0x538b65}from'./receiver.min.js';import{w as _0x595711,T as _0x1489a2}from'./timeline-distortion-effect.min.js';const i=_0x595711(_0x10a544(0x119));class r extends _0xda0553{static [_0x10a544(0x12b)]={'savedAt':0x19c4f55825d,'createdBy':_0x10a544(0x190),'description':'Cathedral-scale\x20neon\x20vistas\x20that\x20bend\x20and\x20shimmer\x20with\x20the\x20music,\x20bass\x20tilts\x20the\x20horizon,\x20treble\x20paints\x20laser\x20ridges,\x20and\x20stereo\x20swirl\x20warps\x20the\x20sky\x20portal.','tags':[_0x5a9d7d[_0x10a544(0x169)]['HD'],_0x5a9d7d[_0x10a544(0x17a)][_0x10a544(0x11d)],_0x5a9d7d['VIBE'][_0x10a544(0x19c)],_0x5a9d7d['ENERGY'][_0x10a544(0x134)],_0x5a9d7d[_0x10a544(0x13f)]['DRIVING']]};constructor(_0x4648ff){const _0x5a615c=_0x10a544;super(_0x4648ff),this[_0x5a615c(0x16c)]=null,this[_0x5a615c(0x184)]=null,this[_0x5a615c(0x148)]=null,this[_0x5a615c(0x161)]=null,this[_0x5a615c(0x156)]=null,this['_time']=0x0,this[_0x5a615c(0x16f)]=0x0,this[_0x5a615c(0x13d)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'stereo':0x0,'drop':0x0,'colorDrift':0.5,'beat':0x0},this[_0x5a615c(0x199)]=new _0x1489a2({'intro':{'startWindowRatio':0x0,'minStartWindow':0x9,'startReleaseWindow':0.9,'attack':0.18,'release':1.4},'outro':{'endWindowRatio':0x0,'minEndWindow':0x14,'attack':0.16,'release':2.4}}),this[_0x5a615c(0x17b)]=0x0,this[_0x5a615c(0x173)]=0x0,this[_0x5a615c(0x15c)]=0x0,this[_0x5a615c(0x181)]=!0x1,this[_0x5a615c(0x138)]=0x0,this[_0x5a615c(0x177)]=0x0,this[_0x5a615c(0x175)]=0x0,this['_loudnessDistortionPhase']=0x0,this[_0x5a615c(0x18c)]=0x0,this[_0x5a615c(0x170)]=0x1,this[_0x5a615c(0x13a)]=0x0,this[_0x5a615c(0x121)]=0xa,this[_0x5a615c(0x147)]=0x8,this[_0x5a615c(0x150)]=0x2,this['_loudnessDistortionMinDrop']=0.05,this[_0x5a615c(0x176)]=0x0;}['init'](){const _0x130801=_0x10a544,_0x43b06f=this['gl'];if(!_0x43b06f)return;_0x43b06f['disable'](_0x43b06f[_0x130801(0x16e)]),_0x43b06f['disable'](_0x43b06f[_0x130801(0x143)]),_0x43b06f['enable'](_0x43b06f[_0x130801(0x14d)]),_0x43b06f[_0x130801(0x117)](_0x43b06f[_0x130801(0x12c)],_0x43b06f[_0x130801(0x11c)]),this['_program']=this[_0x130801(0x16d)](_0x130801(0x17f),i,{'aPosition':0x0}),this[_0x130801(0x184)]={'aPosition':_0x43b06f[_0x130801(0x19a)](this[_0x130801(0x16c)],_0x130801(0x193))},this[_0x130801(0x148)]={'uTime':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x192)),'uResolution':_0x43b06f[_0x130801(0x19b)](this['_program'],_0x130801(0x172)),'uEnergy':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x18f)),'uBass':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x166)),'uTreble':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x139)),'uFlux':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],'uFlux'),'uStereo':_0x43b06f['getUniformLocation'](this[_0x130801(0x16c)],'uStereo'),'uPhrase':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x123)),'uDrop':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x182)),'uColorDrift':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],'uColorDrift'),'uBeatPulse':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x120)),'uIntroCollapsePhase':_0x43b06f['getUniformLocation'](this[_0x130801(0x16c)],'uIntroCollapsePhase'),'uOutroCollapsePhase':_0x43b06f[_0x130801(0x19b)](this[_0x130801(0x16c)],_0x130801(0x146)),'uLoudnessDistortion':_0x43b06f[_0x130801(0x19b)](this['_program'],_0x130801(0x129)),'uLoudnessDistortionDirection':_0x43b06f[_0x130801(0x19b)](this['_program'],'uLoudnessDistortionDirection')};const _0x561ba3=_0x43b06f[_0x130801(0x159)]();if(!_0x561ba3)throw new Error(_0x130801(0x130));this[_0x130801(0x137)](_0x561ba3,(_0x303edd,_0x2f51e7)=>_0x303edd['deleteBuffer'](_0x2f51e7)),_0x43b06f[_0x130801(0x122)](_0x43b06f[_0x130801(0x142)],_0x561ba3),_0x43b06f['bufferData'](_0x43b06f[_0x130801(0x142)],new Float32Array([-0x1,-0x1,0x3,-0x1,-0x1,0x3]),_0x43b06f[_0x130801(0x167)]),_0x43b06f[_0x130801(0x122)](_0x43b06f[_0x130801(0x142)],null),this[_0x130801(0x161)]=_0x561ba3,this[_0x130801(0x155)]=0x0,this['_lastRenderAt']=null,this['_phraseClock']=0x0,this[_0x130801(0x13d)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'stereo':0x0,'drop':0x0,'colorDrift':0.5,'beat':0x0},this['_timelineDistortion']?.[_0x130801(0x197)](),this[_0x130801(0x17b)]=0x0,this[_0x130801(0x173)]=0x0,this['_loudnessDistortion']=0x0,this[_0x130801(0x181)]=!0x1,this['_loudnessDistortionTimer']=0x0,this[_0x130801(0x177)]=0x0,this[_0x130801(0x175)]=0x0,this['_loudnessDistortionPhase']=0x0,this[_0x130801(0x18c)]=0x0,this['_loudnessDistortionDirection']=0x1,this[_0x130801(0x13a)]=0x0,this[_0x130801(0x176)]=0x0,this[_0x130801(0x18d)]();}[_0x10a544(0x183)](){const _0x4070cc=_0x10a544;super['onResize']?.(),this[_0x4070cc(0x18d)]();}[_0x10a544(0x163)](_0x1267f7){const _0x2f80f3=_0x10a544;if(!_0x1267f7||!this['_state'])return;const _0x30f13a=this['clamp'](_0x1267f7['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x21ade7=this[_0x2f80f3(0x168)](_0x1267f7[_0x2f80f3(0x18b)]??_0x1267f7[_0x2f80f3(0x17e)]??_0x1267f7[_0x2f80f3(0x188)]??this[_0x2f80f3(0x12a)](_0x1267f7[_0x2f80f3(0x13b)]??_0x1267f7[_0x2f80f3(0x18e)]??-0x34,-0x3c,-0x6),0x0,1.5),_0x4fb84d=this['clamp'](_0x1267f7[_0x2f80f3(0x195)]??_0x1267f7['rms']??_0x1267f7[_0x2f80f3(0x18b)]??_0x21ade7,0x0,1.5),_0x4adac2=this[_0x2f80f3(0x168)](Math[_0x2f80f3(0x125)](_0x1267f7['subBassEnergy']??0x0,_0x1267f7[_0x2f80f3(0x145)]??0x0,_0x1267f7[_0x2f80f3(0x171)]??0x0),0x0,1.4),_0x222ac6=this[_0x2f80f3(0x168)](Math[_0x2f80f3(0x125)](_0x1267f7[_0x2f80f3(0x14f)]??0x0,_0x1267f7[_0x2f80f3(0x157)]??0x0,_0x1267f7[_0x2f80f3(0x11f)]??0x0),0x0,1.4),_0x55ef0c=this[_0x2f80f3(0x168)](_0x1267f7[_0x2f80f3(0x16a)]??0x0,0x0,0x3),_0x1bb57e=this[_0x2f80f3(0x168)](_0x1267f7[_0x2f80f3(0x141)]??_0x1267f7[_0x2f80f3(0x191)]??0x0,-0x1,0x1),_0x30ed3d=this[_0x2f80f3(0x168)](_0x1267f7['dropIntensity']??_0x1267f7[_0x2f80f3(0x15f)]??0x0,0x0,0x2),_0x43da91=this['clamp']((_0x1267f7['centroid']??_0x1267f7['dominantFreq']??0x7d0)/0x2ee0,0x0,0x1),_0x39a26c=this[_0x2f80f3(0x168)](_0x1267f7[_0x2f80f3(0x15b)]??(_0x1267f7[_0x2f80f3(0x127)]?0x1:0x0)??(_0x1267f7[_0x2f80f3(0x126)]?0x1:0x0),0x0,1.5),_0x4f8b06=this['clamp'](_0x1267f7[_0x2f80f3(0x187)]??_0x1267f7[_0x2f80f3(0x11b)]??0x78,0x28,0xc8)/0x3c/0x8;this[_0x2f80f3(0x16f)]=(this[_0x2f80f3(0x16f)]+_0x30f13a*_0x4f8b06)%0x1;const _0x460bec=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x18b)]??_0x21ade7,_0x21ade7,_0x30f13a,0.05,0.32),_0x4fe8c2=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x140)]??_0x4adac2,_0x4adac2,_0x30f13a,0.08,0.4),_0x56b969=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x198)]??_0x222ac6,_0x222ac6,_0x30f13a,0.08,0.35),_0xe351e7=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x144)]??_0x55ef0c,_0x55ef0c,_0x30f13a,0.12,0.5),_0x386b01=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x194)]??_0x1bb57e,_0x1bb57e,_0x30f13a,0.12,0.45),_0x35af9c=this[_0x2f80f3(0x165)](this['_state'][_0x2f80f3(0x154)]??_0x30ed3d,_0x30ed3d,_0x30f13a,0.04,0.4),_0xc95604=this[_0x2f80f3(0x162)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x13c)]??_0x43da91,_0x43da91,0.18),_0x3e06f2=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x13d)][_0x2f80f3(0x12d)]??_0x39a26c,_0x39a26c,_0x30f13a,0.02,0.35);this[_0x2f80f3(0x13d)][_0x2f80f3(0x18b)]=_0x460bec,this['_state'][_0x2f80f3(0x140)]=_0x4fe8c2,this[_0x2f80f3(0x13d)][_0x2f80f3(0x198)]=_0x56b969,this[_0x2f80f3(0x13d)][_0x2f80f3(0x144)]=_0xe351e7,this[_0x2f80f3(0x13d)][_0x2f80f3(0x194)]=_0x386b01,this[_0x2f80f3(0x13d)][_0x2f80f3(0x154)]=_0x35af9c,this[_0x2f80f3(0x13d)][_0x2f80f3(0x13c)]=_0xc95604,this[_0x2f80f3(0x13d)][_0x2f80f3(0x12d)]=_0x3e06f2,this[_0x2f80f3(0x13a)]=Math['max'](0x0,this[_0x2f80f3(0x13a)]-_0x30f13a);const _0x2ab88c=_0x4fb84d-(this[_0x2f80f3(0x176)]??_0x4fb84d);if(!this['_loudnessDistortionActive']&&this[_0x2f80f3(0x13a)]<=0x0&&_0x2ab88c>=0.15&&(this['_loudnessDistortionActive']=!0x0,this[_0x2f80f3(0x138)]=0x0,this[_0x2f80f3(0x177)]=0x0,this['_loudnessDistortionPeak']=_0x4fb84d,this[_0x2f80f3(0x170)]=0x1,this[_0x2f80f3(0x18c)]=0x0,this[_0x2f80f3(0x13a)]=this[_0x2f80f3(0x121)]),this[_0x2f80f3(0x181)])this['_loudnessDistortionTimer']+=_0x30f13a,this[_0x2f80f3(0x175)]=Math[_0x2f80f3(0x125)](this[_0x2f80f3(0x175)],_0x4fb84d),(this['_loudnessDistortionPeak']-_0x4fb84d>=this['_loudnessDistortionMinDrop']?(this[_0x2f80f3(0x177)]+=_0x30f13a,this[_0x2f80f3(0x177)]>=this[_0x2f80f3(0x150)]&&(this['_loudnessDistortionActive']=!0x1)):this[_0x2f80f3(0x177)]=0x0,this['_loudnessDistortionTimer']>=this[_0x2f80f3(0x147)]&&(this[_0x2f80f3(0x181)]=!0x1));else this[_0x2f80f3(0x15c)]<=0.001&&(this[_0x2f80f3(0x138)]=0x0,this['_loudnessDistortionDropTimer']=0x0,this[_0x2f80f3(0x175)]=_0x4fb84d);const _0x192d06=this['_loudnessDistortionActive']?0x1:0x0;if(this[_0x2f80f3(0x15c)]=this[_0x2f80f3(0x165)](this[_0x2f80f3(0x15c)],_0x192d06,_0x30f13a,0.12,0.85),this[_0x2f80f3(0x15a)]+=_0x30f13a*(0.35+0.5*_0x460bec),this[_0x2f80f3(0x15a)]>0x3e8&&(this[_0x2f80f3(0x15a)]-=0x3e8),this['_loudnessDistortionActive']||this['_loudnessDistortion']>0.001){const _0x429e66=_0x30f13a*(0.1+0.05*_0x460bec);this[_0x2f80f3(0x18c)]=(this[_0x2f80f3(0x18c)]+_0x429e66)%0x1;}else this[_0x2f80f3(0x18c)]=this[_0x2f80f3(0x13e)](this[_0x2f80f3(0x18c)],0x0,0.02);if(this[_0x2f80f3(0x176)]=_0x4fb84d,this[_0x2f80f3(0x199)]){this[_0x2f80f3(0x199)][_0x2f80f3(0x18a)](_0x1267f7);const _0x3786b7=this[_0x2f80f3(0x199)][_0x2f80f3(0x174)](_0x30f13a);this[_0x2f80f3(0x17b)]=_0x3786b7?.['introPhase']??0x0,this['_outroCollapsePhase']=_0x3786b7?.[_0x2f80f3(0x180)]??0x0;}}[_0x10a544(0x128)](_0x4e8835){const _0x4ecd03=_0x10a544;if(!(_0x4e8835&&this[_0x4ecd03(0x16c)]&&this[_0x4ecd03(0x161)]&&this[_0x4ecd03(0x13d)]))return;const _0x3bdcdb=_0x4ecd03(0x149)!=typeof performance?0.001*performance['now']():Date['now']()/0x3e8;null==this[_0x4ecd03(0x156)]&&(this[_0x4ecd03(0x156)]=_0x3bdcdb);const _0x43260b=Math[_0x4ecd03(0x136)](_0x3bdcdb-this[_0x4ecd03(0x156)],0.12);_0x43260b>0x0&&(this['_time']+=_0x43260b*this[_0x4ecd03(0x118)](this[_0x4ecd03(0x13d)][_0x4ecd03(0x18b)]??0.7,0x0,1.4,0.6,1.35),this['_lastRenderAt']=_0x3bdcdb);const _0x42fe33=_0x4e8835['drawingBufferWidth']||this[_0x4ecd03(0x15d)]?.[_0x4ecd03(0x151)]||0x1,_0x3332ea=_0x4e8835[_0x4ecd03(0x12f)]||this[_0x4ecd03(0x15d)]?.[_0x4ecd03(0x132)]||0x1;_0x4e8835[_0x4ecd03(0x14a)](0x0,0x0,_0x42fe33,_0x3332ea),_0x4e8835[_0x4ecd03(0x11e)](this[_0x4ecd03(0x16c)]),_0x4e8835[_0x4ecd03(0x122)](_0x4e8835['ARRAY_BUFFER'],this['_fullscreenBuffer']);const _0x4ff442=this[_0x4ecd03(0x184)][_0x4ecd03(0x193)];if(_0x4e8835['enableVertexAttribArray'](_0x4ff442),_0x4e8835[_0x4ecd03(0x164)](_0x4ff442,0x2,_0x4e8835[_0x4ecd03(0x135)],!0x1,0x0,0x0),_0x4e8835['uniform1f'](this[_0x4ecd03(0x148)][_0x4ecd03(0x192)],this[_0x4ecd03(0x155)]),_0x4e8835['uniform2f'](this[_0x4ecd03(0x148)][_0x4ecd03(0x172)],_0x42fe33,_0x3332ea),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x18f)],this[_0x4ecd03(0x13d)][_0x4ecd03(0x18b)]??0x0),_0x4e8835[_0x4ecd03(0x17c)](this['_uniforms'][_0x4ecd03(0x166)],this[_0x4ecd03(0x13d)][_0x4ecd03(0x140)]??0x0),_0x4e8835['uniform1f'](this['_uniforms'][_0x4ecd03(0x139)],this[_0x4ecd03(0x13d)]['treble']??0x0),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x14b)],this[_0x4ecd03(0x13d)]['flux']??0x0),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x160)],this[_0x4ecd03(0x13d)][_0x4ecd03(0x194)]??0x0),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x123)],this['_phraseClock']),_0x4e8835[_0x4ecd03(0x17c)](this['_uniforms'][_0x4ecd03(0x182)],this[_0x4ecd03(0x13d)][_0x4ecd03(0x154)]??0x0),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x178)],this[_0x4ecd03(0x13d)][_0x4ecd03(0x13c)]??0.5),_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x120)],this['_state'][_0x4ecd03(0x12d)]??0x0),this['_uniforms'][_0x4ecd03(0x185)]&&_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x185)],this[_0x4ecd03(0x17b)]??0x0),this['_uniforms'][_0x4ecd03(0x146)]&&_0x4e8835[_0x4ecd03(0x17c)](this[_0x4ecd03(0x148)][_0x4ecd03(0x146)],this[_0x4ecd03(0x173)]??0x0),this[_0x4ecd03(0x148)][_0x4ecd03(0x129)]){const _0xafb268=this[_0x4ecd03(0x147)]>0x0?this[_0x4ecd03(0x168)](this[_0x4ecd03(0x138)]/this[_0x4ecd03(0x147)],0x0,0x1):0x0;_0x4e8835[_0x4ecd03(0x16b)](this[_0x4ecd03(0x148)][_0x4ecd03(0x129)],this[_0x4ecd03(0x15c)],_0xafb268,this['_loudnessDistortionPhase'],this[_0x4ecd03(0x18c)]);}this[_0x4ecd03(0x148)][_0x4ecd03(0x196)]&&_0x4e8835['uniform1f'](this[_0x4ecd03(0x148)][_0x4ecd03(0x196)],this['_loudnessDistortionDirection']),_0x4e8835['drawArrays'](_0x4e8835[_0x4ecd03(0x12e)],0x0,0x3),_0x4e8835[_0x4ecd03(0x14c)](_0x4ff442),_0x4e8835[_0x4ecd03(0x122)](_0x4e8835[_0x4ecd03(0x142)],null),_0x4e8835[_0x4ecd03(0x11e)](null);}[_0x10a544(0x18d)](){const _0x36e815=_0x10a544,_0x3178bf=this['gl'];if(!_0x3178bf||!this[_0x36e815(0x16c)]||!this[_0x36e815(0x148)]?.['uResolution'])return;_0x3178bf[_0x36e815(0x11e)](this[_0x36e815(0x16c)]);const _0x386646=_0x3178bf[_0x36e815(0x152)]||this[_0x36e815(0x15d)]?.[_0x36e815(0x151)]||0x1,_0x56608e=_0x3178bf[_0x36e815(0x12f)]||this[_0x36e815(0x15d)]?.['height']||0x1;_0x3178bf[_0x36e815(0x131)](this['_uniforms'][_0x36e815(0x172)],_0x386646,_0x56608e),_0x3178bf[_0x36e815(0x11e)](null);}}_0x538b65(_0x10a544(0x186),r,{'meta':r[_0x10a544(0x12b)]});
