const _0xdcaf9e=_0x38fe;function _0x38fe(_0x1875d6,_0x4207d0){const _0x42dffc=_0x42df();return _0x38fe=function(_0x38fece,_0x80649d){_0x38fece=_0x38fece-0x1d7;let _0x9c6d03=_0x42dffc[_0x38fece];return _0x9c6d03;},_0x38fe(_0x1875d6,_0x4207d0);}function _0x42df(){const _0x377aeb=['TRIPPY','TEMPO','57384TuYFYw','616130uwsBXn','Lava\x20Lamp','treble','_fullscreenBuffer','GROOVY','4332FstLHz','#05060c','4835AJeZYx','uCentroid','overallEnergy','init','flux','now','uTreble','SRC_ALPHA','height','disable','clamp','_uniforms','onResize','ENERGY','createProgram','11qddfHp','onUpdate','uFlux','bassEnergy','uTime','rms','524uqjJTR','undefined','width','1pWzNkM','getUniformLocation','uResolution','ONE_MINUS_SRC_ALPHA','onRender','flushTrackedGLResources','2438028uWseQq','18370kuFqab','DEPTH_TEST','blendFunc','energy','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20vUv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0aprecision\x20highp\x20int;\x0a\x0auniform\x20float\x20uTime;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uFlux;\x0auniform\x20float\x20uBass;\x0auniform\x20float\x20uTreble;\x0auniform\x20float\x20uCentroid;\x0a\x0avarying\x20vec2\x20vUv;\x0a\x0a//\x20Simple\x20hash\x20for\x20pseudo-random\x20numbers\x0afloat\x20hash(vec2\x20p)\x20{\x0a\x20\x20return\x20fract(sin(dot(p,\x20vec2(12.9898,\x2078.233)))\x20*\x2043758.5453);\x0a}\x0a\x0a//\x202D\x20value\x20noise\x20for\x20heat\x20trails/bubbles\x0afloat\x20snoise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20q\x20=\x20floor(p);\x0a\x20\x20vec2\x20r\x20=\x20fract(p);\x0a\x20\x20r\x20=\x20r\x20*\x20r\x20*\x20(3.0\x20-\x202.0\x20*\x20r);\x0a\x0a\x20\x20float\x20a\x20=\x20hash(q);\x0a\x20\x20float\x20b\x20=\x20hash(q\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash(q\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash(q\x20+\x20vec2(1.0,\x201.0));\x0a\x0a\x20\x20return\x20mix(mix(a,\x20b,\x20r.x),\x20mix(c,\x20d,\x20r.x),\x20r.y)\x20*\x202.0\x20-\x201.0;\x0a}\x0a\x0avec3\x20hsv2rgb(vec3\x20c)\x20{\x0a\x20\x20vec4\x20K\x20=\x20vec4(1.0,\x202.0\x20/\x203.0,\x201.0\x20/\x203.0,\x203.0);\x0a\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20K.xyz)\x20*\x206.0\x20-\x20K.www);\x0a\x20\x20return\x20c.z\x20*\x20mix(K.xxx,\x20clamp(p\x20-\x20K.xxx,\x200.0,\x201.0),\x20c.y);\x0a}\x0a\x0a//\x20Keep\x20blobs\x20inside\x20the\x20viewport\x20with\x20soft\x20\x22playdough\x22\x20walls\x0avec2\x20clampInside(vec2\x20p,\x20float\x20margin)\x20{\x0a\x20\x20return\x20clamp(p,\x20vec2(margin),\x20vec2(1.0\x20-\x20margin));\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20//\x20Aspect-corrected\x20UV\x20that\x20preserves\x20the\x20bottom\x20edge\x20for\x20tall\x20viewports\x0a\x20\x20float\x20aspect\x20=\x20uResolution.x\x20/\x20uResolution.y;\x0a\x20\x20vec2\x20uv\x20=\x20vUv\x20-\x200.5;\x0a\x20\x20uv.x\x20*=\x20aspect;\x0a\x20\x20uv\x20+=\x200.5;\x0a\x0a\x20\x20//\x20Speed\x20largely\x20time-based,\x20lightly\x20nudged\x20by\x20energy\x0a\x20\x20float\x20speed\x20=\x201.0\x20+\x20clamp(uEnergy,\x200.0,\x201.0)\x20*\x200.15;\x0a\x20\x20float\x20t\x20=\x20uTime\x20*\x20speed;\x0a\x0a\x20\x20//\x20Start\x20as\x20a\x20base\x20blob\x20near\x20the\x20bottom,\x20then\x20decay\x20quickly\x20into\x20smaller\x20blobs\x0a\x20\x20float\x20spawn\x20=\x20smoothstep(0.0,\x203.0,\x20uTime);\x0a\x20\x20float\x20baseRadius\x20=\x20mix(1.2,\x200.7,\x20spawn);\x0a\x20\x20vec2\x20baseCenter\x20=\x20vec2(0.5,\x200.1);\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20vec3(0.0);\x0a\x20\x20float\x20lavaInfluence\x20=\x20baseRadius\x20*\x20baseRadius\x20/\x20(dot(uv\x20*\x204.0\x20-\x20baseCenter\x20*\x204.0,\x20uv\x20*\x204.0\x20-\x20baseCenter\x20*\x204.0)\x20+\x200.0001);\x0a\x0a\x20\x20//\x20Increased\x20blob\x20count\x20for\x20thicker\x20lava\x0a\x20\x20const\x20int\x20numBlobs\x20=\x2015;\x0a\x20\x20float\x20centroidInfluence\x20=\x20clamp(uCentroid,\x200.0,\x201.0);\x0a\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20numBlobs;\x20i++)\x20{\x0a\x20\x20\x20\x20float\x20id\x20=\x20float(i)\x20*\x200.4;\x0a\x0a\x20\x20\x20\x20//\x20Keep\x20centers\x20within\x20margins\x20and\x20add\x20gentle\x20bounce\x20against\x20edges\x0a\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20cos(t\x20*\x20(0.1\x20+\x20hash(vec2(id,\x201.0))\x20*\x200.05)\x20+\x20id)\x20*\x200.55\x20+\x200.5,\x0a\x20\x20\x20\x20\x20\x20sin(t\x20*\x20(0.08\x20+\x20hash(vec2(id,\x202.0))\x20*\x200.05)\x20+\x20id\x20*\x201.3)\x20*\x200.55\x20+\x200.5\x0a\x20\x20\x20\x20);\x0a\x20\x20\x20\x20center\x20=\x20clampInside(center,\x200.03);\x0a\x0a\x20\x20\x20\x20//\x20\x22Playdough\x22\x20squish\x20near\x20edges\x0a\x20\x20\x20\x20float\x20edgeX\x20=\x20smoothstep(0.0,\x200.08,\x20center.x)\x20+\x20smoothstep(0.0,\x200.08,\x201.0\x20-\x20center.x);\x0a\x20\x20\x20\x20float\x20edgeY\x20=\x20smoothstep(0.0,\x200.08,\x20center.y)\x20+\x20smoothstep(0.0,\x200.08,\x201.0\x20-\x20center.y);\x0a\x20\x20\x20\x20float\x20squish\x20=\x201.0\x20+\x20(edgeX\x20+\x20edgeY)\x20*\x200.1;\x0a\x0a\x20\x20\x20\x20vec2\x20pos\x20=\x20center\x20*\x204.0;\x0a\x20\x20\x20\x20float\x20wobble\x20=\x20sin(t\x20*\x20(0.5\x20+\x20hash(vec2(id,\x203.0))\x20*\x200.2))\x20*\x200.1;\x0a\x0a\x20\x20\x20\x20//\x20Slightly\x20larger\x20radius\x20when\x20centroid\x20rises;\x20varied\x20per-blob\x20radius\x0a\x20\x20\x20\x20float\x20radiusBase\x20=\x200.5\x20+\x20wobble;\x0a\x20\x20\x20\x20float\x20radius\x20=\x20radiusBase\x20*\x20(0.18\x20+\x20hash(vec2(id,\x204.0))\x20*\x200.05);\x0a\x20\x20\x20\x20radius\x20*=\x20mix(1.0,\x201.25,\x20centroidInfluence)\x20*\x20squish;\x0a\x0a\x20\x20\x20\x20vec2\x20diff\x20=\x20uv\x20*\x204.0\x20-\x20pos;\x0a\x20\x20\x20\x20float\x20distSq\x20=\x20dot(diff,\x20diff);\x0a\x20\x20\x20\x20lavaInfluence\x20+=\x20radius\x20*\x20radius\x20*\x201.5\x20/\x20(distSq\x20+\x200.0001);\x0a\x20\x20}\x0a\x0a\x20\x20//\x20Rising\x20heat/bubble\x20noise,\x20boosted\x20lightly\x20by\x20spectral\x20flux\x0a\x20\x20vec2\x20heatUv\x20=\x20uv\x20*\x2030.0\x20+\x20vec2(0.0,\x20t\x20*\x200.8);\x0a\x20\x20float\x20noiseValue\x20=\x20snoise(heatUv);\x0a\x20\x20float\x20heatBoost\x20=\x20mix(1.0,\x201.4,\x20clamp(uFlux,\x200.0,\x201.0));\x0a\x20\x20float\x20heatInfluence\x20=\x20pow(abs(noiseValue),\x204.0)\x20*\x202.0\x20*\x20heatBoost;\x0a\x20\x20heatInfluence\x20*=\x20smoothstep(0.0,\x200.5,\x20uv.y);\x0a\x0a\x20\x20if\x20(lavaInfluence\x20>\x200.8)\x20{\x0a\x20\x20\x20\x20float\x20intensity\x20=\x20smoothstep(0.8,\x201.5,\x20lavaInfluence);\x0a\x0a\x20\x20\x20\x20//\x20Warm\x20palette\x20locked\x20to\x20yellow/orange/red\x20with\x20subtle\x20bass/treble\x20modulation\x0a\x20\x20\x20\x20float\x20baseHue\x20=\x200.08;\x20//\x20orange\x20anchor\x0a\x20\x20\x20\x20float\x20sat\x20=\x20mix(0.78,\x200.95,\x20clamp(uBass,\x200.0,\x201.0));\x0a\x20\x20\x20\x20float\x20val\x20=\x20mix(0.75,\x200.95,\x20clamp(uTreble,\x200.0,\x201.0));\x0a\x0a\x20\x20\x20\x20vec3\x20baseHSV\x20=\x20vec3(baseHue,\x20sat,\x20val);\x0a\x20\x20\x20\x20vec3\x20dynamicColor1\x20=\x20hsv2rgb(baseHSV);\x0a\x0a\x20\x20\x20\x20vec3\x20highlightHSV\x20=\x20vec3(mod(baseHue\x20+\x200.05,\x201.0),\x201.0,\x201.0);\x0a\x20\x20\x20\x20vec3\x20dynamicColor2\x20=\x20hsv2rgb(highlightHSV);\x0a\x0a\x20\x20\x20\x20finalColor\x20=\x20mix(dynamicColor1,\x20dynamicColor2,\x20intensity);\x0a\x0a\x20\x20\x20\x20float\x20glow\x20=\x20smoothstep(2.0,\x201.0,\x20lavaInfluence);\x0a\x20\x20\x20\x20vec3\x20coreColor\x20=\x20hsv2rgb(vec3(mod(baseHue\x20+\x200.1,\x201.0),\x200.5,\x201.0));\x0a\x20\x20\x20\x20finalColor\x20+=\x20coreColor\x20*\x20glow\x20*\x200.35;\x0a\x0a\x20\x20\x20\x20finalColor\x20+=\x20vec3(0.9,\x200.9,\x201.0)\x20*\x20heatInfluence\x20*\x200.25;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20finalColor\x20+=\x20vec3(0.05,\x200.05,\x200.1)\x20*\x20heatInfluence\x20*\x200.1;\x0a\x20\x20}\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','663402IjlzGF','destroy','BLEND','drawingBufferWidth','subBassEnergy','602tVhBzu','TECH','useProgram','uEnergy','uniform2f','_program','energyChangeIntensity','_audio','uniform1f','autoDispose','MID','bass','lava-lamp-3d','drawingBufferHeight','centroid','spectralFlux','uBass','attackRelease','VIBE','enable','_timeStart'];_0x42df=function(){return _0x377aeb;};return _0x42df();}(function(_0x266720,_0x8245f){const _0x3afc27=_0x38fe,_0x1a29a5=_0x266720();while(!![]){try{const _0x44d490=parseInt(_0x3afc27(0x209))/0x1*(parseInt(_0x3afc27(0x1ea))/0x2)+-parseInt(_0x3afc27(0x216))/0x3+-parseInt(_0x3afc27(0x206))/0x4*(parseInt(_0x3afc27(0x1f1))/0x5)+-parseInt(_0x3afc27(0x1ef))/0x6*(parseInt(_0x3afc27(0x21b))/0x7)+-parseInt(_0x3afc27(0x1e9))/0x8+parseInt(_0x3afc27(0x20f))/0x9+-parseInt(_0x3afc27(0x210))/0xa*(parseInt(_0x3afc27(0x200))/0xb);if(_0x44d490===_0x8245f)break;else _0x1a29a5['push'](_0x1a29a5['shift']());}catch(_0x22ac06){_0x1a29a5['push'](_0x1a29a5['shift']());}}}(_0x42df,0x2712c));import{V as _0x90fcba,r as _0x3bbb36,W as _0x504cd7}from'./receiver.min.js';import{c as _0x51bc07,b as _0xfc4653,d as _0x5ee750}from'./fullscreen-quad.min.js';const s={'savedAt':0x19c4ecec384,'name':_0xdcaf9e(0x1eb),'description':'Warm\x20yellow-orange-red\x20metaballs\x20drifting\x20and\x20fusing,\x20matching\x20the\x20provided\x20GPU\x20lava\x20lamp\x20reference.','tags':[_0x90fcba[_0xdcaf9e(0x1e4)][_0xdcaf9e(0x1e7)],_0x90fcba[_0xdcaf9e(0x1fe)][_0xdcaf9e(0x1dc)],_0x90fcba[_0xdcaf9e(0x1e8)][_0xdcaf9e(0x1ee)],_0x90fcba[_0xdcaf9e(0x21c)]['HD']]},r={'hue':0.08,'energy':0x0,'flux':0x0,'bass':0x0,'treble':0x0,'centroid':0x0};_0x3bbb36(_0xdcaf9e(0x1de),class extends _0x504cd7{static ['meta']=s;constructor(_0x67530d){const _0x6c17a3=_0xdcaf9e;super({..._0x67530d,'config':{'backgroundColor':_0x6c17a3(0x1f0),'autoClear':!0x0,..._0x67530d?.['config']??{}}}),this[_0x6c17a3(0x1d7)]=null,this[_0x6c17a3(0x1fc)]={},this['_fullscreenBuffer']=null,this['_audio']={...r},this[_0x6c17a3(0x1e6)]=0.001*(_0x6c17a3(0x207)!=typeof performance?performance[_0x6c17a3(0x1f6)]():Date[_0x6c17a3(0x1f6)]());}[_0xdcaf9e(0x1f4)](){const _0x493672=_0xdcaf9e,_0x2e6b65=this['gl'];_0x2e6b65&&(this[_0x493672(0x20e)](),this[_0x493672(0x1e6)]=0.001*(_0x493672(0x207)!=typeof performance?performance[_0x493672(0x1f6)]():Date['now']()),this[_0x493672(0x1d9)]={...r},_0x2e6b65[_0x493672(0x1fa)](_0x2e6b65[_0x493672(0x211)]),_0x2e6b65['disable'](_0x2e6b65['CULL_FACE']),_0x2e6b65[_0x493672(0x1e5)](_0x2e6b65[_0x493672(0x218)]),_0x2e6b65[_0x493672(0x212)](_0x2e6b65[_0x493672(0x1f8)],_0x2e6b65[_0x493672(0x20c)]),this[_0x493672(0x1d7)]=this[_0x493672(0x1ff)](_0x493672(0x214),_0x493672(0x215),{'aPosition':0x0}),this[_0x493672(0x1fc)]={'uResolution':_0x2e6b65[_0x493672(0x20a)](this[_0x493672(0x1d7)],'uResolution'),'uTime':_0x2e6b65['getUniformLocation'](this[_0x493672(0x1d7)],_0x493672(0x204)),'uEnergy':_0x2e6b65['getUniformLocation'](this['_program'],'uEnergy'),'uFlux':_0x2e6b65['getUniformLocation'](this['_program'],'uFlux'),'uBass':_0x2e6b65['getUniformLocation'](this[_0x493672(0x1d7)],_0x493672(0x1e2)),'uTreble':_0x2e6b65[_0x493672(0x20a)](this[_0x493672(0x1d7)],_0x493672(0x1f7)),'uCentroid':_0x2e6b65[_0x493672(0x20a)](this['_program'],_0x493672(0x1f2))},this[_0x493672(0x1ed)]=_0x51bc07(_0x2e6b65,{'autoDispose':(_0x596b38,_0x43ccf6)=>this[_0x493672(0x1db)](_0x596b38,_0x43ccf6)}));}[_0xdcaf9e(0x1fd)](){const _0x5115f9=_0xdcaf9e;super[_0x5115f9(0x1fd)]?.();}[_0xdcaf9e(0x201)](_0x4802d2){const _0xb2d6=_0xdcaf9e;if(!_0x4802d2)return;const _0x2724f3=this[_0xb2d6(0x1fb)](_0x4802d2['dt']??0x1/0x3c,0x1/0xf0,0.2),_0x1edc07=this[_0xb2d6(0x1fb)](_0x4802d2[_0xb2d6(0x1f3)]??_0x4802d2[_0xb2d6(0x213)]??_0x4802d2[_0xb2d6(0x205)]??0x0,0x0,1.2),_0x320a9c=this[_0xb2d6(0x1fb)](1.1*(_0x4802d2[_0xb2d6(0x1e1)]??0x0)+0.4*(_0x4802d2[_0xb2d6(0x1d8)]??0x0),0x0,1.4),_0x8ca52d=this[_0xb2d6(0x1fb)](0.5*(_0x4802d2[_0xb2d6(0x21a)]??0x0)+0.7*(_0x4802d2[_0xb2d6(0x203)]??0x0),0x0,1.2),_0x5dfe6=this[_0xb2d6(0x1fb)](0.7*(_0x4802d2['trebleEnergy']??0x0)+0.3*(_0x4802d2['brillianceEnergy']??0x0),0x0,1.2),_0x54323e=this[_0xb2d6(0x1fb)]((_0x4802d2['dominantFreq']??_0x4802d2[_0xb2d6(0x1e0)]??0x1068)/0x36b0,0x0,0x1);this[_0xb2d6(0x1d9)]['energy']=this[_0xb2d6(0x1e3)](this['_audio'][_0xb2d6(0x213)],_0x1edc07,_0x2724f3,0.08,0.45),this[_0xb2d6(0x1d9)][_0xb2d6(0x1f5)]=this[_0xb2d6(0x1e3)](this[_0xb2d6(0x1d9)][_0xb2d6(0x1f5)],_0x320a9c,_0x2724f3,0.08,0.6),this['_audio'][_0xb2d6(0x1dd)]=this[_0xb2d6(0x1e3)](this['_audio'][_0xb2d6(0x1dd)],_0x8ca52d,_0x2724f3,0.06,0.5),this[_0xb2d6(0x1d9)][_0xb2d6(0x1ec)]=this[_0xb2d6(0x1e3)](this[_0xb2d6(0x1d9)][_0xb2d6(0x1ec)],_0x5dfe6,_0x2724f3,0.06,0.5),this[_0xb2d6(0x1d9)][_0xb2d6(0x1e0)]=this[_0xb2d6(0x1e3)](this[_0xb2d6(0x1d9)]['centroid'],_0x54323e,_0x2724f3,0.12,0.6);}[_0xdcaf9e(0x20d)](){const _0x4e7561=_0xdcaf9e,_0x202a7e=this['gl'];if(!_0x202a7e||!this[_0x4e7561(0x1d7)])return;_0x202a7e[_0x4e7561(0x21d)](this[_0x4e7561(0x1d7)]),this[_0x4e7561(0x1fc)][_0x4e7561(0x20b)]&&_0x202a7e[_0x4e7561(0x21f)](this[_0x4e7561(0x1fc)][_0x4e7561(0x20b)],_0x202a7e[_0x4e7561(0x219)]||this['canvas']?.[_0x4e7561(0x208)]||this[_0x4e7561(0x208)]||0x1,_0x202a7e[_0x4e7561(0x1df)]||this['canvas']?.[_0x4e7561(0x1f9)]||this[_0x4e7561(0x1f9)]||0x1);const _0x5a4638=0.001*(_0x4e7561(0x207)!=typeof performance?performance[_0x4e7561(0x1f6)]():Date[_0x4e7561(0x1f6)]())-this[_0x4e7561(0x1e6)];_0x202a7e[_0x4e7561(0x1da)](this['_uniforms']['uTime'],_0x5a4638),_0x202a7e[_0x4e7561(0x1da)](this[_0x4e7561(0x1fc)][_0x4e7561(0x21e)],this[_0x4e7561(0x1d9)][_0x4e7561(0x213)]??0x0),_0x202a7e[_0x4e7561(0x1da)](this[_0x4e7561(0x1fc)][_0x4e7561(0x202)],this[_0x4e7561(0x1d9)][_0x4e7561(0x1f5)]??0x0),_0x202a7e[_0x4e7561(0x1da)](this[_0x4e7561(0x1fc)][_0x4e7561(0x1e2)],this[_0x4e7561(0x1d9)][_0x4e7561(0x1dd)]??0x0),_0x202a7e[_0x4e7561(0x1da)](this[_0x4e7561(0x1fc)][_0x4e7561(0x1f7)],this['_audio'][_0x4e7561(0x1ec)]??0x0),_0x202a7e[_0x4e7561(0x1da)](this['_uniforms']['uCentroid'],this[_0x4e7561(0x1d9)][_0x4e7561(0x1e0)]??0x0),_0xfc4653(_0x202a7e,this[_0x4e7561(0x1ed)],0x0),_0x5ee750(_0x202a7e);}[_0xdcaf9e(0x217)](){const _0x9fd7c9=_0xdcaf9e;this[_0x9fd7c9(0x20e)](),super['destroy']();}},{'meta':s});
