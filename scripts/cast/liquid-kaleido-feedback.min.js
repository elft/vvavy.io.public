const _0x4d55ba=_0x1e76;function _0x1e76(_0x3e3a7a,_0x4e10d4){const _0x4201c6=_0x4201();return _0x1e76=function(_0x1e7602,_0x451107){_0x1e7602=_0x1e7602-0x6f;let _0x3cd26f=_0x4201c6[_0x1e7602];return _0x3cd26f;},_0x1e76(_0x3e3a7a,_0x4e10d4);}(function(_0xa5f7c9,_0x4b228b){const _0x13c1a5=_0x1e76,_0x4b82b0=_0xa5f7c9();while(!![]){try{const _0x5ae878=parseInt(_0x13c1a5(0x71))/0x1+parseInt(_0x13c1a5(0xcd))/0x2+parseInt(_0x13c1a5(0xbe))/0x3*(-parseInt(_0x13c1a5(0x10d))/0x4)+-parseInt(_0x13c1a5(0xea))/0x5*(parseInt(_0x13c1a5(0xb4))/0x6)+parseInt(_0x13c1a5(0x121))/0x7*(parseInt(_0x13c1a5(0xad))/0x8)+parseInt(_0x13c1a5(0x72))/0x9*(-parseInt(_0x13c1a5(0xed))/0xa)+parseInt(_0x13c1a5(0x93))/0xb;if(_0x5ae878===_0x4b228b)break;else _0x4b82b0['push'](_0x4b82b0['shift']());}catch(_0x3fd0a3){_0x4b82b0['push'](_0x4b82b0['shift']());}}}(_0x4201,0x4a632));function _0x4201(){const _0x57c40=['meta','ARRAY_BUFFER','_createDefaultState','PUNCHY','max','slices','LINEAR','dissolve','aPosition','flux','Liquid\x20kaleidoscopic\x20feedback\x20tunnel\x20with\x20mirrored\x20shards,\x20dye\x20trails,\x20and\x20drop-driven\x20bloomsâ€”built\x20to\x20scratch\x20the\x20Butterchurn\x20itch.','loudnessShortDb','uRayPhase','uBass','texture','_grainSeed','chromatic','465960jRZEhw','_lastRenderAt','disable','TEXTURE0','flatness','uniform2f','uFlux','uFeedbackMix','ONE_MINUS_SRC_ALPHA','enableVertexAttribArray','TEMPO','framebufferTexture2D','undefined','uChromatic','bindFramebuffer','uPrev','uScene','shortEdge','DEPTH_TEST','releaseGLResource','FLOAT','bindTexture','swirl','stereoLean','autoDispose','Framebuffer\x20incomplete\x20for\x20liquid-kaleido-feedback','162136zBkQCy','blendFuncSeparate','energy','uZoom','_buildResources','vertexAttribPointer','_swapTargets','18fOwEJa','floor','GROOVY','cues','getViewportProfile','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUV;\x0a\x0auniform\x20sampler2D\x20uPrev;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uFlux;\x0auniform\x20float\x20uCentroid;\x0auniform\x20float\x20uHueShift;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uFeedbackMix;\x0auniform\x20float\x20uSlices;\x0auniform\x20float\x20uLean;\x0auniform\x20float\x20uFeedbackFade;\x0auniform\x20float\x20uSwirl;\x0auniform\x20float\x20uGrain;\x0auniform\x20float\x20uZoom;\x0auniform\x20float\x20uSeed;\x0auniform\x20float\x20uRayMix;\x0auniform\x20float\x20uRayDensity;\x0auniform\x20float\x20uCenterFocus;\x0auniform\x20float\x20uRayPhase;\x0auniform\x20float\x20uPatternSeed;\x0auniform\x20float\x20uBeat;\x0auniform\x20float\x20uBass;\x0auniform\x20float\x20uDissolve;\x0auniform\x20float\x20uContour;\x0a\x0aconst\x20float\x20PI\x20=\x203.14159265359;\x0a\x0afloat\x20hash12(vec2\x20p)\x20{\x0a\x20\x20float\x20h\x20=\x20dot(p,\x20vec2(127.1,\x20311.7));\x0a\x20\x20return\x20fract(sin(h)\x20*\x2043758.5453123);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20float\x20a\x20=\x20hash12(i);\x0a\x20\x20float\x20b\x20=\x20hash12(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash12(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash12(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20return\x20mix(mix(a,\x20b,\x20u.x),\x20mix(c,\x20d,\x20u.x),\x20u.y);\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20value\x20=\x200.0;\x0a\x20\x20float\x20amp\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x204;\x20i++)\x20{\x0a\x20\x20\x20\x20value\x20+=\x20amp\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20=\x20p\x20*\x202.2\x20+\x20vec2(1.7,\x20-2.3);\x0a\x20\x20\x20\x20amp\x20*=\x200.55;\x0a\x20\x20}\x0a\x20\x20return\x20value;\x0a}\x0a\x0amat2\x20rotate2d(float\x20a)\x20{\x0a\x20\x20float\x20s\x20=\x20sin(a);\x0a\x20\x20float\x20c\x20=\x20cos(a);\x0a\x20\x20return\x20mat2(c,\x20-s,\x20s,\x20c);\x0a}\x0a\x0avec2\x20kaleido(vec2\x20p,\x20float\x20slices,\x20float\x20spin)\x20{\x0a\x20\x20float\x20angle\x20=\x20atan(p.y,\x20p.x)\x20+\x20spin;\x0a\x20\x20float\x20r\x20=\x20length(p);\x0a\x20\x20float\x20sector\x20=\x20PI\x20/\x20max(1.0,\x20slices);\x0a\x20\x20angle\x20=\x20mod(angle,\x202.0\x20*\x20sector);\x0a\x20\x20angle\x20=\x20abs(angle\x20-\x20sector);\x0a\x20\x20return\x20vec2(cos(angle),\x20sin(angle))\x20*\x20r;\x0a}\x0a\x0afloat\x20rayBands(vec2\x20p,\x20float\x20density,\x20float\x20phase,\x20float\x20beat,\x20float\x20seed)\x20{\x0a\x20\x20vec2\x20dir\x20=\x20normalize(p\x20+\x20vec2(1e-4));\x0a\x20\x20float\x20accum\x20=\x200.0;\x0a\x20\x20float\x20t\x20=\x200.0;\x0a\x20\x20float\x20steps\x20=\x207.0;\x0a\x20\x20float\x20jitter\x20=\x20(hash12(p\x20+\x20vec2(seed))\x20-\x200.5)\x20*\x200.2;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x207;\x20i++)\x20{\x0a\x20\x20\x20\x20float\x20fi\x20=\x20float(i);\x0a\x20\x20\x20\x20float\x20stride\x20=\x20mix(0.02,\x200.18,\x20fi\x20/\x20(steps\x20-\x201.0));\x0a\x20\x20\x20\x20vec2\x20sp\x20=\x20p\x20+\x20dir\x20*\x20(t\x20+\x20stride\x20+\x20jitter);\x0a\x20\x20\x20\x20float\x20n\x20=\x20fbm(sp\x20*\x20(2.6\x20+\x20density\x20*\x205.5)\x20+\x20vec2(phase\x20*\x200.7,\x20-phase\x20*\x200.5)\x20+\x20seed);\x0a\x20\x20\x20\x20float\x20gate\x20=\x20smoothstep(0.58,\x200.98,\x20n);\x0a\x20\x20\x20\x20accum\x20+=\x20gate;\x0a\x20\x20\x20\x20t\x20+=\x20stride\x20*\x20(1.0\x20+\x20density\x20*\x200.3);\x0a\x20\x20}\x0a\x20\x20accum\x20/=\x20steps;\x0a\x20\x20float\x20ray\x20=\x20pow(accum,\x202.4);\x0a\x20\x20return\x20ray\x20*\x20(0.35\x20+\x20density\x20*\x200.45\x20+\x20beat\x20*\x200.35);\x0a}\x0a\x0avec3\x20palette(float\x20t,\x20float\x20shift)\x20{\x0a\x20\x20vec3\x20a\x20=\x20vec3(0.55,\x200.36,\x200.92);\x0a\x20\x20vec3\x20b\x20=\x20vec3(0.45,\x200.28,\x200.18);\x0a\x20\x20vec3\x20c\x20=\x20vec3(0.32,\x200.68,\x200.54);\x0a\x20\x20vec3\x20d\x20=\x20vec3(0.18,\x200.2,\x200.38);\x0a\x20\x20return\x20a\x20+\x20b\x20*\x20cos(6.28318\x20*\x20(c\x20*\x20(t\x20+\x20shift)\x20+\x20d));\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20vec2\x20p\x20=\x20uv\x20-\x200.5;\x0a\x20\x20float\x20aspect\x20=\x20uResolution.x\x20/\x20max(1.0,\x20uResolution.y);\x0a\x20\x20p.x\x20*=\x20aspect;\x0a\x0a\x20\x20float\x20focus\x20=\x20mix(0.85,\x201.35,\x20clamp(uCenterFocus,\x200.0,\x201.5));\x0a\x20\x20p\x20*=\x20focus;\x0a\x0a\x20\x20float\x20time\x20=\x20uTime\x20*\x20(0.7\x20+\x20uEnergy\x20*\x200.7\x20+\x20uFlux\x20*\x200.4\x20+\x20uDrop\x20*\x200.25);\x0a\x20\x20float\x20slices\x20=\x20mix(4.0,\x2010.0,\x20clamp(uSlices,\x200.0,\x201.0));\x0a\x20\x20float\x20spin\x20=\x20uSwirl\x20*\x20(0.5\x20+\x20uFlux\x20*\x200.4)\x20+\x20uCentroid\x20*\x200.6;\x0a\x0a\x20\x20p\x20*=\x20rotate2d(spin\x20+\x20uLean\x20*\x200.35);\x0a\x0a\x20\x20vec2\x20flow\x20=\x20vec2(fbm(p\x20*\x201.8\x20+\x20time\x20*\x200.55),\x20fbm(p\x20*\x202.3\x20-\x20time\x20*\x200.45))\x20-\x200.5;\x0a\x20\x20p\x20+=\x20flow\x20*\x20(0.08\x20+\x20uFlux\x20*\x200.12\x20+\x20uDrop\x20*\x200.1\x20+\x20uEnergy\x20*\x200.05);\x0a\x20\x20p.x\x20+=\x20uLean\x20*\x20(0.18\x20+\x20uEnergy\x20*\x200.12);\x0a\x0a\x20\x20float\x20warpPulse\x20=\x20(0.25\x20+\x20uBass\x20*\x200.6\x20+\x20uDrop\x20*\x200.45)\x20*\x20(0.6\x20+\x20uBeat\x20*\x200.8);\x0a\x20\x20float\x20radial\x20=\x20length(p)\x20+\x201e-4;\x0a\x20\x20vec2\x20dir\x20=\x20p\x20/\x20radial;\x0a\x20\x20float\x20ripple\x20=\x20sin(radial\x20*\x20(5.0\x20+\x20uBass\x20*\x208.0\x20+\x20uRayDensity\x20*\x203.5)\x20-\x20time\x20*\x20(1.2\x20+\x20uDrop\x20*\x200.9));\x0a\x20\x20p\x20+=\x20dir\x20*\x20ripple\x20*\x20warpPulse\x20*\x200.12;\x0a\x20\x20p\x20+=\x20(fbm(p\x20*\x203.2\x20+\x20uRayPhase)\x20-\x200.5)\x20*\x20(0.08\x20+\x20uBass\x20*\x200.12\x20+\x20uDrop\x20*\x200.1);\x0a\x0a\x20\x20p\x20=\x20kaleido(p,\x20slices,\x20spin\x20*\x200.5);\x0a\x20\x20p\x20*=\x20uZoom;\x0a\x0a\x20\x20vec2\x20sampleUv\x20=\x20p;\x0a\x20\x20sampleUv.x\x20/=\x20max(0.0001,\x20aspect);\x0a\x20\x20sampleUv\x20=\x20sampleUv\x20*\x200.5\x20+\x200.5;\x0a\x20\x20sampleUv\x20=\x20fract(sampleUv\x20+\x201.0);\x0a\x0a\x20\x20vec3\x20prev\x20=\x20texture2D(uPrev,\x20sampleUv).rgb;\x0a\x0a\x20\x20radial\x20=\x20clamp(1.0\x20-\x20length(p)\x20*\x200.85,\x200.0,\x201.0);\x0a\x20\x20float\x20hueCore\x20=\x20fract(uCentroid\x20*\x200.65\x20+\x20fbm(p\x20*\x201.4\x20-\x20time\x20*\x200.2)\x20*\x200.08\x20+\x20uHueShift);\x0a\x20\x20vec3\x20base\x20=\x20palette(hueCore,\x20uHueShift)\x20*\x20(0.35\x20+\x20radial\x20*\x200.7\x20+\x20uEnergy\x20*\x200.6);\x0a\x0a\x20\x20float\x20stripe\x20=\x20sin((p.x\x20+\x20p.y\x20*\x201.2)\x20*\x20(4.5\x20+\x20uFlux\x20*\x207.0)\x20+\x20time\x20*\x201.6);\x0a\x20\x20base\x20+=\x20vec3(0.08)\x20*\x20stripe\x20*\x20(0.6\x20+\x20uFlux\x20*\x200.8);\x0a\x0a\x20\x20float\x20shock\x20=\x20exp(-abs(length(p)\x20-\x20(0.36\x20+\x20uDrop\x20*\x200.4))\x20*\x20(7.0\x20+\x20uDrop\x20*\x204.0));\x0a\x20\x20base\x20+=\x20palette(hueCore\x20+\x200.12,\x20uHueShift)\x20*\x20shock\x20*\x20(0.65\x20+\x20uDrop\x20*\x200.5);\x0a\x0a\x20\x20float\x20rayDensity\x20=\x20clamp(uRayDensity,\x200.0,\x201.0);\x0a\x20\x20float\x20rayMix\x20=\x20clamp(uRayMix,\x200.0,\x201.0);\x0a\x20\x20float\x20rayPhase\x20=\x20uRayPhase\x20+\x20uPatternSeed\x20*\x200.17;\x0a\x20\x20float\x20ray\x20=\x20rayBands(p,\x20rayDensity,\x20rayPhase,\x20uBeat,\x20uPatternSeed);\x0a\x20\x20base\x20+=\x20palette(hueCore\x20+\x200.18,\x20uHueShift\x20+\x20uPatternSeed\x20*\x200.03)\x20*\x20ray\x20*\x20rayMix;\x0a\x0a\x20\x20float\x20contourFreq\x20=\x206.0\x20+\x20uBass\x20*\x208.0\x20+\x20uFlux\x20*\x204.0;\x0a\x20\x20float\x20contour\x20=\x20abs(sin(length(p)\x20*\x20contourFreq\x20-\x20time\x20*\x20(1.4\x20+\x20uDrop\x20*\x200.7)\x20+\x20uPatternSeed));\x0a\x20\x20contour\x20=\x20smoothstep(0.6,\x200.95,\x20contour);\x0a\x20\x20vec3\x20contourCol\x20=\x20palette(hueCore\x20+\x200.25,\x20uHueShift\x20+\x200.05)\x20*\x20contour\x20*\x20(0.18\x20+\x20uContour\x20*\x200.55);\x0a\x20\x20base\x20+=\x20contourCol;\x0a\x0a\x20\x20float\x20feedback\x20=\x20mix(0.78,\x200.96,\x20clamp(uFeedbackMix,\x200.0,\x201.0));\x0a\x20\x20feedback\x20=\x20max(0.55,\x20feedback\x20-\x20uFeedbackFade\x20*\x200.45);\x0a\x20\x20float\x20inject\x20=\x20clamp(0.18\x20+\x20uEnergy\x20*\x200.28\x20+\x20uFlux\x20*\x200.16\x20+\x20uDrop\x20*\x200.42,\x200.06,\x200.72);\x0a\x0a\x20\x20vec3\x20color\x20=\x20mix(prev\x20*\x20feedback,\x20base,\x20inject);\x0a\x20\x20color\x20+=\x20prev\x20*\x20(0.06\x20+\x20uFlux\x20*\x200.08)\x20*\x20(0.7\x20-\x20uFeedbackFade\x20*\x200.5);\x0a\x0a\x20\x20float\x20dissolveNoise\x20=\x20fbm(p\x20*\x203.3\x20+\x20uTime\x20*\x200.8\x20+\x20uPatternSeed\x20*\x202.3);\x0a\x20\x20float\x20dissolveMask\x20=\x20mix(1.0,\x20smoothstep(0.35,\x200.75,\x20dissolveNoise\x20+\x20uPatternSeed\x20*\x200.05),\x20clamp(uDissolve,\x200.0,\x201.0));\x0a\x20\x20color\x20*=\x20dissolveMask;\x0a\x0a\x20\x20float\x20grain\x20=\x20(hash12(vUV\x20*\x20uResolution\x20+\x20uSeed\x20+\x20time\x20*\x2050.0)\x20-\x200.5)\x20*\x200.12\x20*\x20uGrain;\x0a\x20\x20color\x20+=\x20grain;\x0a\x20\x20gl_FragColor\x20=\x20vec4(max(color,\x20vec3(0.0)),\x201.0);\x0a}\x0a','_feedbackProgram','dominantFreq','texImage2D','bassEnergy','9bllpRV','isFinite','CLAMP_TO_EDGE','rms','RGBA','uDissolve','bindBuffer','_patternSeed','bloom','uSwirl','grain','uDrop','onResize','feedbackFade','_quadBuffer','995420wmiqGP','UNSIGNED_BYTE','createProgram','vvavy','feedbackStrength','rayMix','FRAMEBUFFER_COMPLETE','_beatCooldown','uLean','now','uContour','TRIANGLES','Failed\x20to\x20create\x20fullscreen\x20buffer\x20for\x20liquid-kaleido-feedback','checkFramebufferStatus','_targetHeight','uGrain','dbTo01','uBeat','TEXTURE_MIN_FILTER','zoom','beatConfidence','beatPulse','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20vUV;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUV\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','destroy','VIBE','activeTexture','centerFocus','STENCIL_TEST','rayPhase','537620ZNIBIX','disableVertexAttribArray','beat','503270ogWulp','densityScale','SRC_ALPHA','COLOR_ATTACHMENT0','TEXTURE_2D','uEnergy','ONE','_targetScale','viewport','onUpdate','random','lowMidEnergy','width','uniform1i','uSeed','resetState','_targetWidth','useProgram','height','_destroyTarget','drawingBufferHeight','uHue','init','_time','_createTarget','subBassEnergy','hueShift','_ensureTargets','fbo','uCentroid','FRAMEBUFFER','canvas','179036QcXLlO','Failed\x20to\x20allocate\x20framebuffer\x20for\x20liquid-kaleido-feedback','texParameteri','clamp','rayDensity','_uniforms','isBeatSpike','_presentProgram','TEXTURE_MAG_FILTER','centroid','contour','drawArrays','drop','tempoConfidence','trebleEnergy','uRayMix','enable','deleteBuffer','deleteTexture','TEXTURE_WRAP_T','77xFGpxe','uTime','createTexture','_writeTarget','uPatternSeed','dropIntensity','present','bass','onRender','_updateResolutionUniforms','timeScale','energyChange','energyChangeIntensity','flushTrackedGLResources','feedback','uFeedbackFade','uRayDensity','stereoBalance','uResolution','uniform1f','liquid-kaleido-feedback','_readTarget','bufferData','uHueShift','deleteFramebuffer','uSlices','attackRelease','99186fGHiHx','18JRxdrG','_state','createBuffer','drawingBufferWidth','getAttribLocation','presenceEnergy','_resizeTargets','map','uCenterFocus','lerp','getUniformLocation','_attributes','dropPulse','uBloom','abs','TECH'];_0x4201=function(){return _0x57c40;};return _0x4201();}import{W as _0x165c6b,V as _0x479cb6,r as _0x50fb49}from'./receiver.min.js';var i=_0x4d55ba(0xe3);class s extends _0x165c6b{static ['meta']={'savedAt':0x19c4ecec384,'createdBy':_0x4d55ba(0xd0),'description':_0x4d55ba(0x8c),'tags':[_0x479cb6[_0x4d55ba(0x81)]['HD'],_0x479cb6[_0x4d55ba(0xe5)]['TRIPPY'],_0x479cb6['ENERGY'][_0x4d55ba(0x85)],_0x479cb6[_0x4d55ba(0x9d)][_0x4d55ba(0xb6)]]};constructor(_0x1b1d66){const _0x5253ef=_0x4d55ba;super(_0x1b1d66),this[_0x5253ef(0xba)]=null,this['_presentProgram']=null,this[_0x5253ef(0x112)]={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0x5253ef(0xcc)]=null,this['_readTarget']=null,this[_0x5253ef(0x124)]=null,this[_0x5253ef(0xfd)]=0x0,this['_targetHeight']=0x0,this[_0x5253ef(0xf4)]=0.8,this[_0x5253ef(0x104)]=0x0,this['_lastRenderAt']=null,this[_0x5253ef(0x91)]=0x3e8*Math[_0x5253ef(0xf7)](),this[_0x5253ef(0xc5)]=0x3e8*Math[_0x5253ef(0xf7)](),this[_0x5253ef(0xd4)]=0x0,this[_0x5253ef(0x73)]=this[_0x5253ef(0x84)]();}[_0x4d55ba(0x103)](){const _0x305017=_0x4d55ba,_0x2887b5=this['gl'];if(!_0x2887b5)return;_0x2887b5['disable'](_0x2887b5[_0x305017(0xa5)]),_0x2887b5[_0x305017(0x95)](_0x2887b5['CULL_FACE']),_0x2887b5[_0x305017(0x95)](_0x2887b5[_0x305017(0xe8)]),_0x2887b5[_0x305017(0x11d)](_0x2887b5['BLEND']),_0x2887b5[_0x305017(0xae)](_0x2887b5[_0x305017(0xef)],_0x2887b5['ONE_MINUS_SRC_ALPHA'],_0x2887b5[_0x305017(0xf3)],_0x2887b5[_0x305017(0x9b)]),this[_0x305017(0xb1)](_0x2887b5),this['_targetScale']=this['_computeTargetScale']();const _0x1e7228=_0x2887b5['drawingBufferWidth']||this[_0x305017(0xf9)]||this[_0x305017(0x10c)]?.['width']||0x1,_0x2058d0=_0x2887b5['drawingBufferHeight']||this[_0x305017(0xff)]||this[_0x305017(0x10c)]?.[_0x305017(0xff)]||0x1;this['_targetWidth']=Math[_0x305017(0x86)](0x8,Math[_0x305017(0xb5)](_0x1e7228*this['_targetScale'])),this[_0x305017(0xdb)]=Math[_0x305017(0x86)](0x8,Math[_0x305017(0xb5)](_0x2058d0*this[_0x305017(0xf4)])),this['_resizeTargets'](!0x0),this[_0x305017(0x104)]=0x0,this[_0x305017(0x94)]=null;}[_0x4d55ba(0xe4)](){const _0x221c05=_0x4d55ba;this[_0x221c05(0x12e)](),this['_readTarget']=null,this[_0x221c05(0x124)]=null,super[_0x221c05(0xe4)]();}[_0x4d55ba(0xfc)](){const _0x45c0e5=_0x4d55ba;this[_0x45c0e5(0x104)]=0x0,this[_0x45c0e5(0x94)]=null,this['_grainSeed']=0x3e8*Math[_0x45c0e5(0xf7)](),this[_0x45c0e5(0xc5)]=0x3e8*Math[_0x45c0e5(0xf7)](),this[_0x45c0e5(0xd4)]=0x0,this[_0x45c0e5(0x12e)](),this[_0x45c0e5(0x136)]=null,this[_0x45c0e5(0x124)]=null,this[_0x45c0e5(0xba)]=null,this[_0x45c0e5(0x114)]=null,this[_0x45c0e5(0xcc)]=null,this[_0x45c0e5(0x73)]=this[_0x45c0e5(0x84)](),this['gl']&&this['_resizeTargets'](!0x0);}[_0x4d55ba(0xca)](){const _0x2efaa2=_0x4d55ba;super[_0x2efaa2(0xca)]?.(),this[_0x2efaa2(0xf4)]=this['_computeTargetScale']();const _0x21256d=this['gl'],_0x292071=_0x21256d?.[_0x2efaa2(0x75)]||this['width']||this[_0x2efaa2(0x10c)]?.[_0x2efaa2(0xf9)]||0x1,_0x130668=_0x21256d?.[_0x2efaa2(0x101)]||this['height']||this[_0x2efaa2(0x10c)]?.[_0x2efaa2(0xff)]||0x1;this['_targetWidth']=Math[_0x2efaa2(0x86)](0x8,Math[_0x2efaa2(0xb5)](_0x292071*this[_0x2efaa2(0xf4)])),this[_0x2efaa2(0xdb)]=Math['max'](0x8,Math[_0x2efaa2(0xb5)](_0x130668*this[_0x2efaa2(0xf4)])),this['_resizeTargets'](!0x0),this[_0x2efaa2(0x12a)]();}[_0x4d55ba(0xf6)](_0x4fe855){const _0x2d5df8=_0x4d55ba;if(!_0x4fe855)return;const _0x104441=this[_0x2d5df8(0x110)](_0x4fe855['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x5979e6=Number[_0x2d5df8(0xbf)](_0x104441)?_0x104441:0x1/0x3c,_0x338252=this[_0x2d5df8(0x110)](_0x4fe855['energy']??_0x4fe855[_0x2d5df8(0xc1)]??this[_0x2d5df8(0xdd)](_0x4fe855[_0x2d5df8(0x8d)]??-0x32),0x0,1.4),_0x5bccd5=this[_0x2d5df8(0x110)](0.75*(_0x4fe855['spectralFlux']??0x0)+0.35*Math[_0x2d5df8(0x80)](_0x4fe855[_0x2d5df8(0x12d)]??_0x4fe855[_0x2d5df8(0x12c)]??0x0),0x0,1.4),_0x786e57=this[_0x2d5df8(0x110)](_0x4fe855[_0x2d5df8(0x116)]??_0x4fe855[_0x2d5df8(0xbb)]??0x5dc,0x50,0x1f40),_0x129e9c=this[_0x2d5df8(0x79)](_0x786e57,0x50,0x1f40,0x0,0x1),_0xbeb9f8=this[_0x2d5df8(0x110)](_0x4fe855['midSideRatio']??_0x4fe855[_0x2d5df8(0x132)]??0x0,-0x1,0x1),_0x251f49=this[_0x2d5df8(0x110)](Math[_0x2d5df8(0x86)](_0x4fe855[_0x2d5df8(0x106)]??0x0,_0x4fe855[_0x2d5df8(0xbd)]??0x0,0.65*(_0x4fe855[_0x2d5df8(0xf8)]??0x0)),0x0,1.4),_0x311eff=this[_0x2d5df8(0x110)](Math[_0x2d5df8(0x86)](_0x4fe855[_0x2d5df8(0x7e)]??0x0,_0x4fe855[_0x2d5df8(0xb7)]?.[_0x2d5df8(0x126)]??0x0,_0x4fe855[_0x2d5df8(0x126)]??0x0),0x0,1.2),_0x1d627a=this[_0x2d5df8(0x110)](_0x4fe855[_0x2d5df8(0x97)]??0.6,0x0,0x1),_0x2e81e1=this['clamp'](_0x4fe855[_0x2d5df8(0x11a)]??_0x4fe855[_0x2d5df8(0xe1)]??0x0,0x0,0x1),_0x38eec0=this[_0x2d5df8(0x110)](_0x4fe855[_0x2d5df8(0xe2)]??(_0x4fe855[_0x2d5df8(0x113)]?0x1:0x0),0x0,0x1),_0x1ce557=this[_0x2d5df8(0x110)](_0x4fe855[_0x2d5df8(0x12c)]??0x0,-0x1,0x1);this[_0x2d5df8(0x73)][_0x2d5df8(0xaf)]=this[_0x2d5df8(0x70)](this[_0x2d5df8(0x73)]['energy'],_0x338252,_0x5979e6,0.08,0.35),this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)]=this[_0x2d5df8(0x70)](this['_state'][_0x2d5df8(0x8b)],_0x5bccd5,_0x5979e6,0.12,0.5),this[_0x2d5df8(0x73)][_0x2d5df8(0x116)]=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)][_0x2d5df8(0x116)],_0x129e9c,0.05),this['_state']['hueShift']=this['lerp'](this[_0x2d5df8(0x73)]['hueShift'],0.1*_0x129e9c+0.15*(_0x4fe855[_0x2d5df8(0x77)]??_0x4fe855[_0x2d5df8(0x11b)]??0x0),0.045),this['_state'][_0x2d5df8(0x119)]=this['attackRelease'](this[_0x2d5df8(0x73)]['drop'],_0x311eff,_0x5979e6,0.05,0.8),this[_0x2d5df8(0x73)][_0x2d5df8(0xaa)]=this[_0x2d5df8(0x70)](this[_0x2d5df8(0x73)][_0x2d5df8(0xaa)],_0xbeb9f8,_0x5979e6,0.22,0.7),this[_0x2d5df8(0x73)][_0x2d5df8(0x128)]=this['attackRelease'](this['_state'][_0x2d5df8(0x128)],_0x251f49,_0x5979e6,0.09,0.4);const _0x13599c=this['clamp'](0.35+0.4*_0x2e81e1+0.25*_0x129e9c,0.2,0x1);this[_0x2d5df8(0x73)]['slices']=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)][_0x2d5df8(0x87)],_0x13599c,0.08);const _0x26ced1=this[_0x2d5df8(0x110)](0.2+0.35*this[_0x2d5df8(0x73)][_0x2d5df8(0xaf)]+0.25*this[_0x2d5df8(0x73)]['flux'],0.12,0.9);this[_0x2d5df8(0x73)][_0x2d5df8(0xa9)]=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)][_0x2d5df8(0xa9)],_0x26ced1,0.05);const _0x29f243=this[_0x2d5df8(0x110)](1.18+0.3*this['_state'][_0x2d5df8(0xaf)]+0.35*this['_state'][_0x2d5df8(0x119)]+0.2*this[_0x2d5df8(0x73)][_0x2d5df8(0x128)]-0.35*Math['max'](0x0,-_0x1ce557),0x1,1.95);this[_0x2d5df8(0x73)][_0x2d5df8(0xe0)]=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)][_0x2d5df8(0xe0)],_0x29f243,0.1);const _0x4b6983=this[_0x2d5df8(0x110)](0.08+0.5*Math[_0x2d5df8(0x86)](0x0,-_0x1ce557),0.06,0.72);this[_0x2d5df8(0x73)][_0x2d5df8(0xcb)]=this['lerp'](this['_state']['feedbackFade'],_0x4b6983,0.12);const _0x2dfed0=this[_0x2d5df8(0x110)](0.7*_0x1d627a+0.25*_0x5bccd5,0x0,0x1);this['_state'][_0x2d5df8(0xc8)]=this[_0x2d5df8(0x7b)](this['_state'][_0x2d5df8(0xc8)],_0x2dfed0,0.08);const _0x495972=this['clamp'](0.35*this[_0x2d5df8(0x73)][_0x2d5df8(0xaf)]+0.4*this['_state']['drop']+0.25*this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)],0x0,0x1);this['_state'][_0x2d5df8(0x92)]=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)]['chromatic'],_0x495972,0.08);const _0x4f482b=this[_0x2d5df8(0x110)](0.8*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)]+0.3*this['_state']['energy']+Math[_0x2d5df8(0x86)](_0x4fe855['energyChangeIntensity']??0x0,0.6*this[_0x2d5df8(0x73)]['flux']),0x0,0x1);this['_state'][_0x2d5df8(0xc6)]=this[_0x2d5df8(0x70)](this[_0x2d5df8(0x73)]['bloom'],_0x4f482b,_0x5979e6,0.08,0.5);const _0x4d1fd6=this[_0x2d5df8(0x110)](0.85+0.05*this[_0x2d5df8(0x73)][_0x2d5df8(0xaf)]+0.08*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)]-0.35*this[_0x2d5df8(0x73)][_0x2d5df8(0xcb)],0.6,0.98);this[_0x2d5df8(0x73)][_0x2d5df8(0xd1)]=this[_0x2d5df8(0x7b)](this[_0x2d5df8(0x73)][_0x2d5df8(0xd1)],_0x4d1fd6,0.08);const _0x4839c9=0.9+0.8*this[_0x2d5df8(0x73)]['energy']+0.4*this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)]+0.35*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)];this[_0x2d5df8(0x73)][_0x2d5df8(0x12b)]=this[_0x2d5df8(0x7b)](this['_state'][_0x2d5df8(0x12b)],_0x4839c9,0.08),this['_state']['beat']=this[_0x2d5df8(0x70)](this[_0x2d5df8(0x73)][_0x2d5df8(0xec)],_0x38eec0,_0x5979e6,0.08,0.55),(_0x38eec0>0.72&&this[_0x2d5df8(0xd4)]<=0x0&&this['_state'][_0x2d5df8(0x119)]<0.85&&(this[_0x2d5df8(0x91)]=0x3e8*Math['random'](),this[_0x2d5df8(0xc5)]=0x3e8*Math[_0x2d5df8(0xf7)](),this[_0x2d5df8(0xd4)]=0.3),this[_0x2d5df8(0xd4)]=Math['max'](0x0,this['_beatCooldown']-_0x5979e6));const _0x2902db=this['clamp'](0.2+0.55*this['_state']['drop']+0.35*this[_0x2d5df8(0x73)]['beat']+0.25*this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)],0x0,0x1);this['_state'][_0x2d5df8(0xd2)]=this[_0x2d5df8(0x7b)](this['_state']['rayMix'],_0x2902db,0.08);const _0x1d2def=this[_0x2d5df8(0x110)](0.22+0.4*this['_state'][_0x2d5df8(0xaf)]+0.35*this['_state'][_0x2d5df8(0x8b)]+0.4*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)],0x0,0x1);this[_0x2d5df8(0x73)][_0x2d5df8(0x111)]=this[_0x2d5df8(0x70)](this[_0x2d5df8(0x73)]['rayDensity'],_0x1d2def,_0x5979e6,0.1,0.6),this[_0x2d5df8(0x73)][_0x2d5df8(0xe9)]+=_0x5979e6*(0.6+0.6*this[_0x2d5df8(0x73)]['energy']+0.7*this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)]+0.5*this['_state'][_0x2d5df8(0x119)]);const _0x3f7182=this[_0x2d5df8(0x110)](0.9+0.25*this[_0x2d5df8(0x73)][_0x2d5df8(0xaf)]+0.45*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)],0.8,1.4);this['_state'][_0x2d5df8(0xe7)]=this[_0x2d5df8(0x7b)](this['_state'][_0x2d5df8(0xe7)],_0x3f7182,0.08);const _0x35eafb=this[_0x2d5df8(0x110)](0.5*this['_state'][_0x2d5df8(0x128)]+0.55*this[_0x2d5df8(0x73)][_0x2d5df8(0x119)]+0.15*this['_state'][_0x2d5df8(0xaf)]+0.28*_0x1d627a,0x0,0x1);this[_0x2d5df8(0x73)]['dissolve']=this[_0x2d5df8(0x70)](this['_state'][_0x2d5df8(0x89)],_0x35eafb,_0x5979e6,0.08,0.55);const _0x4258c9=this[_0x2d5df8(0x110)](0.7*this['_state'][_0x2d5df8(0x128)]+0.4*this['_state'][_0x2d5df8(0x119)]+0.3*this['_state'][_0x2d5df8(0xec)]+0.25*this[_0x2d5df8(0x73)][_0x2d5df8(0x8b)],0x0,0x1);this[_0x2d5df8(0x73)]['contour']=this[_0x2d5df8(0x7b)](this['_state'][_0x2d5df8(0x117)],_0x4258c9,0.08);}[_0x4d55ba(0x129)](){const _0xdc36a0=_0x4d55ba,_0x3364c8=this['gl'];if(!_0x3364c8||!this[_0xdc36a0(0x10c)])return;if(!this[_0xdc36a0(0xba)]||!this[_0xdc36a0(0x114)]||!this[_0xdc36a0(0xcc)])try{this[_0xdc36a0(0xb1)](_0x3364c8),this[_0xdc36a0(0x78)](!0x0);}catch{return;}const _0x56fec8=_0xdc36a0(0x9f)!=typeof performance?0.001*performance['now']():Date[_0xdc36a0(0xd6)]()/0x3e8,_0x360784=this[_0xdc36a0(0x94)]?_0x56fec8-this[_0xdc36a0(0x94)]:0x1/0x3c,_0x3de22a=this[_0xdc36a0(0x110)](_0x360784,0x1/0xf0,0.2);this[_0xdc36a0(0x94)]=_0x56fec8,this[_0xdc36a0(0x104)]+=_0x3de22a*(this['_state'][_0xdc36a0(0x12b)]??0x1);const _0x5bdf4a=_0x3364c8['drawingBufferWidth']||this[_0xdc36a0(0x10c)]?.[_0xdc36a0(0xf9)]||0x1,_0x3e03c=_0x3364c8[_0xdc36a0(0x101)]||this[_0xdc36a0(0x10c)]?.[_0xdc36a0(0xff)]||0x1;if(_0x5bdf4a<=0x0||_0x3e03c<=0x0)return;const _0x24d2bc=this[_0xdc36a0(0xf4)]||0.8,_0x2df13b=Math['max'](0x8,Math['floor'](_0x5bdf4a*_0x24d2bc)),_0x313cf6=Math['max'](0x8,Math['floor'](_0x3e03c*_0x24d2bc));this['_ensureTargets'](_0x2df13b,_0x313cf6);const _0x2189c3=this[_0xdc36a0(0x136)],_0xb06f87=this[_0xdc36a0(0x124)];if(!_0x2189c3||!_0xb06f87)return;_0x3364c8[_0xdc36a0(0xf5)](0x0,0x0,_0x2df13b,_0x313cf6),_0x3364c8['bindFramebuffer'](_0x3364c8[_0xdc36a0(0x10b)],_0xb06f87['fbo']),_0x3364c8[_0xdc36a0(0xfe)](this[_0xdc36a0(0xba)]);const _0x222e22=this[_0xdc36a0(0x7d)][_0xdc36a0(0x8a)]??0x0;_0x3364c8[_0xdc36a0(0xc4)](_0x3364c8['ARRAY_BUFFER'],this[_0xdc36a0(0xcc)]),_0x3364c8[_0xdc36a0(0x9c)](_0x222e22),_0x3364c8[_0xdc36a0(0xb2)](_0x222e22,0x2,_0x3364c8[_0xdc36a0(0xa7)],!0x1,0x0,0x0);const _0x3bd3a3=this[_0xdc36a0(0x112)][_0xdc36a0(0x12f)];_0x3bd3a3?.[_0xdc36a0(0x133)]&&_0x3364c8['uniform2f'](_0x3bd3a3['uResolution'],_0x2df13b,_0x313cf6),_0x3bd3a3?.[_0xdc36a0(0x122)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x122)],this['_time']),_0x3bd3a3?.['uEnergy']&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xf2)],this[_0xdc36a0(0x73)][_0xdc36a0(0xaf)]),_0x3bd3a3?.[_0xdc36a0(0x99)]&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0x99)],this['_state'][_0xdc36a0(0x8b)]),_0x3bd3a3?.[_0xdc36a0(0x10a)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x10a)],this[_0xdc36a0(0x73)][_0xdc36a0(0x116)]),_0x3bd3a3?.['uHueShift']&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0x138)],this[_0xdc36a0(0x73)]['hueShift']),_0x3bd3a3?.[_0xdc36a0(0xc9)]&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0xc9)],this[_0xdc36a0(0x73)][_0xdc36a0(0x119)]),_0x3bd3a3?.[_0xdc36a0(0x9a)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x9a)],this[_0xdc36a0(0x73)][_0xdc36a0(0xd1)]),_0x3bd3a3?.[_0xdc36a0(0x6f)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x6f)],this[_0xdc36a0(0x73)]['slices']),_0x3bd3a3?.[_0xdc36a0(0xd5)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xd5)],this['_state'][_0xdc36a0(0xaa)]),_0x3bd3a3?.[_0xdc36a0(0x130)]&&_0x3364c8['uniform1f'](_0x3bd3a3['uFeedbackFade'],this[_0xdc36a0(0x73)]['feedbackFade']),_0x3bd3a3?.[_0xdc36a0(0xc7)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xc7)],this[_0xdc36a0(0x73)][_0xdc36a0(0xa9)]),_0x3bd3a3?.[_0xdc36a0(0xdc)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xdc)],this[_0xdc36a0(0x73)]['grain']),_0x3bd3a3?.[_0xdc36a0(0xb0)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xb0)],this['_state'][_0xdc36a0(0xe0)]),_0x3bd3a3?.[_0xdc36a0(0xfb)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xfb)],this['_grainSeed']),_0x3bd3a3?.['uRayMix']&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0x11c)],this['_state'][_0xdc36a0(0xd2)]),_0x3bd3a3?.[_0xdc36a0(0x131)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x131)],this[_0xdc36a0(0x73)][_0xdc36a0(0x111)]),_0x3bd3a3?.[_0xdc36a0(0x7a)]&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0x7a)],this[_0xdc36a0(0x73)]['centerFocus']),_0x3bd3a3?.[_0xdc36a0(0x8e)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0x8e)],this['_state'][_0xdc36a0(0xe9)]),_0x3bd3a3?.[_0xdc36a0(0x125)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3['uPatternSeed'],this[_0xdc36a0(0xc5)]),_0x3bd3a3?.[_0xdc36a0(0xde)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xde)],this[_0xdc36a0(0x73)]['beat']),_0x3bd3a3?.[_0xdc36a0(0x8f)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3['uBass'],this[_0xdc36a0(0x73)]['bass']),_0x3bd3a3?.[_0xdc36a0(0xc3)]&&_0x3364c8[_0xdc36a0(0x134)](_0x3bd3a3[_0xdc36a0(0xc3)],this[_0xdc36a0(0x73)][_0xdc36a0(0x89)]),_0x3bd3a3?.[_0xdc36a0(0xd7)]&&_0x3364c8['uniform1f'](_0x3bd3a3[_0xdc36a0(0xd7)],this['_state'][_0xdc36a0(0x117)]),_0x3bd3a3?.[_0xdc36a0(0xa2)]&&(_0x3364c8['activeTexture'](_0x3364c8['TEXTURE0']),_0x3364c8['bindTexture'](_0x3364c8['TEXTURE_2D'],_0x2189c3[_0xdc36a0(0x90)]),_0x3364c8[_0xdc36a0(0xfa)](_0x3bd3a3['uPrev'],0x0)),_0x3364c8[_0xdc36a0(0x118)](_0x3364c8[_0xdc36a0(0xd8)],0x0,0x3),_0x3364c8['bindFramebuffer'](_0x3364c8[_0xdc36a0(0x10b)],null),_0x3364c8[_0xdc36a0(0xf5)](0x0,0x0,_0x5bdf4a,_0x3e03c),_0x3364c8[_0xdc36a0(0xfe)](this[_0xdc36a0(0x114)]);const _0x65c957=this[_0xdc36a0(0x112)][_0xdc36a0(0x127)];_0x65c957?.[_0xdc36a0(0x133)]&&_0x3364c8[_0xdc36a0(0x98)](_0x65c957[_0xdc36a0(0x133)],_0x5bdf4a,_0x3e03c),_0x65c957?.['uTime']&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0x122)],this[_0xdc36a0(0x104)]),_0x65c957?.[_0xdc36a0(0x7f)]&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0x7f)],this[_0xdc36a0(0x73)][_0xdc36a0(0xc6)]),_0x65c957?.[_0xdc36a0(0xdc)]&&_0x3364c8['uniform1f'](_0x65c957[_0xdc36a0(0xdc)],this[_0xdc36a0(0x73)][_0xdc36a0(0xc8)]);const _0x2c6ddb=this[_0xdc36a0(0x110)](0.6*this['_state']['centroid']+0.6*this[_0xdc36a0(0x73)][_0xdc36a0(0x107)],0x0,0x1);_0x65c957?.['uHue']&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0x102)],_0x2c6ddb),_0x65c957?.['uEnergy']&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0xf2)],this[_0xdc36a0(0x73)][_0xdc36a0(0xaf)]),_0x65c957?.[_0xdc36a0(0xc9)]&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0xc9)],this[_0xdc36a0(0x73)][_0xdc36a0(0x119)]),_0x65c957?.[_0xdc36a0(0xa0)]&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0xa0)],this['_state'][_0xdc36a0(0x92)]),_0x65c957?.['uSeed']&&_0x3364c8[_0xdc36a0(0x134)](_0x65c957[_0xdc36a0(0xfb)],this['_grainSeed']+7.31),_0x65c957?.[_0xdc36a0(0xa3)]&&(_0x3364c8[_0xdc36a0(0xe6)](_0x3364c8[_0xdc36a0(0x96)]),_0x3364c8[_0xdc36a0(0xa8)](_0x3364c8[_0xdc36a0(0xf1)],_0xb06f87[_0xdc36a0(0x90)]),_0x3364c8[_0xdc36a0(0xfa)](_0x65c957[_0xdc36a0(0xa3)],0x0)),_0x3364c8[_0xdc36a0(0x118)](_0x3364c8[_0xdc36a0(0xd8)],0x0,0x3),_0x3364c8[_0xdc36a0(0xeb)](_0x222e22),this[_0xdc36a0(0xb3)]();}[_0x4d55ba(0x84)](){return{'energy':0x0,'flux':0x0,'centroid':0.4,'hueShift':0x0,'drop':0x0,'stereoLean':0x0,'feedbackFade':0.12,'feedbackStrength':0.9,'grain':0.3,'slices':0.55,'swirl':0.24,'zoom':0x1,'bloom':0.2,'chromatic':0.2,'timeScale':0x1,'rayMix':0.25,'rayDensity':0.3,'centerFocus':1.05,'rayPhase':0x0,'beat':0x0,'bass':0x0,'dissolve':0x0,'contour':0x0};}['_computeTargetScale'](){const _0x113c95=_0x4d55ba,_0x4f26ea=this[_0x113c95(0xb8)](),_0x1f162e=_0x4f26ea[_0x113c95(0xa4)]<0x384?0.7:0.86,_0x20c301=this[_0x113c95(0x110)](0.06*(_0x4f26ea[_0x113c95(0xee)]??0x1),-0.06,0.1);return this['clamp'](_0x1f162e+_0x20c301,0.65,0x1);}[_0x4d55ba(0xb1)](_0x3370f7){const _0x163f3e=_0x4d55ba;this[_0x163f3e(0x12e)](),this[_0x163f3e(0xba)]=this['createProgram'](i,_0x163f3e(0xb9),{'aPosition':0x0}),this['_presentProgram']=this[_0x163f3e(0xcf)](i,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUV;\x0a\x0auniform\x20sampler2D\x20uScene;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uBloom;\x0auniform\x20float\x20uGrain;\x0auniform\x20float\x20uHue;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uChromatic;\x0auniform\x20float\x20uSeed;\x0a\x0afloat\x20hash12(vec2\x20p)\x20{\x0a\x20\x20float\x20h\x20=\x20dot(p,\x20vec2(127.1,\x20311.7));\x0a\x20\x20return\x20fract(sin(h)\x20*\x2043758.5453123);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20vec2\x20centered\x20=\x20uv\x20-\x200.5;\x0a\x20\x20float\x20aspect\x20=\x20uResolution.x\x20/\x20max(1.0,\x20uResolution.y);\x0a\x20\x20centered.x\x20*=\x20aspect;\x0a\x0a\x20\x20float\x20chroma\x20=\x20(0.0012\x20+\x20uChromatic\x20*\x200.004\x20+\x20uBloom\x20*\x200.0025);\x0a\x20\x20vec2\x20offset\x20=\x20centered\x20*\x20chroma;\x0a\x0a\x20\x20vec3\x20mainSample\x20=\x20texture2D(uScene,\x20uv).rgb;\x0a\x20\x20vec3\x20col;\x0a\x20\x20col.r\x20=\x20texture2D(uScene,\x20uv\x20+\x20offset).r;\x0a\x20\x20col.g\x20=\x20mainSample.g;\x0a\x20\x20col.b\x20=\x20texture2D(uScene,\x20uv\x20-\x20offset).b;\x0a\x0a\x20\x20float\x20vignette\x20=\x20smoothstep(0.95,\x200.35,\x20length(centered));\x0a\x20\x20float\x20vignetteStrength\x20=\x200.18\x20+\x20uBloom\x20*\x200.2\x20+\x20uEnergy\x20*\x200.1;\x0a\x20\x20col\x20*=\x20(1.0\x20-\x20vignette\x20*\x20vignetteStrength);\x0a\x0a\x20\x20vec3\x20glow\x20=\x20pow(mainSample,\x20vec3(1.2))\x20*\x20(0.35\x20+\x20uBloom\x20*\x200.6\x20+\x20uDrop\x20*\x200.35);\x0a\x20\x20col\x20+=\x20glow\x20*\x200.35;\x0a\x0a\x20\x20float\x20grain\x20=\x20(hash12(uv\x20*\x20(uResolution.x\x20+\x20uResolution.y)\x20+\x20uSeed\x20*\x201.7\x20+\x20uTime\x20*\x2060.0)\x20-\x200.5);\x0a\x20\x20col\x20+=\x20grain\x20*\x200.09\x20*\x20uGrain;\x0a\x0a\x20\x20col\x20=\x20mix(col,\x20pow(max(col,\x20vec3(0.0)),\x20vec3(0.95\x20+\x20uHue\x20*\x200.1)),\x200.28);\x0a\x20\x20gl_FragColor\x20=\x20vec4(clamp(col,\x200.0,\x201.4),\x201.0);\x0a}\x0a',{'aPosition':0x0}),this['_attributes'][_0x163f3e(0x8a)]=_0x3370f7[_0x163f3e(0x76)](this[_0x163f3e(0xba)],_0x163f3e(0x8a)),(this['_attributes'][_0x163f3e(0x8a)]??-0x1)<0x0&&(this['_attributes'][_0x163f3e(0x8a)]=0x0),this[_0x163f3e(0x112)][_0x163f3e(0x12f)]={'uResolution':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0x133)),'uPrev':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],_0x163f3e(0xa2)),'uTime':_0x3370f7['getUniformLocation'](this[_0x163f3e(0xba)],_0x163f3e(0x122)),'uEnergy':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0xf2)),'uFlux':_0x3370f7['getUniformLocation'](this[_0x163f3e(0xba)],'uFlux'),'uCentroid':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0x10a)),'uHueShift':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0x138)),'uDrop':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],'uDrop'),'uFeedbackMix':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],'uFeedbackMix'),'uSlices':_0x3370f7['getUniformLocation'](this[_0x163f3e(0xba)],_0x163f3e(0x6f)),'uLean':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0xd5)),'uFeedbackFade':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],'uFeedbackFade'),'uSwirl':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],'uSwirl'),'uGrain':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0xdc)),'uZoom':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],'uZoom'),'uSeed':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0xfb)),'uRayMix':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],_0x163f3e(0x11c)),'uRayDensity':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],'uRayDensity'),'uCenterFocus':_0x3370f7['getUniformLocation'](this['_feedbackProgram'],_0x163f3e(0x7a)),'uRayPhase':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],'uRayPhase'),'uPatternSeed':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],'uPatternSeed'),'uBeat':_0x3370f7['getUniformLocation'](this[_0x163f3e(0xba)],'uBeat'),'uBass':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],_0x163f3e(0x8f)),'uDissolve':_0x3370f7[_0x163f3e(0x7c)](this['_feedbackProgram'],_0x163f3e(0xc3)),'uContour':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0xba)],'uContour')},this['_uniforms'][_0x163f3e(0x127)]={'uResolution':_0x3370f7[_0x163f3e(0x7c)](this['_presentProgram'],'uResolution'),'uScene':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0x114)],_0x163f3e(0xa3)),'uTime':_0x3370f7['getUniformLocation'](this['_presentProgram'],_0x163f3e(0x122)),'uBloom':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0x114)],_0x163f3e(0x7f)),'uGrain':_0x3370f7['getUniformLocation'](this['_presentProgram'],_0x163f3e(0xdc)),'uHue':_0x3370f7[_0x163f3e(0x7c)](this['_presentProgram'],_0x163f3e(0x102)),'uEnergy':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0x114)],'uEnergy'),'uDrop':_0x3370f7[_0x163f3e(0x7c)](this['_presentProgram'],_0x163f3e(0xc9)),'uChromatic':_0x3370f7[_0x163f3e(0x7c)](this[_0x163f3e(0x114)],'uChromatic'),'uSeed':_0x3370f7['getUniformLocation'](this[_0x163f3e(0x114)],_0x163f3e(0xfb))};const _0x872605=_0x3370f7[_0x163f3e(0x74)]();if(!_0x872605)throw new Error(_0x163f3e(0xd9));this[_0x163f3e(0xab)](_0x872605,(_0x16a3bb,_0xdda3ca)=>_0x16a3bb[_0x163f3e(0x11e)](_0xdda3ca)),_0x3370f7['bindBuffer'](_0x3370f7['ARRAY_BUFFER'],_0x872605),_0x3370f7[_0x163f3e(0x137)](_0x3370f7['ARRAY_BUFFER'],new Float32Array([-0x1,-0x1,0x3,-0x1,-0x1,0x3]),_0x3370f7['STATIC_DRAW']),_0x3370f7[_0x163f3e(0xc4)](_0x3370f7[_0x163f3e(0x83)],null),this[_0x163f3e(0xcc)]=_0x872605;}[_0x4d55ba(0x108)](_0x19d344,_0x2aa12b){const _0xc12018=_0x4d55ba;_0x19d344===this[_0xc12018(0xfd)]&&_0x2aa12b===this[_0xc12018(0xdb)]&&this[_0xc12018(0x136)]&&this[_0xc12018(0x124)]||(this[_0xc12018(0xfd)]=_0x19d344,this[_0xc12018(0xdb)]=_0x2aa12b,this['_resizeTargets'](!0x0),this[_0xc12018(0x12a)]());}[_0x4d55ba(0x78)](_0x244a8c=!0x1){const _0x1a8f70=_0x4d55ba,_0x536bd8=this['gl'];if(!_0x536bd8)return;const _0x5b4652=Math[_0x1a8f70(0x86)](0x8,Math[_0x1a8f70(0xb5)](this[_0x1a8f70(0xfd)]||_0x536bd8[_0x1a8f70(0x75)]||0x1)),_0x189f8f=Math[_0x1a8f70(0x86)](0x8,Math[_0x1a8f70(0xb5)](this[_0x1a8f70(0xdb)]||_0x536bd8['drawingBufferHeight']||0x1));!_0x244a8c&&this[_0x1a8f70(0x136)]&&this[_0x1a8f70(0x124)]||(this[_0x1a8f70(0x100)](this[_0x1a8f70(0x136)]),this[_0x1a8f70(0x100)](this[_0x1a8f70(0x124)]),this[_0x1a8f70(0x136)]=this[_0x1a8f70(0x105)](_0x536bd8,_0x5b4652,_0x189f8f),this['_writeTarget']=this['_createTarget'](_0x536bd8,_0x5b4652,_0x189f8f));}['_updateResolutionUniforms'](){const _0x584a62=_0x4d55ba,_0x4f4ece=this['gl'];_0x4f4ece&&(this[_0x584a62(0x112)]['feedback']?.[_0x584a62(0x133)]&&this['_targetWidth']&&this['_targetHeight']&&(_0x4f4ece[_0x584a62(0xfe)](this[_0x584a62(0xba)]),_0x4f4ece['uniform2f'](this[_0x584a62(0x112)][_0x584a62(0x12f)][_0x584a62(0x133)],this[_0x584a62(0xfd)],this[_0x584a62(0xdb)])),this['_uniforms'][_0x584a62(0x127)]?.[_0x584a62(0x133)]&&this[_0x584a62(0xf9)]&&this[_0x584a62(0xff)]&&(_0x4f4ece['useProgram'](this[_0x584a62(0x114)]),_0x4f4ece[_0x584a62(0x98)](this['_uniforms'][_0x584a62(0x127)][_0x584a62(0x133)],this[_0x584a62(0xf9)],this[_0x584a62(0xff)])),_0x4f4ece['useProgram'](null));}[_0x4d55ba(0x105)](_0x130420,_0x25c1b7,_0x1598ff){const _0x490ce9=_0x4d55ba,_0x574a55=_0x130420[_0x490ce9(0x123)](),_0x4e7e3f=_0x130420['createFramebuffer']();if(!_0x574a55||!_0x4e7e3f)throw new Error(_0x490ce9(0x10e));this[_0x490ce9(0xab)](_0x574a55,(_0x364029,_0x2533b3)=>_0x364029[_0x490ce9(0x11f)](_0x2533b3)),this[_0x490ce9(0xab)](_0x4e7e3f,(_0x5b37c9,_0x232382)=>_0x5b37c9[_0x490ce9(0x139)](_0x232382)),_0x130420[_0x490ce9(0xa8)](_0x130420[_0x490ce9(0xf1)],_0x574a55),_0x130420[_0x490ce9(0xbc)](_0x130420[_0x490ce9(0xf1)],0x0,_0x130420[_0x490ce9(0xc2)],_0x25c1b7,_0x1598ff,0x0,_0x130420[_0x490ce9(0xc2)],_0x130420[_0x490ce9(0xce)],null),_0x130420['texParameteri'](_0x130420['TEXTURE_2D'],_0x130420[_0x490ce9(0xdf)],_0x130420[_0x490ce9(0x88)]),_0x130420[_0x490ce9(0x10f)](_0x130420['TEXTURE_2D'],_0x130420[_0x490ce9(0x115)],_0x130420[_0x490ce9(0x88)]),_0x130420['texParameteri'](_0x130420[_0x490ce9(0xf1)],_0x130420['TEXTURE_WRAP_S'],_0x130420[_0x490ce9(0xc0)]),_0x130420[_0x490ce9(0x10f)](_0x130420[_0x490ce9(0xf1)],_0x130420[_0x490ce9(0x120)],_0x130420['CLAMP_TO_EDGE']),_0x130420[_0x490ce9(0xa1)](_0x130420[_0x490ce9(0x10b)],_0x4e7e3f),_0x130420[_0x490ce9(0x9e)](_0x130420[_0x490ce9(0x10b)],_0x130420[_0x490ce9(0xf0)],_0x130420['TEXTURE_2D'],_0x574a55,0x0);if(_0x130420[_0x490ce9(0xda)](_0x130420[_0x490ce9(0x10b)])!==_0x130420[_0x490ce9(0xd3)])throw _0x130420['bindFramebuffer'](_0x130420[_0x490ce9(0x10b)],null),_0x130420['bindTexture'](_0x130420[_0x490ce9(0xf1)],null),new Error(_0x490ce9(0xac));return _0x130420[_0x490ce9(0xa1)](_0x130420[_0x490ce9(0x10b)],null),_0x130420['bindTexture'](_0x130420['TEXTURE_2D'],null),{'texture':_0x574a55,'fbo':_0x4e7e3f,'width':_0x25c1b7,'height':_0x1598ff};}[_0x4d55ba(0x100)](_0xb9c798){const _0x2b6af5=_0x4d55ba;_0xb9c798&&(this[_0x2b6af5(0xa6)](_0xb9c798['texture']),this['releaseGLResource'](_0xb9c798[_0x2b6af5(0x109)]));}[_0x4d55ba(0xb3)](){const _0x484391=_0x4d55ba,_0x3644ef=this[_0x484391(0x136)];this[_0x484391(0x136)]=this['_writeTarget'],this['_writeTarget']=_0x3644ef;}}_0x50fb49(_0x4d55ba(0x135),s,{'meta':s[_0x4d55ba(0x82)]});
