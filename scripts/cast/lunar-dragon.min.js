function _0x2d6c(){const _0x261366=['stereoBalance','color','670667YZWXsD','min','launchLoudness','needsUpdate','_spawnFirework','1440MKBYYr','_time','_redColor','fov','init','destroy','reverb','loudnessIntegratedDb','_seedLaunchTrail','type','energyChangeIntensity','_tempVec','random','set','_previewMode','A\x20lunar\x20dragon\x20ascends\x20in\x20ember\x20trails\x20and\x20radiant\x20bursts,\x20with\x20audio-guided\x20firework\x20arcs\x20and\x20shimmering\x20crackle\x20glow.','brillianceEnergy','setUsage','attackRelease','getPoint','getAttribute','6779988kuUdDX','phase','dropStart','energy','5RIUGTG','accentColor','_emitBurst','_updateParticles','_beatCooldown','clone','1037790MusXwR','_sizes','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20vec3\x20customColor;\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vColor\x20=\x20customColor;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(300.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','_estimateExplosionRadius','updateProjectionMatrix','height','loudnessShortDb','_spawnTimer','length','progress','launch','lunar-dragon','_particles','colorG','sin','_ensureParticleCapacity','vvavy','_camera','_emitTrail','TECH','_renderer','9999052amNLCe','CINEMATIC','pow','32128votaEc','_points','position','burstScale','_emitCrackle','size','ceil','_particleCapacity','count','TRIPPY','loudness','accent','melody','end','subBassEnergy','dbTo01','max','setSize','resetState','setClearColor','_goldColor','_clampExplosionTarget','crackleSpawned','reverbTail','canvas','curve','drop','velZ','velY','posX','rms','192otrjUq','beat','audioTriggers','onRender','bass','isBeat','13549590aZXhCU','MID','melodyChange','dpr','_positions','stereo','posZ','frustumCulled','width','colorB','_randomUnitVector','glow','velX','colorR','customColor','cues','VIBE','posY','ENERGY','_material','overallEnergy','life','maxLife','clamp','Lunar\x20Dragon\x20Fireworks','floor','_spawnParticle','_setupThree','meta','_geometry','_crackleColor','dispose','normalize','setPixelRatio','spectralFlux','crackleDelay','_trailVec','38214fdZEfk','accentPulse','_scene','bassEnergy','flux','smooth','high-performance','speed','_state','onResize','setDrawRange','_gravity','_colors','setAttribute','setHSL','#030106','_fireworks','lerp','DYNAMIC','_updateFireworks','treble','_attributes','11XPqQik'];_0x2d6c=function(){return _0x261366;};return _0x2d6c();}const _0x102cb3=_0x84cc;(function(_0x45783d,_0x37fe95){const _0x5ce606=_0x84cc,_0x4c2012=_0x45783d();while(!![]){try{const _0xae5725=parseInt(_0x5ce606(0x121))/0x1+parseInt(_0x5ce606(0xbe))/0x2*(parseInt(_0x5ce606(0xdd))/0x3)+parseInt(_0x5ce606(0x9c))/0x4*(-parseInt(_0x5ce606(0xa0))/0x5)+parseInt(_0x5ce606(0xa6))/0x6+-parseInt(_0x5ce606(0xbb))/0x7+-parseInt(_0x5ce606(0x126))/0x8*(-parseInt(_0x5ce606(0x108))/0x9)+parseInt(_0x5ce606(0xe3))/0xa*(parseInt(_0x5ce606(0x11e))/0xb);if(_0xae5725===_0x37fe95)break;else _0x4c2012['push'](_0x4c2012['shift']());}catch(_0x35ace7){_0x4c2012['push'](_0x4c2012['shift']());}}}(_0x2d6c,0xd3cce));import{b as _0x23c777,C as _0x59c696,W as _0x3408f8,S as _0x34fdaf,e as _0x274f5a,q as _0x121e75,r as _0x141454,s as _0x27fefe,a as _0x250e37,o as _0x4d300c,t as _0x5629f0,u as _0x33bbf0}from'./three.module.min.js';import{V as _0x1766cc,r as _0x59121b,W as _0x521c0c}from'./receiver.min.js';function _0x84cc(_0x60e8c5,_0x32fefb){const _0x2d6cf9=_0x2d6c();return _0x84cc=function(_0x84cc4e,_0x4ceb49){_0x84cc4e=_0x84cc4e-0x8d;let _0x549f6a=_0x2d6cf9[_0x84cc4e];return _0x549f6a;},_0x84cc(_0x60e8c5,_0x32fefb);}const y={'savedAt':0x19c6e6c9673,'name':_0x102cb3(0xfb),'createdBy':_0x102cb3(0xb6),'description':_0x102cb3(0x96),'tags':[_0x1766cc[_0x102cb3(0xb9)]['HD'],_0x1766cc[_0x102cb3(0xf3)][_0x102cb3(0xbc)],_0x1766cc[_0x102cb3(0xf3)][_0x102cb3(0xc7)],_0x1766cc[_0x102cb3(0xf5)][_0x102cb3(0xe4)],_0x1766cc['TEMPO'][_0x102cb3(0x11a)]]},u=0x0,g=0x1,w=0x2;_0x59121b(_0x102cb3(0xb1),class extends _0x521c0c{static [_0x102cb3(0xff)]=y;constructor(_0x35f1f2){const _0x588198=_0x102cb3;super({..._0x35f1f2,'config':{'backgroundColor':_0x588198(0x117),'autoClear':!0x0,..._0x35f1f2?.['config']??{}}}),this[_0x588198(0xba)]=null,this[_0x588198(0x10a)]=null,this[_0x588198(0xb7)]=null,this[_0x588198(0x100)]=null,this['_material']=null,this['_points']=null,this[_0x588198(0x11d)]=null,this[_0x588198(0xc5)]=0xc80,this[_0x588198(0xe7)]=new Float32Array(0x3*this[_0x588198(0xc5)]),this['_colors']=new Float32Array(0x3*this[_0x588198(0xc5)]),this[_0x588198(0xa7)]=new Float32Array(this['_particleCapacity']),this['_particles']={'count':0x0,'posX':new Float32Array(this[_0x588198(0xc5)]),'posY':new Float32Array(this[_0x588198(0xc5)]),'posZ':new Float32Array(this[_0x588198(0xc5)]),'velX':new Float32Array(this[_0x588198(0xc5)]),'velY':new Float32Array(this['_particleCapacity']),'velZ':new Float32Array(this[_0x588198(0xc5)]),'colorR':new Float32Array(this[_0x588198(0xc5)]),'colorG':new Float32Array(this[_0x588198(0xc5)]),'colorB':new Float32Array(this[_0x588198(0xc5)]),'size':new Float32Array(this[_0x588198(0xc5)]),'life':new Float32Array(this[_0x588198(0xc5)]),'maxLife':new Float32Array(this[_0x588198(0xc5)]),'type':new Uint8Array(this[_0x588198(0xc5)])},this[_0x588198(0x118)]=[],this[_0x588198(0x127)]=0x0,this['_spawnTimer']=0x0,this['_beatCooldown']=0x0,this['_state']={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2},this[_0x588198(0x92)]=new _0x23c777(),this[_0x588198(0x107)]=new _0x23c777(),this[_0x588198(0x113)]=new _0x23c777(0x0,-0.004,0x0),this[_0x588198(0x101)]=new _0x59c696(0xffffff),this[_0x588198(0xd2)]=new _0x59c696()[_0x588198(0x116)](0.12,0x1,0.5),this['_redColor']=new _0x59c696()[_0x588198(0x116)](0x0,0x1,0.5);}['reset'](){const _0x45efa0=_0x102cb3;this[_0x45efa0(0x118)]=[],this[_0x45efa0(0x127)]=0x0,this[_0x45efa0(0xad)]=0x0,this[_0x45efa0(0xa4)]=0x0,this[_0x45efa0(0xb2)][_0x45efa0(0xc6)]=0x0,this[_0x45efa0(0x110)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2};}[_0x102cb3(0x12a)](){const _0x58b31=_0x102cb3;this['gl']&&(this['flushTrackedGLResources']?.(),this['reset'](),this[_0x58b31(0xfe)]());}[_0x102cb3(0x111)](){const _0x3d07e3=_0x102cb3;super['onResize']?.(),this[_0x3d07e3(0xba)]&&(this[_0x3d07e3(0xba)][_0x3d07e3(0x104)](Math[_0x3d07e3(0x122)](this['dpr']??0x1,0x2)),this[_0x3d07e3(0xba)][_0x3d07e3(0xcf)](this[_0x3d07e3(0xeb)],this[_0x3d07e3(0xab)],!0x1)),this['_camera']&&(this[_0x3d07e3(0xb7)]['aspect']=this['width']/Math[_0x3d07e3(0xce)](0x1,this[_0x3d07e3(0xab)]),this[_0x3d07e3(0xb7)][_0x3d07e3(0xaa)]());}[_0x102cb3(0xfe)](){const _0x239292=_0x102cb3;this[_0x239292(0xba)]=new _0x3408f8({'canvas':this[_0x239292(0xd6)],'context':this['gl'],'antialias':!0x0,'alpha':!0x0,'powerPreference':_0x239292(0x10e)}),this[_0x239292(0xba)]['autoClear']=!0x0,this[_0x239292(0xba)][_0x239292(0x104)](Math[_0x239292(0x122)](this[_0x239292(0xe6)]??0x1,0x2)),this['_renderer']['setSize'](this[_0x239292(0xeb)],this[_0x239292(0xab)],!0x1),this[_0x239292(0xba)][_0x239292(0xd1)](new _0x59c696(0x30106),0x1),this[_0x239292(0x10a)]=new _0x34fdaf(),this[_0x239292(0xb7)]=new _0x274f5a(0x41,this[_0x239292(0xeb)]/Math[_0x239292(0xce)](0x1,this[_0x239292(0xab)]),0.1,0x3e8),this[_0x239292(0xb7)][_0x239292(0xc0)]['z']=0x64,this[_0x239292(0x100)]=new _0x121e75(),this[_0x239292(0x100)]['setAttribute'](_0x239292(0xc0),new _0x141454(this[_0x239292(0xe7)],0x3)[_0x239292(0x98)](_0x27fefe)),this['_geometry'][_0x239292(0x115)](_0x239292(0xf1),new _0x141454(this[_0x239292(0x114)],0x3)[_0x239292(0x98)](_0x27fefe)),this['_geometry']['setAttribute'](_0x239292(0xc3),new _0x141454(this['_sizes'],0x1)['setUsage'](_0x27fefe)),this['_geometry'][_0x239292(0x112)](0x0,0x0),this[_0x239292(0xf6)]=new _0x250e37({'vertexShader':_0x239292(0xa8),'fragmentShader':'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20float\x20strength\x20=\x200.05\x20/\x20d;\x0a\x20\x20strength\x20=\x20pow(strength,\x202.0);\x0a\x20\x20float\x20alpha\x20=\x20smoothstep(0.5,\x200.1,\x20d);\x0a\x20\x20vec3\x20finalColor\x20=\x20mix(vColor,\x20vec3(1.0),\x20pow(strength,\x204.0)\x20*\x200.5);\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20alpha);\x0a}\x0a','transparent':!0x0,'blending':_0x4d300c,'depthWrite':!0x1}),this[_0x239292(0xbf)]=new _0x5629f0(this['_geometry'],this[_0x239292(0xf6)]),this[_0x239292(0xbf)][_0x239292(0xea)]=!0x1,this[_0x239292(0x10a)]['add'](this[_0x239292(0xbf)]),this[_0x239292(0x11d)]={'position':this[_0x239292(0x100)][_0x239292(0x9b)](_0x239292(0xc0)),'color':this['_geometry'][_0x239292(0x9b)](_0x239292(0xf1)),'size':this[_0x239292(0x100)][_0x239292(0x9b)](_0x239292(0xc3))};}['onUpdate'](_0x5593b1){const _0x311996=_0x102cb3;if(!_0x5593b1)return;const _0x491a57=this['clamp'](_0x5593b1['dt']??0x1/0x3c,0x1/0xf0,0.2);this[_0x311996(0x127)]+=_0x491a57;const _0xace497=_0x5593b1[_0x311996(0xf2)]??this[_0x311996(0xdf)]??{},_0x9df960=this['clamp'](_0x5593b1[_0x311996(0xf7)]??_0x5593b1[_0x311996(0x9f)]??_0x5593b1[_0x311996(0xdc)]??0x0,0x0,1.4),_0x1fd65d=this['clamp'](0.6*(_0x5593b1[_0x311996(0xcc)]??0x0)+0.8*(_0x5593b1[_0x311996(0x10b)]??0x0),0x0,1.4),_0x4bad7c=this[_0x311996(0xfa)](0.7*(_0x5593b1['trebleEnergy']??0x0)+0.6*(_0x5593b1[_0x311996(0x97)]??0x0),0x0,1.4),_0x43f9fb=this[_0x311996(0xfa)](1.1*(_0x5593b1[_0x311996(0x105)]??0x0)+0.5*(_0x5593b1[_0x311996(0x91)]??0x0),0x0,1.4),_0x3c12f9=this[_0x311996(0xcd)](_0x5593b1[_0x311996(0xac)]??_0x5593b1[_0x311996(0x8e)]??-0x30,-0x3c,0x0),_0x41cf3c=this['clamp'](_0x5593b1[_0x311996(0x11f)]??0x0,-0x1,0x1),_0x3ff4f7=this['clamp'](_0x5593b1[_0x311996(0xd5)]??0x0,0x0,0x1),_0xa912aa=this[_0x311996(0xfa)](_0x5593b1['beatPulse']??(_0x5593b1[_0x311996(0xe2)]?0x1:0x0),0x0,1.2),_0x5140c9=this[_0x311996(0xfa)](_0xace497['dropIntensity']??_0x5593b1['dropIntensity']??_0x5593b1['dropPulse']??0x0,0x0,1.4),_0x15efc0=_0xace497[_0x311996(0x109)]?0x1:0x0,_0x47bbb4=_0xace497[_0x311996(0xe5)]?0x1:0x0;this[_0x311996(0x110)]['energy']=this['attackRelease'](this[_0x311996(0x110)][_0x311996(0x9f)],_0x9df960,_0x491a57,0.08,0.4),this['_state'][_0x311996(0xe1)]=this[_0x311996(0x99)](this[_0x311996(0x110)][_0x311996(0xe1)],_0x1fd65d,_0x491a57,0.09,0.4),this[_0x311996(0x110)][_0x311996(0x11c)]=this[_0x311996(0x99)](this['_state'][_0x311996(0x11c)],_0x4bad7c,_0x491a57,0.08,0.45),this[_0x311996(0x110)][_0x311996(0x10c)]=this[_0x311996(0x99)](this[_0x311996(0x110)]['flux'],_0x43f9fb,_0x491a57,0.1,0.5),this[_0x311996(0x110)][_0x311996(0xc8)]=this[_0x311996(0x99)](this[_0x311996(0x110)][_0x311996(0xc8)],_0x3c12f9,_0x491a57,0.08,0.35),this[_0x311996(0x110)][_0x311996(0xe8)]=this[_0x311996(0x10d)](this[_0x311996(0x110)]['stereo'],_0x41cf3c,0.1),this['_state'][_0x311996(0x8d)]=this[_0x311996(0x99)](this['_state'][_0x311996(0x8d)],_0x3ff4f7,_0x491a57,0.1,0.55),this[_0x311996(0x110)][_0x311996(0xde)]=this['attackRelease'](this[_0x311996(0x110)][_0x311996(0xde)],_0xa912aa,_0x491a57,0.04,0.3),this[_0x311996(0x110)][_0x311996(0xd8)]=this[_0x311996(0x99)](this['_state'][_0x311996(0xd8)],_0x5140c9,_0x491a57,0.04,0.6),this[_0x311996(0x110)][_0x311996(0xc9)]=this['attackRelease'](this['_state']['accent'],_0x15efc0,_0x491a57,0.04,0.3),this['_state'][_0x311996(0xca)]=this[_0x311996(0x99)](this[_0x311996(0x110)][_0x311996(0xca)],_0x47bbb4,_0x491a57,0.08,0.6);const _0x2c4d82=this['clamp'](0.2+0.5*this[_0x311996(0x110)][_0x311996(0x11c)]+0.35*this[_0x311996(0x110)][_0x311996(0x9f)]+0.4*this['_state'][_0x311996(0xd8)],0.15,1.2);this['_state'][_0x311996(0xee)]=this['attackRelease'](this[_0x311996(0x110)][_0x311996(0xee)],_0x2c4d82,_0x491a57,0.08,0.5),this[_0x311996(0xa4)]=Math['max'](0x0,this[_0x311996(0xa4)]-_0x491a57),this[_0x311996(0xad)]=Math[_0x311996(0xce)](0x0,this[_0x311996(0xad)]-_0x491a57);const _0x1018f0=this[_0x311996(0x110)]['beat']>0.55||this[_0x311996(0x110)][_0x311996(0xc9)]>0.4,_0x2d1580=Boolean(_0xace497[_0x311996(0x9e)])||this[_0x311996(0x110)][_0x311996(0xd8)]>0.8,_0x463ef0=this[_0x311996(0x95)]&&!_0x2d1580&&!_0x1018f0&&this[_0x311996(0x110)][_0x311996(0x9f)]<0.22;if(_0x2d1580&&this['_spawnTimer']<=0.02)this[_0x311996(0x125)]({'intensity':1.4,'accent':0x1,'extraCrackle':!0x0}),this['_spawnTimer']=0.55,this[_0x311996(0xa4)]=0.4;else{if(_0x1018f0&&this[_0x311996(0xa4)]<=0x0)this[_0x311996(0x125)]({'intensity':0.8+0.6*this[_0x311996(0x110)][_0x311996(0x9f)],'accent':this[_0x311996(0x110)][_0x311996(0xc9)]}),this[_0x311996(0xad)]=0.4,this[_0x311996(0xa4)]=0.35;else{if(this[_0x311996(0xad)]<=0x0&&(this[_0x311996(0x110)][_0x311996(0x9f)]>0.2||_0x463ef0)){const _0x52372c=_0x463ef0?this[_0x311996(0xfa)](0.3+0.08*Math[_0x311996(0xb4)](1.1*this[_0x311996(0x127)]),0.2,0.45):this[_0x311996(0x110)][_0x311996(0x9f)],_0x5378ff=_0x463ef0?this[_0x311996(0x119)](1.05,0.7,_0x52372c):this[_0x311996(0x119)](1.4,0.6,this[_0x311996(0x110)][_0x311996(0x9f)]);this['_spawnFirework']({'intensity':0.55+0.5*_0x52372c,'accent':_0x463ef0?0.25:0x0}),this[_0x311996(0xad)]=_0x5378ff;}}}this[_0x311996(0x11b)](_0x491a57),this[_0x311996(0xa3)](_0x491a57);}[_0x102cb3(0xe0)](){const _0x2402f2=_0x102cb3;if(!(this[_0x2402f2(0xba)]&&this[_0x2402f2(0x10a)]&&this[_0x2402f2(0xb7)]&&this['_geometry']&&this[_0x2402f2(0x11d)]))return;const _0x4d65d7=this[_0x2402f2(0xb2)]['count'];this['_geometry'][_0x2402f2(0x112)](0x0,_0x4d65d7),_0x4d65d7>0x0&&(this['_attributes'][_0x2402f2(0xc0)][_0x2402f2(0x124)]=!0x0,this[_0x2402f2(0x11d)][_0x2402f2(0x120)][_0x2402f2(0x124)]=!0x0,this[_0x2402f2(0x11d)][_0x2402f2(0xc3)]['needsUpdate']=!0x0),this['_renderer'][_0x2402f2(0xd0)](),this[_0x2402f2(0xba)]['render'](this[_0x2402f2(0x10a)],this[_0x2402f2(0xb7)]);}['destroy'](){const _0x322cc4=_0x102cb3;this[_0x322cc4(0xba)]&&this[_0x322cc4(0xba)][_0x322cc4(0x102)](),this[_0x322cc4(0xf6)]&&this[_0x322cc4(0xf6)][_0x322cc4(0x102)](),this[_0x322cc4(0x100)]&&this[_0x322cc4(0x100)][_0x322cc4(0x102)](),super[_0x322cc4(0x12b)]();}['_spawnFirework']({intensity:_0x24a4fe=0.8,accent:_0x5bfdfe=0x0,extraCrackle:_0x11992a=!0x1}={}){const _0x1dfb96=_0x102cb3;if(this['_fireworks'][_0x1dfb96(0xae)]>=0x6)return;const _0xf236cf=0x12*this[_0x1dfb96(0x110)][_0x1dfb96(0xe8)],_0x207689=this[_0x1dfb96(0x110)][_0x1dfb96(0xc8)],_0x152936=new _0x23c777(0x32*(Math[_0x1dfb96(0x93)]()-0.5)+_0xf236cf,0x8*Math[_0x1dfb96(0x93)]()-0x3c,0x14*(Math[_0x1dfb96(0x93)]()-0.5)),_0x436bd6=new _0x23c777(0x5a*(Math[_0x1dfb96(0x93)]()-0.5)+0.4*_0xf236cf,0x46*Math[_0x1dfb96(0x93)]()-0xa+0xa*this['_state'][_0x1dfb96(0x9f)],0x14*(Math[_0x1dfb96(0x93)]()-0.5));this[_0x1dfb96(0xd3)](_0x436bd6,this[_0x1dfb96(0xa9)](_0x207689));const _0x36bd22=new _0x23c777(_0x152936['x']+0x1e*(Math[_0x1dfb96(0x93)]()-0.5),_0x152936['y']+0x23+0xa*Math[_0x1dfb96(0x93)](),_0x152936['z']+0x1e*(Math[_0x1dfb96(0x93)]()-0.5)),_0x430a23=new _0x33bbf0([_0x152936,_0x36bd22,_0x436bd6]),_0x36564c=this[_0x1dfb96(0xd2)];this[_0x1dfb96(0x118)]['push']({'start':_0x152936,'mid':_0x36bd22,'end':_0x436bd6,'curve':_0x430a23,'position':_0x152936[_0x1dfb96(0xa5)](),'progress':0x0,'speed':(0.006+0.004*Math[_0x1dfb96(0x93)]())*(0x1+0.6*this[_0x1dfb96(0x110)]['energy']),'phase':_0x1dfb96(0xb0),'color':_0x36564c,'accentColor':this[_0x1dfb96(0x128)],'burstScale':0x1+0.6*_0x24a4fe+0.2*_0x5bfdfe,'launchLoudness':_0x207689,'crackleDelay':_0x11992a?0.2:0.35,'crackleSpawned':!0x1}),this[_0x1dfb96(0x8f)](_0x430a23,_0x36564c);}['_estimateExplosionRadius'](_0x11155e){const _0x3005e1=_0x102cb3;return 0xc+0x12*_0x11155e+0x8*this[_0x3005e1(0x110)][_0x3005e1(0xd8)];}['_clampExplosionTarget'](_0x2e31c6,_0x1aa4af){const _0x463224=_0x102cb3;if(!this[_0x463224(0xb7)])return;const _0x20fc4a=this[_0x463224(0xb7)][_0x463224(0xc0)]['z'],_0x258b9a=Math['max'](0x1,_0x20fc4a-_0x2e31c6['z']),_0x3bfd21=this['_camera'][_0x463224(0x129)]*Math['PI']/0xb4,_0x58d6e6=Math['tan'](0.5*_0x3bfd21)*_0x258b9a,_0x3ed9a7=_0x58d6e6*(this[_0x463224(0xb7)]['aspect']||this[_0x463224(0xeb)]/Math[_0x463224(0xce)](0x1,this[_0x463224(0xab)])),_0xd5c2f5=Math[_0x463224(0xce)](0x2,_0x3ed9a7-_0x1aa4af),_0x54451d=Math[_0x463224(0xce)](0x2,_0x58d6e6-_0x1aa4af);_0x2e31c6['x']=this[_0x463224(0xfa)](_0x2e31c6['x'],-_0xd5c2f5,_0xd5c2f5),_0x2e31c6['y']=this[_0x463224(0xfa)](_0x2e31c6['y'],-_0x54451d,_0x54451d);}[_0x102cb3(0x11b)](_0x3928a4){const _0x5bd90e=_0x102cb3;if(0x0!==this[_0x5bd90e(0x118)][_0x5bd90e(0xae)])for(let _0x418b96=this['_fireworks']['length']-0x1;_0x418b96>=0x0;_0x418b96-=0x1){const _0x539253=this[_0x5bd90e(0x118)][_0x418b96];_0x5bd90e(0xb0)===_0x539253[_0x5bd90e(0x9d)]?(_0x539253[_0x5bd90e(0xaf)]+=_0x539253[_0x5bd90e(0x10f)]*_0x3928a4*0x3c,_0x539253[_0x5bd90e(0xd7)][_0x5bd90e(0x9a)](Math[_0x5bd90e(0x122)](_0x539253[_0x5bd90e(0xaf)],0x1),_0x539253['position']),this[_0x5bd90e(0xb8)](_0x539253['position'],_0x539253[_0x5bd90e(0x120)]),_0x539253[_0x5bd90e(0xaf)]>=0x1&&(this[_0x5bd90e(0xa2)](_0x539253[_0x5bd90e(0xc0)],_0x539253),_0x539253[_0x5bd90e(0x9d)]='explode',_0x539253[_0x5bd90e(0x106)]=Math[_0x5bd90e(0xce)](0.12,_0x539253[_0x5bd90e(0x106)]-0.08*this[_0x5bd90e(0x110)][_0x5bd90e(0x11c)]))):(_0x539253['crackleDelay']-=_0x3928a4,!_0x539253[_0x5bd90e(0xd4)]&&_0x539253['crackleDelay']<=0x0&&(this['_emitCrackle'](_0x539253[_0x5bd90e(0xcb)],_0x539253),_0x539253[_0x5bd90e(0xd4)]=!0x0),_0x539253['crackleSpawned']&&this[_0x5bd90e(0x118)]['splice'](_0x418b96,0x1));}}[_0x102cb3(0xb8)](_0x3c3203,_0x2b71db){const _0xe7a9b9=_0x102cb3,_0xfc659=Math[_0xe7a9b9(0xfc)](0x4+0x3*this['_state'][_0xe7a9b9(0x9f)]+0x2*this['_state'][_0xe7a9b9(0x11c)]);for(let _0x3f8feb=0x0;_0x3f8feb<_0xfc659;_0x3f8feb+=0x1){const _0x547243=0.3*(Math[_0xe7a9b9(0x93)]()-0.5),_0xb3565b=0.3*(Math[_0xe7a9b9(0x93)]()-0.5),_0x212029=0.3*(Math[_0xe7a9b9(0x93)]()-0.5);this[_0xe7a9b9(0xfd)]({'x':_0x3c3203['x'],'y':_0x3c3203['y'],'z':_0x3c3203['z'],'vx':_0x547243,'vy':_0xb3565b,'vz':_0x212029,'speed':0x1,'color':_0x2b71db,'size':1.2,'life':0x1+Math[_0xe7a9b9(0x93)]()+0.4*this[_0xe7a9b9(0x110)]['reverb'],'type':u});}}[_0x102cb3(0x8f)](_0x1b84c8,_0x1b465e){const _0x44a33f=_0x102cb3;for(let _0x31aef8=0x0;_0x31aef8<0x5;_0x31aef8+=0x1){const _0xefb422=_0x31aef8/Math['max'](0x1,0x4)*0.08;_0x1b84c8[_0x44a33f(0x9a)](_0xefb422,this[_0x44a33f(0x107)]),this['_emitTrail'](this[_0x44a33f(0x107)],_0x1b465e);}}[_0x102cb3(0xa2)](_0x577689,_0x40c41d){const _0x2ee134=_0x102cb3,_0x5362d5=0x1+1.1*_0x40c41d[_0x2ee134(0x123)],_0x521bfc=0xc8+Math[_0x2ee134(0xfc)](0x1e*_0x40c41d[_0x2ee134(0xc1)]),_0x58dec5=Math[_0x2ee134(0x122)](0x1a4,Math[_0x2ee134(0xfc)](_0x521bfc*_0x5362d5+0x50*this['_state'][_0x2ee134(0xd8)]));for(let _0x45d730=0x0;_0x45d730<_0x58dec5;_0x45d730+=0x1){const _0x40af3a=0x1+0.9*_0x40c41d[_0x2ee134(0x123)],_0x51abdb=(0.7*Math['random']()+0.2)*_0x40af3a*(0x1+0.6*this['_state'][_0x2ee134(0xe1)]),_0xd65ba9=this[_0x2ee134(0xed)](this[_0x2ee134(0x92)]),_0x474258=0.8+1.1*_0x40c41d[_0x2ee134(0x123)];this['_spawnParticle']({'x':_0x577689['x'],'y':_0x577689['y'],'z':_0x577689['z'],'vx':_0xd65ba9['x'],'vy':_0xd65ba9['y'],'vz':_0xd65ba9['z'],'speed':_0x51abdb,'color':_0x40c41d[_0x2ee134(0xa1)],'size':1.5*_0x474258,'life':1.5+Math['random']()+0.4*_0x40c41d[_0x2ee134(0x123)],'type':g});}}[_0x102cb3(0xc2)](_0x1b36da,_0x574995){const _0x25622e=_0x102cb3,_0xb990b3=Math[_0x25622e(0xfc)](0x78+0x46*this[_0x25622e(0x110)][_0x25622e(0x11c)]+0x14*_0x574995['burstScale']);for(let _0x54405c=0x0;_0x54405c<_0xb990b3;_0x54405c+=0x1){const _0x2874d8=1.8*Math['random']()*(0x1+0.5*this[_0x25622e(0x110)][_0x25622e(0x10c)]),_0x511bc9=this[_0x25622e(0xed)](this['_tempVec']);this[_0x25622e(0xfd)]({'x':_0x1b36da['x'],'y':_0x1b36da['y'],'z':_0x1b36da['z'],'vx':_0x511bc9['x'],'vy':_0x511bc9['y'],'vz':_0x511bc9['z'],'speed':_0x2874d8,'color':this[_0x25622e(0x101)],'size':0.8,'life':0.4+0.4*Math[_0x25622e(0x93)](),'type':w});}}['_spawnParticle']({x:_0x4aa779,y:_0x24934b,z:_0x1f59a3,vx:_0x1e1a90,vy:_0x3738bd,vz:_0x1c96f2,speed:_0x7d1783,color:_0xe126ed,size:_0x2c2530,life:_0x2ca44d,type:_0x33fdde}){const _0x5d780b=_0x102cb3,_0x4ad33c=this[_0x5d780b(0xb2)]['count'];this[_0x5d780b(0xb5)](_0x4ad33c+0x1),this[_0x5d780b(0xb2)][_0x5d780b(0xc6)]+=0x1,this[_0x5d780b(0xb2)][_0x5d780b(0xdb)][_0x4ad33c]=_0x4aa779,this['_particles']['posY'][_0x4ad33c]=_0x24934b,this['_particles'][_0x5d780b(0xe9)][_0x4ad33c]=_0x1f59a3,this['_particles']['velX'][_0x4ad33c]=_0x1e1a90*_0x7d1783,this[_0x5d780b(0xb2)][_0x5d780b(0xda)][_0x4ad33c]=_0x3738bd*_0x7d1783,this[_0x5d780b(0xb2)][_0x5d780b(0xd9)][_0x4ad33c]=_0x1c96f2*_0x7d1783,this[_0x5d780b(0xb2)]['colorR'][_0x4ad33c]=_0xe126ed['r'],this['_particles']['colorG'][_0x4ad33c]=_0xe126ed['g'],this[_0x5d780b(0xb2)][_0x5d780b(0xec)][_0x4ad33c]=_0xe126ed['b'],this[_0x5d780b(0xb2)][_0x5d780b(0xc3)][_0x4ad33c]=_0x2c2530,this['_particles'][_0x5d780b(0xf8)][_0x4ad33c]=_0x2ca44d,this['_particles'][_0x5d780b(0xf9)][_0x4ad33c]=_0x2ca44d,this[_0x5d780b(0xb2)][_0x5d780b(0x90)][_0x4ad33c]=_0x33fdde;}[_0x102cb3(0xb5)](_0x1898df){const _0xcf1d66=_0x102cb3;if(_0x1898df<=this['_particleCapacity'])return;let _0x4c6b99=this[_0xcf1d66(0xc5)];for(;_0x4c6b99<_0x1898df;)_0x4c6b99=Math[_0xcf1d66(0xc4)](1.5*_0x4c6b99);const _0x357f99=(_0x174d06,_0x67833c)=>{const _0x18465c=_0xcf1d66,_0x5d0bd9=new Float32Array(_0x67833c);return _0x5d0bd9[_0x18465c(0x94)](_0x174d06),_0x5d0bd9;};this[_0xcf1d66(0xc5)]=_0x4c6b99,this[_0xcf1d66(0xe7)]=_0x357f99(this['_positions'],0x3*_0x4c6b99),this[_0xcf1d66(0x114)]=_0x357f99(this[_0xcf1d66(0x114)],0x3*_0x4c6b99),this[_0xcf1d66(0xa7)]=_0x357f99(this[_0xcf1d66(0xa7)],_0x4c6b99),this['_particles'][_0xcf1d66(0xdb)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xdb)],_0x4c6b99),this['_particles'][_0xcf1d66(0xf4)]=_0x357f99(this['_particles'][_0xcf1d66(0xf4)],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0xe9)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xe9)],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0xef)]=_0x357f99(this[_0xcf1d66(0xb2)]['velX'],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0xda)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xda)],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0xd9)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xd9)],_0x4c6b99),this['_particles'][_0xcf1d66(0xf0)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xf0)],_0x4c6b99),this[_0xcf1d66(0xb2)]['colorG']=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xb3)],_0x4c6b99),this['_particles'][_0xcf1d66(0xec)]=_0x357f99(this['_particles'][_0xcf1d66(0xec)],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0xc3)]=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xc3)],_0x4c6b99),this['_particles'][_0xcf1d66(0xf8)]=_0x357f99(this['_particles']['life'],_0x4c6b99),this[_0xcf1d66(0xb2)]['maxLife']=_0x357f99(this[_0xcf1d66(0xb2)][_0xcf1d66(0xf9)],_0x4c6b99),this[_0xcf1d66(0xb2)][_0xcf1d66(0x90)]=((_0x37a14a,_0x484256)=>{const _0x13f6d0=_0xcf1d66,_0x2ddcc2=new Uint8Array(_0x484256);return _0x2ddcc2[_0x13f6d0(0x94)](_0x37a14a),_0x2ddcc2;})(this[_0xcf1d66(0xb2)][_0xcf1d66(0x90)],_0x4c6b99),this[_0xcf1d66(0x100)]&&(this[_0xcf1d66(0x100)]['setAttribute'](_0xcf1d66(0xc0),new _0x141454(this['_positions'],0x3)[_0xcf1d66(0x98)](_0x27fefe)),this['_geometry'][_0xcf1d66(0x115)](_0xcf1d66(0xf1),new _0x141454(this[_0xcf1d66(0x114)],0x3)[_0xcf1d66(0x98)](_0x27fefe)),this[_0xcf1d66(0x100)][_0xcf1d66(0x115)]('size',new _0x141454(this[_0xcf1d66(0xa7)],0x1)[_0xcf1d66(0x98)](_0x27fefe)),this[_0xcf1d66(0x11d)]={'position':this['_geometry'][_0xcf1d66(0x9b)](_0xcf1d66(0xc0)),'color':this[_0xcf1d66(0x100)][_0xcf1d66(0x9b)](_0xcf1d66(0xf1)),'size':this['_geometry'][_0xcf1d66(0x9b)](_0xcf1d66(0xc3))});}['_updateParticles'](_0x5e1610){const _0x5d06e6=_0x102cb3,_0x4600da=this[_0x5d06e6(0xb2)];if(0x0===_0x4600da[_0x5d06e6(0xc6)])return;const _0xfe7009=0x3c*_0x5e1610,_0x2bd616=this[_0x5d06e6(0x113)]['y']*_0xfe7009*(0.9+0.3*this[_0x5d06e6(0x110)][_0x5d06e6(0xe1)]),_0x4fabc5=0.4+0.9*this[_0x5d06e6(0x110)][_0x5d06e6(0x10c)],_0x26ed28=0.75+0.6*this[_0x5d06e6(0x110)][_0x5d06e6(0x11c)],_0x2b56c2=0x6*this[_0x5d06e6(0x110)][_0x5d06e6(0xe8)];let _0x3e8db3=0x0;for(let _0x57e280=0x0;_0x57e280<_0x4600da[_0x5d06e6(0xc6)];_0x57e280+=0x1){let _0x170469=_0x4600da[_0x5d06e6(0xf8)][_0x57e280]-0.012*_0xfe7009;if(_0x170469<=0x0)continue;const _0x59c749=_0x4600da[_0x5d06e6(0x90)][_0x57e280],_0x5bdfd9=_0x59c749===u?0.92:_0x59c749===g?0.9:0.88,_0x526acb=Math[_0x5d06e6(0xbd)](_0x5bdfd9,_0xfe7009);let _0x52e607=_0x4600da[_0x5d06e6(0xef)][_0x57e280],_0x338185=_0x4600da[_0x5d06e6(0xda)][_0x57e280],_0xcb724e=_0x4600da[_0x5d06e6(0xd9)][_0x57e280];_0x338185+=_0x2bd616,_0x52e607+=(Math[_0x5d06e6(0x93)]()-0.5)*_0x4fabc5*0.05*_0xfe7009,_0xcb724e+=(Math[_0x5d06e6(0x93)]()-0.5)*_0x4fabc5*0.05*_0xfe7009,_0x52e607*=_0x526acb,_0x338185*=_0x526acb,_0xcb724e*=_0x526acb;let _0x439548=_0x4600da[_0x5d06e6(0xdb)][_0x57e280]+_0x52e607*_0xfe7009,_0x57cfea=_0x4600da['posY'][_0x57e280]+_0x338185*_0xfe7009,_0x44cc12=_0x4600da[_0x5d06e6(0xe9)][_0x57e280]+_0xcb724e*_0xfe7009;const _0x2521b9=this[_0x5d06e6(0xfa)](_0x170469/_0x4600da[_0x5d06e6(0xf9)][_0x57e280],0x0,0x1),_0x469bd7=_0x4600da[_0x5d06e6(0xc3)][_0x57e280]*_0x26ed28*(0.85+0.3*this[_0x5d06e6(0x110)][_0x5d06e6(0xee)]);_0x4600da[_0x5d06e6(0xf8)][_0x3e8db3]=_0x170469,_0x4600da[_0x5d06e6(0xf9)][_0x3e8db3]=_0x4600da[_0x5d06e6(0xf9)][_0x57e280],_0x4600da[_0x5d06e6(0x90)][_0x3e8db3]=_0x59c749,_0x4600da[_0x5d06e6(0xdb)][_0x3e8db3]=_0x439548,_0x4600da['posY'][_0x3e8db3]=_0x57cfea,_0x4600da[_0x5d06e6(0xe9)][_0x3e8db3]=_0x44cc12,_0x4600da[_0x5d06e6(0xef)][_0x3e8db3]=_0x52e607,_0x4600da[_0x5d06e6(0xda)][_0x3e8db3]=_0x338185,_0x4600da[_0x5d06e6(0xd9)][_0x3e8db3]=_0xcb724e,_0x4600da[_0x5d06e6(0xf0)][_0x3e8db3]=_0x4600da['colorR'][_0x57e280],_0x4600da[_0x5d06e6(0xb3)][_0x3e8db3]=_0x4600da['colorG'][_0x57e280],_0x4600da[_0x5d06e6(0xec)][_0x3e8db3]=_0x4600da[_0x5d06e6(0xec)][_0x57e280],_0x4600da['size'][_0x3e8db3]=_0x4600da[_0x5d06e6(0xc3)][_0x57e280];const _0x512874=0x3*_0x3e8db3;this['_positions'][_0x512874]=_0x439548+_0x2b56c2*(0.25+0.15*_0x59c749),this['_positions'][_0x512874+0x1]=_0x57cfea,this['_positions'][_0x512874+0x2]=_0x44cc12,this[_0x5d06e6(0x114)][_0x512874]=_0x4600da['colorR'][_0x57e280]*_0x2521b9,this[_0x5d06e6(0x114)][_0x512874+0x1]=_0x4600da[_0x5d06e6(0xb3)][_0x57e280]*_0x2521b9,this[_0x5d06e6(0x114)][_0x512874+0x2]=_0x4600da['colorB'][_0x57e280]*_0x2521b9,this[_0x5d06e6(0xa7)][_0x3e8db3]=_0x469bd7*_0x2521b9*0xa,_0x3e8db3+=0x1;}_0x4600da[_0x5d06e6(0xc6)]=_0x3e8db3;}[_0x102cb3(0xed)](_0x4bcb7d){const _0x5a49be=_0x102cb3;return _0x4bcb7d[_0x5a49be(0x94)](0x2*Math[_0x5a49be(0x93)]()-0x1,0x2*Math[_0x5a49be(0x93)]()-0x1,0x2*Math[_0x5a49be(0x93)]()-0x1)[_0x5a49be(0x103)](),_0x4bcb7d;}},{'meta':y});
