const _0x1a2b4b=_0x3049;function _0x11a5(){const _0x126d9b=['7KADgRE','_fireworks','setPixelRatio','12QcwDDS','_points','_gravity','dropPulse','_attributes','DYNAMIC','destroy','push','reverb','random','life','_ensureParticleCapacity','brillianceEnergy','aspect','posZ','curve','dbTo01','floor','accent','115fShphi','_scene','_trailVec','flux','posX','beat','min','melody','1682712KAEnsl','needsUpdate','posY','dispose','position','_crackleColor','_time','_beatCooldown','_goldColor','_particles','length','reset','_emitBurst','_colors','362476PgDsem','updateProjectionMatrix','cues','glow','size','colorR','crackleDelay','velZ','frustumCulled','ceil','loudnessIntegratedDb','launchLoudness','overallEnergy','_previewMode','_setupThree','accentPulse','canvas','942279beyBWV','config','setDrawRange','set','bass','_state','vvavy','1905486fkVUKf','_updateParticles','onResize','color','normalize','energy','9UGzapC','1308080titMSh','_spawnFirework','stereo','maxLife','A\x20lunar\x20dragon\x20ascends\x20in\x20ember\x20trails\x20and\x20radiant\x20bursts,\x20with\x20audio-guided\x20firework\x20arcs\x20and\x20shimmering\x20crackle\x20glow.','_particleCapacity','dropStart','clone','melodyChange','audioTriggers','customColor','type','height','_renderer','end','48XMigTT','trebleEnergy','isBeat','spectralFlux','_updateFireworks','clamp','pow','dropIntensity','render','TEMPO','11UWPicJ','Lunar\x20Dragon\x20Fireworks','smooth','CINEMATIC','_sizes','setUsage','ENERGY','_spawnTimer','TECH','flushTrackedGLResources','_emitTrail','velY','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20vec3\x20customColor;\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vColor\x20=\x20customColor;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(300.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','setSize','VIBE','lunar-dragon','count','crackleSpawned','setAttribute','_geometry','rms','_material','_estimateExplosionRadius','tan','lerp','velX','speed','drop','colorG','_redColor','subBassEnergy','progress','meta','_tempVec','stereoBalance','explode','_randomUnitVector','getAttribute','_camera','treble','colorB','loudness','width','launch','_spawnParticle','attackRelease','TRIPPY','accentColor','max','_seedLaunchTrail','57748TGrZyE','_positions','fov','dpr','664640RvZgEY'];_0x11a5=function(){return _0x126d9b;};return _0x11a5();}(function(_0x3bfb70,_0x4e25d2){const _0x1f72ab=_0x3049,_0x24b591=_0x3bfb70();while(!![]){try{const _0x34da3f=parseInt(_0x1f72ab(0x109))/0x1+parseInt(_0x1f72ab(0x136))/0x2*(parseInt(_0x1f72ab(0x10d))/0x3)+parseInt(_0x1f72ab(0x105))/0x4*(-parseInt(_0x1f72ab(0x120))/0x5)+parseInt(_0x1f72ab(0x14e))/0x6*(-parseInt(_0x1f72ab(0x10a))/0x7)+-parseInt(_0x1f72ab(0x128))/0x8*(parseInt(_0x1f72ab(0xb9))/0x9)+-parseInt(_0x1f72ab(0xba))/0xa*(-parseInt(_0x1f72ab(0xd3))/0xb)+-parseInt(_0x1f72ab(0xc9))/0xc*(parseInt(_0x1f72ab(0x147))/0xd);if(_0x34da3f===_0x4e25d2)break;else _0x24b591['push'](_0x24b591['shift']());}catch(_0x251f75){_0x24b591['push'](_0x24b591['shift']());}}}(_0x11a5,0x5a741));import{b as _0xe80aae,C as _0xcec73,W as _0xf1fcb7,S as _0x10dd08,e as _0x5820a6,p as _0x2ee445,q as _0x2ea515,r as _0x2157c6,a as _0x366e84,n as _0x3ed9e1,s as _0x465921,t as _0x145f04}from'./three.module.min.js';function _0x3049(_0x2c7ecb,_0x18bb46){const _0x11a5f7=_0x11a5();return _0x3049=function(_0x30493a,_0x4ef1ba){_0x30493a=_0x30493a-0xb7;let _0xeeb27a=_0x11a5f7[_0x30493a];return _0xeeb27a;},_0x3049(_0x2c7ecb,_0x18bb46);}import{V as _0x25e9d5,r as _0x130ba7,W as _0x5e0a1f}from'./receiver.min.js';const y={'savedAt':0x19c6e6c9673,'name':_0x1a2b4b(0xd4),'createdBy':_0x1a2b4b(0x14d),'description':_0x1a2b4b(0xbe),'tags':[_0x25e9d5[_0x1a2b4b(0xdb)]['HD'],_0x25e9d5[_0x1a2b4b(0xe1)][_0x1a2b4b(0xd6)],_0x25e9d5[_0x1a2b4b(0xe1)][_0x1a2b4b(0x101)],_0x25e9d5[_0x1a2b4b(0xd9)]['MID'],_0x25e9d5[_0x1a2b4b(0xd2)][_0x1a2b4b(0x112)]]},u=0x0,g=0x1,w=0x2;_0x130ba7(_0x1a2b4b(0xe2),class extends _0x5e0a1f{static [_0x1a2b4b(0xf3)]=y;constructor(_0x33da6c){const _0x42e16b=_0x1a2b4b;super({..._0x33da6c,'config':{'backgroundColor':'#030106','autoClear':!0x0,..._0x33da6c?.[_0x42e16b(0x148)]??{}}}),this[_0x42e16b(0xc7)]=null,this['_scene']=null,this['_camera']=null,this[_0x42e16b(0xe6)]=null,this[_0x42e16b(0xe8)]=null,this[_0x42e16b(0x10e)]=null,this[_0x42e16b(0x111)]=null,this[_0x42e16b(0xbf)]=0xc80,this[_0x42e16b(0x106)]=new Float32Array(0x3*this[_0x42e16b(0xbf)]),this[_0x42e16b(0x135)]=new Float32Array(0x3*this[_0x42e16b(0xbf)]),this[_0x42e16b(0xd7)]=new Float32Array(this[_0x42e16b(0xbf)]),this[_0x42e16b(0x131)]={'count':0x0,'posX':new Float32Array(this[_0x42e16b(0xbf)]),'posY':new Float32Array(this[_0x42e16b(0xbf)]),'posZ':new Float32Array(this[_0x42e16b(0xbf)]),'velX':new Float32Array(this[_0x42e16b(0xbf)]),'velY':new Float32Array(this[_0x42e16b(0xbf)]),'velZ':new Float32Array(this[_0x42e16b(0xbf)]),'colorR':new Float32Array(this[_0x42e16b(0xbf)]),'colorG':new Float32Array(this[_0x42e16b(0xbf)]),'colorB':new Float32Array(this[_0x42e16b(0xbf)]),'size':new Float32Array(this['_particleCapacity']),'life':new Float32Array(this[_0x42e16b(0xbf)]),'maxLife':new Float32Array(this[_0x42e16b(0xbf)]),'type':new Uint8Array(this[_0x42e16b(0xbf)])},this[_0x42e16b(0x10b)]=[],this[_0x42e16b(0x12e)]=0x0,this[_0x42e16b(0xda)]=0x0,this['_beatCooldown']=0x0,this[_0x42e16b(0x14c)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2},this[_0x42e16b(0xf4)]=new _0xe80aae(),this[_0x42e16b(0x122)]=new _0xe80aae(),this[_0x42e16b(0x10f)]=new _0xe80aae(0x0,-0.004,0x0),this[_0x42e16b(0x12d)]=new _0xcec73(0xffffff),this[_0x42e16b(0x130)]=new _0xcec73()['setHSL'](0.12,0x1,0.5),this[_0x42e16b(0xf0)]=new _0xcec73()['setHSL'](0x0,0x1,0.5);}[_0x1a2b4b(0x133)](){const _0x39cd58=_0x1a2b4b;this[_0x39cd58(0x10b)]=[],this['_time']=0x0,this[_0x39cd58(0xda)]=0x0,this[_0x39cd58(0x12f)]=0x0,this['_particles'][_0x39cd58(0xe3)]=0x0,this['_state']={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2};}['init'](){const _0x54d1f7=_0x1a2b4b;this['gl']&&(this[_0x54d1f7(0xdc)]?.(),this[_0x54d1f7(0x133)](),this[_0x54d1f7(0x144)]());}[_0x1a2b4b(0x150)](){const _0x14c88c=_0x1a2b4b;super[_0x14c88c(0x150)]?.(),this[_0x14c88c(0xc7)]&&(this[_0x14c88c(0xc7)][_0x14c88c(0x10c)](Math[_0x14c88c(0x126)](this['dpr']??0x1,0x2)),this['_renderer']['setSize'](this[_0x14c88c(0xfd)],this['height'],!0x1)),this[_0x14c88c(0xf9)]&&(this[_0x14c88c(0xf9)][_0x14c88c(0x11a)]=this[_0x14c88c(0xfd)]/Math[_0x14c88c(0x103)](0x1,this['height']),this[_0x14c88c(0xf9)][_0x14c88c(0x137)]());}[_0x1a2b4b(0x144)](){const _0x558a06=_0x1a2b4b;this['_renderer']=new _0xf1fcb7({'canvas':this[_0x558a06(0x146)],'context':this['gl'],'antialias':!0x0,'alpha':!0x0,'powerPreference':'high-performance'}),this[_0x558a06(0xc7)]['autoClear']=!0x0,this[_0x558a06(0xc7)][_0x558a06(0x10c)](Math['min'](this[_0x558a06(0x108)]??0x1,0x2)),this['_renderer'][_0x558a06(0xe0)](this[_0x558a06(0xfd)],this[_0x558a06(0xc6)],!0x1),this[_0x558a06(0xc7)]['setClearColor'](new _0xcec73(0x30106),0x1),this[_0x558a06(0x121)]=new _0x10dd08(),this[_0x558a06(0xf9)]=new _0x5820a6(0x41,this['width']/Math['max'](0x1,this['height']),0.1,0x3e8),this[_0x558a06(0xf9)][_0x558a06(0x12c)]['z']=0x64,this[_0x558a06(0xe6)]=new _0x2ee445(),this['_geometry'][_0x558a06(0xe5)](_0x558a06(0x12c),new _0x2ea515(this[_0x558a06(0x106)],0x3)['setUsage'](_0x2157c6)),this['_geometry'][_0x558a06(0xe5)](_0x558a06(0xc4),new _0x2ea515(this[_0x558a06(0x135)],0x3)[_0x558a06(0xd8)](_0x2157c6)),this[_0x558a06(0xe6)]['setAttribute']('size',new _0x2ea515(this[_0x558a06(0xd7)],0x1)['setUsage'](_0x2157c6)),this[_0x558a06(0xe6)][_0x558a06(0x149)](0x0,0x0),this[_0x558a06(0xe8)]=new _0x366e84({'vertexShader':_0x558a06(0xdf),'fragmentShader':'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20float\x20strength\x20=\x200.05\x20/\x20d;\x0a\x20\x20strength\x20=\x20pow(strength,\x202.0);\x0a\x20\x20float\x20alpha\x20=\x20smoothstep(0.5,\x200.1,\x20d);\x0a\x20\x20vec3\x20finalColor\x20=\x20mix(vColor,\x20vec3(1.0),\x20pow(strength,\x204.0)\x20*\x200.5);\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20alpha);\x0a}\x0a','transparent':!0x0,'blending':_0x3ed9e1,'depthWrite':!0x1}),this[_0x558a06(0x10e)]=new _0x465921(this['_geometry'],this[_0x558a06(0xe8)]),this['_points'][_0x558a06(0x13e)]=!0x1,this['_scene']['add'](this[_0x558a06(0x10e)]),this[_0x558a06(0x111)]={'position':this['_geometry'][_0x558a06(0xf8)](_0x558a06(0x12c)),'color':this['_geometry'][_0x558a06(0xf8)](_0x558a06(0xc4)),'size':this[_0x558a06(0xe6)][_0x558a06(0xf8)](_0x558a06(0x13a))};}['onUpdate'](_0x18e75d){const _0x244c02=_0x1a2b4b;if(!_0x18e75d)return;const _0x9a8de0=this[_0x244c02(0xce)](_0x18e75d['dt']??0x1/0x3c,0x1/0xf0,0.2);this[_0x244c02(0x12e)]+=_0x9a8de0;const _0x1cd719=_0x18e75d[_0x244c02(0x138)]??this[_0x244c02(0xc3)]??{},_0x415a3b=this['clamp'](_0x18e75d[_0x244c02(0x142)]??_0x18e75d['energy']??_0x18e75d[_0x244c02(0xe7)]??0x0,0x0,1.4),_0x2d1472=this[_0x244c02(0xce)](0.6*(_0x18e75d[_0x244c02(0xf1)]??0x0)+0.8*(_0x18e75d['bassEnergy']??0x0),0x0,1.4),_0x11f1c1=this[_0x244c02(0xce)](0.7*(_0x18e75d[_0x244c02(0xca)]??0x0)+0.6*(_0x18e75d[_0x244c02(0x119)]??0x0),0x0,1.4),_0x578ee7=this[_0x244c02(0xce)](1.1*(_0x18e75d[_0x244c02(0xcc)]??0x0)+0.5*(_0x18e75d['energyChangeIntensity']??0x0),0x0,1.4),_0x2b8a86=this[_0x244c02(0x11d)](_0x18e75d['loudnessShortDb']??_0x18e75d[_0x244c02(0x140)]??-0x30,-0x3c,0x0),_0x3fc0a9=this[_0x244c02(0xce)](_0x18e75d[_0x244c02(0xf5)]??0x0,-0x1,0x1),_0x41266d=this[_0x244c02(0xce)](_0x18e75d['reverbTail']??0x0,0x0,0x1),_0x486c3d=this[_0x244c02(0xce)](_0x18e75d['beatPulse']??(_0x18e75d[_0x244c02(0xcb)]?0x1:0x0),0x0,1.2),_0x48c9f9=this[_0x244c02(0xce)](_0x1cd719[_0x244c02(0xd0)]??_0x18e75d[_0x244c02(0xd0)]??_0x18e75d[_0x244c02(0x110)]??0x0,0x0,1.4),_0x50c130=_0x1cd719[_0x244c02(0x145)]?0x1:0x0,_0x368d12=_0x1cd719[_0x244c02(0xc2)]?0x1:0x0;this[_0x244c02(0x14c)]['energy']=this[_0x244c02(0x100)](this[_0x244c02(0x14c)]['energy'],_0x415a3b,_0x9a8de0,0.08,0.4),this[_0x244c02(0x14c)][_0x244c02(0x14b)]=this[_0x244c02(0x100)](this['_state']['bass'],_0x2d1472,_0x9a8de0,0.09,0.4),this[_0x244c02(0x14c)][_0x244c02(0xfa)]=this['attackRelease'](this[_0x244c02(0x14c)][_0x244c02(0xfa)],_0x11f1c1,_0x9a8de0,0.08,0.45),this[_0x244c02(0x14c)][_0x244c02(0x123)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)]['flux'],_0x578ee7,_0x9a8de0,0.1,0.5),this[_0x244c02(0x14c)][_0x244c02(0xfc)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)][_0x244c02(0xfc)],_0x2b8a86,_0x9a8de0,0.08,0.35),this[_0x244c02(0x14c)][_0x244c02(0xbc)]=this[_0x244c02(0xd5)](this[_0x244c02(0x14c)][_0x244c02(0xbc)],_0x3fc0a9,0.1),this['_state'][_0x244c02(0x115)]=this[_0x244c02(0x100)](this['_state'][_0x244c02(0x115)],_0x41266d,_0x9a8de0,0.1,0.55),this[_0x244c02(0x14c)][_0x244c02(0x125)]=this['attackRelease'](this[_0x244c02(0x14c)][_0x244c02(0x125)],_0x486c3d,_0x9a8de0,0.04,0.3),this['_state'][_0x244c02(0xee)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)]['drop'],_0x48c9f9,_0x9a8de0,0.04,0.6),this[_0x244c02(0x14c)][_0x244c02(0x11f)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)]['accent'],_0x50c130,_0x9a8de0,0.04,0.3),this[_0x244c02(0x14c)][_0x244c02(0x127)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)][_0x244c02(0x127)],_0x368d12,_0x9a8de0,0.08,0.6);const _0x29ef72=this[_0x244c02(0xce)](0.2+0.5*this['_state'][_0x244c02(0xfa)]+0.35*this[_0x244c02(0x14c)][_0x244c02(0xb8)]+0.4*this[_0x244c02(0x14c)][_0x244c02(0xee)],0.15,1.2);this[_0x244c02(0x14c)][_0x244c02(0x139)]=this[_0x244c02(0x100)](this[_0x244c02(0x14c)]['glow'],_0x29ef72,_0x9a8de0,0.08,0.5),this[_0x244c02(0x12f)]=Math['max'](0x0,this[_0x244c02(0x12f)]-_0x9a8de0),this['_spawnTimer']=Math[_0x244c02(0x103)](0x0,this[_0x244c02(0xda)]-_0x9a8de0);const _0x1bee8b=this[_0x244c02(0x14c)]['beat']>0.55||this[_0x244c02(0x14c)][_0x244c02(0x11f)]>0.4,_0xcacf3a=Boolean(_0x1cd719[_0x244c02(0xc0)])||this[_0x244c02(0x14c)]['drop']>0.8,_0x496e0c=this[_0x244c02(0x143)]&&!_0xcacf3a&&!_0x1bee8b&&this['_state'][_0x244c02(0xb8)]<0.22;if(_0xcacf3a&&this['_spawnTimer']<=0.02)this[_0x244c02(0xbb)]({'intensity':1.4,'accent':0x1,'extraCrackle':!0x0}),this['_spawnTimer']=0.55,this[_0x244c02(0x12f)]=0.4;else{if(_0x1bee8b&&this[_0x244c02(0x12f)]<=0x0)this['_spawnFirework']({'intensity':0.8+0.6*this[_0x244c02(0x14c)][_0x244c02(0xb8)],'accent':this['_state'][_0x244c02(0x11f)]}),this['_spawnTimer']=0.4,this[_0x244c02(0x12f)]=0.35;else{if(this[_0x244c02(0xda)]<=0x0&&(this[_0x244c02(0x14c)]['energy']>0.2||_0x496e0c)){const _0xfab92f=_0x496e0c?this[_0x244c02(0xce)](0.3+0.08*Math['sin'](1.1*this[_0x244c02(0x12e)]),0.2,0.45):this[_0x244c02(0x14c)][_0x244c02(0xb8)],_0x3cd44b=_0x496e0c?this[_0x244c02(0xeb)](1.05,0.7,_0xfab92f):this[_0x244c02(0xeb)](1.4,0.6,this[_0x244c02(0x14c)]['energy']);this['_spawnFirework']({'intensity':0.55+0.5*_0xfab92f,'accent':_0x496e0c?0.25:0x0}),this[_0x244c02(0xda)]=_0x3cd44b;}}}this[_0x244c02(0xcd)](_0x9a8de0),this[_0x244c02(0x14f)](_0x9a8de0);}['onRender'](){const _0x4a885b=_0x1a2b4b;if(!(this[_0x4a885b(0xc7)]&&this[_0x4a885b(0x121)]&&this[_0x4a885b(0xf9)]&&this[_0x4a885b(0xe6)]&&this[_0x4a885b(0x111)]))return;const _0x4a3dbd=this[_0x4a885b(0x131)][_0x4a885b(0xe3)];this[_0x4a885b(0xe6)][_0x4a885b(0x149)](0x0,_0x4a3dbd),_0x4a3dbd>0x0&&(this[_0x4a885b(0x111)][_0x4a885b(0x12c)][_0x4a885b(0x129)]=!0x0,this['_attributes'][_0x4a885b(0x151)][_0x4a885b(0x129)]=!0x0,this[_0x4a885b(0x111)]['size'][_0x4a885b(0x129)]=!0x0),this[_0x4a885b(0xc7)]['resetState'](),this[_0x4a885b(0xc7)][_0x4a885b(0xd1)](this[_0x4a885b(0x121)],this[_0x4a885b(0xf9)]);}[_0x1a2b4b(0x113)](){const _0x59e5d9=_0x1a2b4b;this[_0x59e5d9(0xc7)]&&this['_renderer']['dispose'](),this[_0x59e5d9(0xe8)]&&this['_material'][_0x59e5d9(0x12b)](),this[_0x59e5d9(0xe6)]&&this[_0x59e5d9(0xe6)]['dispose'](),super[_0x59e5d9(0x113)]();}['_spawnFirework']({intensity:_0x59a51d=0.8,accent:_0x51180b=0x0,extraCrackle:_0x4b9328=!0x1}={}){const _0x471cb3=_0x1a2b4b;if(this[_0x471cb3(0x10b)][_0x471cb3(0x132)]>=0x6)return;const _0x515274=0x12*this['_state'][_0x471cb3(0xbc)],_0x2a5eb9=this[_0x471cb3(0x14c)]['loudness'],_0xbbadb9=new _0xe80aae(0x32*(Math[_0x471cb3(0x116)]()-0.5)+_0x515274,0x8*Math[_0x471cb3(0x116)]()-0x3c,0x14*(Math[_0x471cb3(0x116)]()-0.5)),_0x5564fe=new _0xe80aae(0x5a*(Math[_0x471cb3(0x116)]()-0.5)+0.4*_0x515274,0x46*Math[_0x471cb3(0x116)]()-0xa+0xa*this[_0x471cb3(0x14c)][_0x471cb3(0xb8)],0x14*(Math[_0x471cb3(0x116)]()-0.5));this['_clampExplosionTarget'](_0x5564fe,this['_estimateExplosionRadius'](_0x2a5eb9));const _0x47e6c8=new _0xe80aae(_0xbbadb9['x']+0x1e*(Math['random']()-0.5),_0xbbadb9['y']+0x23+0xa*Math['random'](),_0xbbadb9['z']+0x1e*(Math[_0x471cb3(0x116)]()-0.5)),_0x330092=new _0x145f04([_0xbbadb9,_0x47e6c8,_0x5564fe]),_0x3a56c9=this['_goldColor'];this[_0x471cb3(0x10b)][_0x471cb3(0x114)]({'start':_0xbbadb9,'mid':_0x47e6c8,'end':_0x5564fe,'curve':_0x330092,'position':_0xbbadb9[_0x471cb3(0xc1)](),'progress':0x0,'speed':(0.006+0.004*Math[_0x471cb3(0x116)]())*(0x1+0.6*this[_0x471cb3(0x14c)]['energy']),'phase':_0x471cb3(0xfe),'color':_0x3a56c9,'accentColor':this[_0x471cb3(0xf0)],'burstScale':0x1+0.6*_0x59a51d+0.2*_0x51180b,'launchLoudness':_0x2a5eb9,'crackleDelay':_0x4b9328?0.2:0.35,'crackleSpawned':!0x1}),this[_0x471cb3(0x104)](_0x330092,_0x3a56c9);}[_0x1a2b4b(0xe9)](_0x4103e1){const _0x231301=_0x1a2b4b;return 0xc+0x12*_0x4103e1+0x8*this[_0x231301(0x14c)][_0x231301(0xee)];}['_clampExplosionTarget'](_0x246c6c,_0x1b2ec6){const _0x1982ec=_0x1a2b4b;if(!this[_0x1982ec(0xf9)])return;const _0x266d46=this['_camera'][_0x1982ec(0x12c)]['z'],_0x279b65=Math['max'](0x1,_0x266d46-_0x246c6c['z']),_0x3dada0=this[_0x1982ec(0xf9)][_0x1982ec(0x107)]*Math['PI']/0xb4,_0x599210=Math[_0x1982ec(0xea)](0.5*_0x3dada0)*_0x279b65,_0x12e958=_0x599210*(this[_0x1982ec(0xf9)]['aspect']||this[_0x1982ec(0xfd)]/Math['max'](0x1,this[_0x1982ec(0xc6)])),_0x13c421=Math[_0x1982ec(0x103)](0x2,_0x12e958-_0x1b2ec6),_0x4df331=Math['max'](0x2,_0x599210-_0x1b2ec6);_0x246c6c['x']=this[_0x1982ec(0xce)](_0x246c6c['x'],-_0x13c421,_0x13c421),_0x246c6c['y']=this[_0x1982ec(0xce)](_0x246c6c['y'],-_0x4df331,_0x4df331);}['_updateFireworks'](_0x47a0c2){const _0x1083f8=_0x1a2b4b;if(0x0!==this['_fireworks']['length'])for(let _0x381ea4=this[_0x1083f8(0x10b)][_0x1083f8(0x132)]-0x1;_0x381ea4>=0x0;_0x381ea4-=0x1){const _0x1bac43=this[_0x1083f8(0x10b)][_0x381ea4];'launch'===_0x1bac43['phase']?(_0x1bac43[_0x1083f8(0xf2)]+=_0x1bac43[_0x1083f8(0xed)]*_0x47a0c2*0x3c,_0x1bac43[_0x1083f8(0x11c)]['getPoint'](Math[_0x1083f8(0x126)](_0x1bac43[_0x1083f8(0xf2)],0x1),_0x1bac43[_0x1083f8(0x12c)]),this['_emitTrail'](_0x1bac43[_0x1083f8(0x12c)],_0x1bac43[_0x1083f8(0x151)]),_0x1bac43[_0x1083f8(0xf2)]>=0x1&&(this['_emitBurst'](_0x1bac43['position'],_0x1bac43),_0x1bac43['phase']=_0x1083f8(0xf6),_0x1bac43['crackleDelay']=Math[_0x1083f8(0x103)](0.12,_0x1bac43[_0x1083f8(0x13c)]-0.08*this['_state'][_0x1083f8(0xfa)]))):(_0x1bac43['crackleDelay']-=_0x47a0c2,!_0x1bac43[_0x1083f8(0xe4)]&&_0x1bac43[_0x1083f8(0x13c)]<=0x0&&(this['_emitCrackle'](_0x1bac43[_0x1083f8(0xc8)],_0x1bac43),_0x1bac43['crackleSpawned']=!0x0),_0x1bac43[_0x1083f8(0xe4)]&&this[_0x1083f8(0x10b)]['splice'](_0x381ea4,0x1));}}[_0x1a2b4b(0xdd)](_0x483909,_0x327e3b){const _0x4d75af=_0x1a2b4b,_0x1b91d1=Math[_0x4d75af(0x11e)](0x4+0x3*this[_0x4d75af(0x14c)]['energy']+0x2*this[_0x4d75af(0x14c)]['treble']);for(let _0x3ecb3c=0x0;_0x3ecb3c<_0x1b91d1;_0x3ecb3c+=0x1){const _0x452ea8=0.3*(Math[_0x4d75af(0x116)]()-0.5),_0x353525=0.3*(Math[_0x4d75af(0x116)]()-0.5),_0x4de820=0.3*(Math['random']()-0.5);this[_0x4d75af(0xff)]({'x':_0x483909['x'],'y':_0x483909['y'],'z':_0x483909['z'],'vx':_0x452ea8,'vy':_0x353525,'vz':_0x4de820,'speed':0x1,'color':_0x327e3b,'size':1.2,'life':0x1+Math[_0x4d75af(0x116)]()+0.4*this[_0x4d75af(0x14c)][_0x4d75af(0x115)],'type':u});}}[_0x1a2b4b(0x104)](_0x5cc67c,_0x7d152){const _0x3b67ae=_0x1a2b4b;for(let _0x105f66=0x0;_0x105f66<0x5;_0x105f66+=0x1){const _0x8f79d5=_0x105f66/Math[_0x3b67ae(0x103)](0x1,0x4)*0.08;_0x5cc67c['getPoint'](_0x8f79d5,this[_0x3b67ae(0x122)]),this['_emitTrail'](this[_0x3b67ae(0x122)],_0x7d152);}}[_0x1a2b4b(0x134)](_0x4fe479,_0x43b1b3){const _0x52f4b9=_0x1a2b4b,_0x1e019b=0x1+1.1*_0x43b1b3[_0x52f4b9(0x141)],_0x311ec2=0xc8+Math[_0x52f4b9(0x11e)](0x1e*_0x43b1b3['burstScale']),_0x1ff074=Math[_0x52f4b9(0x126)](0x1a4,Math['floor'](_0x311ec2*_0x1e019b+0x50*this[_0x52f4b9(0x14c)]['drop']));for(let _0x1f1345=0x0;_0x1f1345<_0x1ff074;_0x1f1345+=0x1){const _0x54fe87=0x1+0.9*_0x43b1b3[_0x52f4b9(0x141)],_0x55756c=(0.7*Math[_0x52f4b9(0x116)]()+0.2)*_0x54fe87*(0x1+0.6*this[_0x52f4b9(0x14c)][_0x52f4b9(0x14b)]),_0x58bb7e=this[_0x52f4b9(0xf7)](this[_0x52f4b9(0xf4)]),_0x5e146c=0.8+1.1*_0x43b1b3[_0x52f4b9(0x141)];this[_0x52f4b9(0xff)]({'x':_0x4fe479['x'],'y':_0x4fe479['y'],'z':_0x4fe479['z'],'vx':_0x58bb7e['x'],'vy':_0x58bb7e['y'],'vz':_0x58bb7e['z'],'speed':_0x55756c,'color':_0x43b1b3[_0x52f4b9(0x102)],'size':1.5*_0x5e146c,'life':1.5+Math['random']()+0.4*_0x43b1b3[_0x52f4b9(0x141)],'type':g});}}['_emitCrackle'](_0x533522,_0x1d47b9){const _0x4c6238=_0x1a2b4b,_0x1ab78d=Math[_0x4c6238(0x11e)](0x78+0x46*this[_0x4c6238(0x14c)][_0x4c6238(0xfa)]+0x14*_0x1d47b9['burstScale']);for(let _0x31aa07=0x0;_0x31aa07<_0x1ab78d;_0x31aa07+=0x1){const _0xf56fe4=1.8*Math[_0x4c6238(0x116)]()*(0x1+0.5*this['_state']['flux']),_0x47a076=this[_0x4c6238(0xf7)](this[_0x4c6238(0xf4)]);this[_0x4c6238(0xff)]({'x':_0x533522['x'],'y':_0x533522['y'],'z':_0x533522['z'],'vx':_0x47a076['x'],'vy':_0x47a076['y'],'vz':_0x47a076['z'],'speed':_0xf56fe4,'color':this[_0x4c6238(0x12d)],'size':0.8,'life':0.4+0.4*Math[_0x4c6238(0x116)](),'type':w});}}[_0x1a2b4b(0xff)]({x:_0x45a25d,y:_0x78a78c,z:_0x2908a5,vx:_0x5aca58,vy:_0x2ce4c3,vz:_0x4242df,speed:_0x4eacc1,color:_0x415cde,size:_0x5a1d8d,life:_0x412b25,type:_0x10a76b}){const _0xdde2de=_0x1a2b4b,_0x2e90fe=this[_0xdde2de(0x131)][_0xdde2de(0xe3)];this[_0xdde2de(0x118)](_0x2e90fe+0x1),this[_0xdde2de(0x131)][_0xdde2de(0xe3)]+=0x1,this[_0xdde2de(0x131)]['posX'][_0x2e90fe]=_0x45a25d,this['_particles']['posY'][_0x2e90fe]=_0x78a78c,this[_0xdde2de(0x131)][_0xdde2de(0x11b)][_0x2e90fe]=_0x2908a5,this[_0xdde2de(0x131)][_0xdde2de(0xec)][_0x2e90fe]=_0x5aca58*_0x4eacc1,this['_particles'][_0xdde2de(0xde)][_0x2e90fe]=_0x2ce4c3*_0x4eacc1,this[_0xdde2de(0x131)]['velZ'][_0x2e90fe]=_0x4242df*_0x4eacc1,this[_0xdde2de(0x131)][_0xdde2de(0x13b)][_0x2e90fe]=_0x415cde['r'],this['_particles'][_0xdde2de(0xef)][_0x2e90fe]=_0x415cde['g'],this[_0xdde2de(0x131)]['colorB'][_0x2e90fe]=_0x415cde['b'],this[_0xdde2de(0x131)]['size'][_0x2e90fe]=_0x5a1d8d,this[_0xdde2de(0x131)][_0xdde2de(0x117)][_0x2e90fe]=_0x412b25,this['_particles'][_0xdde2de(0xbd)][_0x2e90fe]=_0x412b25,this[_0xdde2de(0x131)][_0xdde2de(0xc5)][_0x2e90fe]=_0x10a76b;}[_0x1a2b4b(0x118)](_0x269365){const _0x3e26ae=_0x1a2b4b;if(_0x269365<=this[_0x3e26ae(0xbf)])return;let _0x3bdebc=this['_particleCapacity'];for(;_0x3bdebc<_0x269365;)_0x3bdebc=Math[_0x3e26ae(0x13f)](1.5*_0x3bdebc);const _0x20e24a=(_0x42c03e,_0x12d40d)=>{const _0x34e5fd=_0x3e26ae,_0x1f84e9=new Float32Array(_0x12d40d);return _0x1f84e9[_0x34e5fd(0x14a)](_0x42c03e),_0x1f84e9;};this[_0x3e26ae(0xbf)]=_0x3bdebc,this['_positions']=_0x20e24a(this[_0x3e26ae(0x106)],0x3*_0x3bdebc),this[_0x3e26ae(0x135)]=_0x20e24a(this['_colors'],0x3*_0x3bdebc),this[_0x3e26ae(0xd7)]=_0x20e24a(this[_0x3e26ae(0xd7)],_0x3bdebc),this['_particles']['posX']=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0x124)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0x12a)]=_0x20e24a(this['_particles']['posY'],_0x3bdebc),this[_0x3e26ae(0x131)]['posZ']=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0x11b)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0xec)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0xec)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0xde)]=_0x20e24a(this['_particles'][_0x3e26ae(0xde)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0x13d)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0x13d)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0x13b)]=_0x20e24a(this['_particles']['colorR'],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0xef)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0xef)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0xfb)]=_0x20e24a(this[_0x3e26ae(0x131)]['colorB'],_0x3bdebc),this['_particles'][_0x3e26ae(0x13a)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0x13a)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0x117)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0x117)],_0x3bdebc),this[_0x3e26ae(0x131)][_0x3e26ae(0xbd)]=_0x20e24a(this[_0x3e26ae(0x131)][_0x3e26ae(0xbd)],_0x3bdebc),this['_particles'][_0x3e26ae(0xc5)]=((_0x32e911,_0x251b6d)=>{const _0xe65050=_0x3e26ae,_0x51f185=new Uint8Array(_0x251b6d);return _0x51f185[_0xe65050(0x14a)](_0x32e911),_0x51f185;})(this[_0x3e26ae(0x131)][_0x3e26ae(0xc5)],_0x3bdebc),this[_0x3e26ae(0xe6)]&&(this[_0x3e26ae(0xe6)][_0x3e26ae(0xe5)](_0x3e26ae(0x12c),new _0x2ea515(this[_0x3e26ae(0x106)],0x3)[_0x3e26ae(0xd8)](_0x2157c6)),this[_0x3e26ae(0xe6)][_0x3e26ae(0xe5)](_0x3e26ae(0xc4),new _0x2ea515(this[_0x3e26ae(0x135)],0x3)[_0x3e26ae(0xd8)](_0x2157c6)),this[_0x3e26ae(0xe6)][_0x3e26ae(0xe5)](_0x3e26ae(0x13a),new _0x2ea515(this[_0x3e26ae(0xd7)],0x1)[_0x3e26ae(0xd8)](_0x2157c6)),this[_0x3e26ae(0x111)]={'position':this[_0x3e26ae(0xe6)][_0x3e26ae(0xf8)](_0x3e26ae(0x12c)),'color':this[_0x3e26ae(0xe6)][_0x3e26ae(0xf8)](_0x3e26ae(0xc4)),'size':this[_0x3e26ae(0xe6)][_0x3e26ae(0xf8)](_0x3e26ae(0x13a))});}[_0x1a2b4b(0x14f)](_0x4110da){const _0x44379a=_0x1a2b4b,_0x2fe4b3=this['_particles'];if(0x0===_0x2fe4b3[_0x44379a(0xe3)])return;const _0x2a26cb=0x3c*_0x4110da,_0x4c6e16=this['_gravity']['y']*_0x2a26cb*(0.9+0.3*this[_0x44379a(0x14c)][_0x44379a(0x14b)]),_0x198a14=0.4+0.9*this[_0x44379a(0x14c)][_0x44379a(0x123)],_0x3e7475=0.75+0.6*this['_state'][_0x44379a(0xfa)],_0x20fb14=0x6*this[_0x44379a(0x14c)][_0x44379a(0xbc)];let _0x2d3ebe=0x0;for(let _0x444b45=0x0;_0x444b45<_0x2fe4b3['count'];_0x444b45+=0x1){let _0x4f1229=_0x2fe4b3[_0x44379a(0x117)][_0x444b45]-0.012*_0x2a26cb;if(_0x4f1229<=0x0)continue;const _0x2312a8=_0x2fe4b3[_0x44379a(0xc5)][_0x444b45],_0x56d068=_0x2312a8===u?0.92:_0x2312a8===g?0.9:0.88,_0x25a055=Math[_0x44379a(0xcf)](_0x56d068,_0x2a26cb);let _0x450628=_0x2fe4b3['velX'][_0x444b45],_0x27a528=_0x2fe4b3[_0x44379a(0xde)][_0x444b45],_0xc35088=_0x2fe4b3[_0x44379a(0x13d)][_0x444b45];_0x27a528+=_0x4c6e16,_0x450628+=(Math[_0x44379a(0x116)]()-0.5)*_0x198a14*0.05*_0x2a26cb,_0xc35088+=(Math[_0x44379a(0x116)]()-0.5)*_0x198a14*0.05*_0x2a26cb,_0x450628*=_0x25a055,_0x27a528*=_0x25a055,_0xc35088*=_0x25a055;let _0x178241=_0x2fe4b3[_0x44379a(0x124)][_0x444b45]+_0x450628*_0x2a26cb,_0x365a6d=_0x2fe4b3[_0x44379a(0x12a)][_0x444b45]+_0x27a528*_0x2a26cb,_0x433f44=_0x2fe4b3[_0x44379a(0x11b)][_0x444b45]+_0xc35088*_0x2a26cb;const _0x5abcde=this['clamp'](_0x4f1229/_0x2fe4b3[_0x44379a(0xbd)][_0x444b45],0x0,0x1),_0x4a9ebc=_0x2fe4b3[_0x44379a(0x13a)][_0x444b45]*_0x3e7475*(0.85+0.3*this[_0x44379a(0x14c)][_0x44379a(0x139)]);_0x2fe4b3['life'][_0x2d3ebe]=_0x4f1229,_0x2fe4b3[_0x44379a(0xbd)][_0x2d3ebe]=_0x2fe4b3['maxLife'][_0x444b45],_0x2fe4b3[_0x44379a(0xc5)][_0x2d3ebe]=_0x2312a8,_0x2fe4b3['posX'][_0x2d3ebe]=_0x178241,_0x2fe4b3['posY'][_0x2d3ebe]=_0x365a6d,_0x2fe4b3[_0x44379a(0x11b)][_0x2d3ebe]=_0x433f44,_0x2fe4b3[_0x44379a(0xec)][_0x2d3ebe]=_0x450628,_0x2fe4b3[_0x44379a(0xde)][_0x2d3ebe]=_0x27a528,_0x2fe4b3['velZ'][_0x2d3ebe]=_0xc35088,_0x2fe4b3[_0x44379a(0x13b)][_0x2d3ebe]=_0x2fe4b3[_0x44379a(0x13b)][_0x444b45],_0x2fe4b3[_0x44379a(0xef)][_0x2d3ebe]=_0x2fe4b3[_0x44379a(0xef)][_0x444b45],_0x2fe4b3[_0x44379a(0xfb)][_0x2d3ebe]=_0x2fe4b3[_0x44379a(0xfb)][_0x444b45],_0x2fe4b3[_0x44379a(0x13a)][_0x2d3ebe]=_0x2fe4b3[_0x44379a(0x13a)][_0x444b45];const _0x33286b=0x3*_0x2d3ebe;this[_0x44379a(0x106)][_0x33286b]=_0x178241+_0x20fb14*(0.25+0.15*_0x2312a8),this[_0x44379a(0x106)][_0x33286b+0x1]=_0x365a6d,this[_0x44379a(0x106)][_0x33286b+0x2]=_0x433f44,this['_colors'][_0x33286b]=_0x2fe4b3[_0x44379a(0x13b)][_0x444b45]*_0x5abcde,this[_0x44379a(0x135)][_0x33286b+0x1]=_0x2fe4b3[_0x44379a(0xef)][_0x444b45]*_0x5abcde,this[_0x44379a(0x135)][_0x33286b+0x2]=_0x2fe4b3[_0x44379a(0xfb)][_0x444b45]*_0x5abcde,this[_0x44379a(0xd7)][_0x2d3ebe]=_0x4a9ebc*_0x5abcde*0xa,_0x2d3ebe+=0x1;}_0x2fe4b3[_0x44379a(0xe3)]=_0x2d3ebe;}[_0x1a2b4b(0xf7)](_0x267db8){const _0x38cab4=_0x1a2b4b;return _0x267db8[_0x38cab4(0x14a)](0x2*Math['random']()-0x1,0x2*Math[_0x38cab4(0x116)]()-0x1,0x2*Math['random']()-0x1)[_0x38cab4(0xb7)](),_0x267db8;}},{'meta':y});
