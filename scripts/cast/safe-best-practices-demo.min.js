(function(_0x2071c5,_0xdfc667){const _0x48c2f4=_0x4ae6,_0x28a0e3=_0x2071c5();while(!![]){try{const _0x2f58ad=-parseInt(_0x48c2f4(0xfb))/0x1+-parseInt(_0x48c2f4(0x13e))/0x2+parseInt(_0x48c2f4(0x101))/0x3*(-parseInt(_0x48c2f4(0x136))/0x4)+-parseInt(_0x48c2f4(0xfe))/0x5+-parseInt(_0x48c2f4(0x11c))/0x6+parseInt(_0x48c2f4(0x116))/0x7+parseInt(_0x48c2f4(0x10d))/0x8;if(_0x2f58ad===_0xdfc667)break;else _0x28a0e3['push'](_0x28a0e3['shift']());}catch(_0x4b55f8){_0x28a0e3['push'](_0x28a0e3['shift']());}}}(_0x5113,0xa244f));function _0x4ae6(_0x518303,_0x5c4c17){const _0x5113d7=_0x5113();return _0x4ae6=function(_0x4ae611,_0x525225){_0x4ae611=_0x4ae611-0xee;let _0xb4619f=_0x5113d7[_0x4ae611];return _0xb4619f;},_0x4ae6(_0x518303,_0x5c4c17);}function _0x5113(){const _0x4b002e=['centroid','STATIC_DRAW','uBass','enableVertexAttribArray','uSquareBLoc','uCentroidLoc','uSquareFadeLoc','squarePosA','uSquareA','BLEND','732884tsqhxn','aPosition','clearColor','Safe\x20reference\x20visual:\x20bright\x20color\x20bands,\x20steady\x20camera,\x20no\x20default\x20glow\x20or\x20vignette.','height','getAttribLocation','squareTimer','uStereoLoc','2070316lCGyjI','bindBuffer','createProgram','max','uTime','energy','COLOR_BUFFER_BIT','useProgram','time','ENERGY','drawingBufferWidth','uSquareB','safe-best-practices-demo','deleteBuffer','703137ycPlNM','uCentroid','squarePosB','1896430tTJNsj','lastSquareTriggerTime','random','12gKySnt','uTimeLoc','uniform1f','ARRAY_BUFFER','program','init','uResolutionLoc','bass','buffer','bufferData','squareSize','uSquareSizeLoc','25822488IqKfjf','lastFrameTime','onMetrics','autoDispose','isBeat','uEnergyLoc','min','uBassLoc','GROOVY','4733078tgeuNb','bassEnergy','squareFadeDuration','overallEnergy','smooth','meta','2333070FFSJiN','uniform2f','drawingBufferHeight','getUniformLocation','width','stereo','VIBE','uResolution','MID','viewport','uSquareSize','createBuffer','vertexAttribPointer','\x0a\x20\x20\x20\x20\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20precision\x20mediump\x20float;\x0a\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20precision\x20mediump\x20int;\x0a\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uTime;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uResolution;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uEnergy;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uBass;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uCentroid;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uStereo;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uSquareA;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uSquareB;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uSquareFade;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uSquareSize;\x0a\x0a\x20\x20\x20\x20\x20\x20vec3\x20hsv2rgb(vec3\x20c)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20vec3(0.0,\x202.0/3.0,\x201.0/3.0))\x20*\x206.0\x20-\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20c.z\x20*\x20mix(vec3(1.0),\x20clamp(p\x20-\x201.0,\x200.0,\x201.0),\x20c.y);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Normalized\x20coordinates\x20with\x20aspect\x20correction.\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20resolution\x20=\x20max(uResolution,\x20vec2(1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20minDim\x20=\x20min(resolution.x,\x20resolution.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(gl_FragCoord.xy\x20/\x20resolution\x20-\x200.5)\x20*\x20(resolution\x20/\x20minDim);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Stereo\x20affects\x20lateral\x20balance\x20only.\x0a\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20uStereo\x20*\x200.18;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Discrete\x20grid\x20for\x20clear\x20color\x20blocks.\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20gridUv\x20=\x20uv\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20cell\x20=\x20floor(gridUv\x20*\x208.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20cellIndex\x20=\x20cell.x\x20+\x20cell.y\x20*\x208.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20stripe\x20=\x20mod(cell.x,\x202.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Audio-driven\x20hue\x20and\x20value.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20centroidNorm\x20=\x20clamp(uCentroid,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20baseHue\x20=\x20mix(0.04,\x200.8,\x20centroidNorm);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20energyMix\x20=\x20clamp(uEnergy\x20+\x20uBass\x20*\x200.7,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hue\x20=\x20baseHue\x20+\x20cellIndex\x20*\x200.03\x20+\x200.12\x20*\x20energyMix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sat\x20=\x20mix(0.65,\x201.0,\x20energyMix);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x200.38\x20+\x200.5\x20*\x20energyMix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorA\x20=\x20hsv2rgb(vec3(fract(hue),\x20sat,\x20val));\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorB\x20=\x20hsv2rgb(vec3(fract(hue\x20+\x200.35),\x20sat,\x20val\x20*\x200.9));\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20baseColor\x20=\x20mix(colorA,\x20colorB,\x20stripe);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Mild\x20center\x20emphasis\x20without\x20dark\x20tunnel\x20edges.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20length(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBoost\x20=\x201.0\x20-\x200.45\x20*\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20brightness\x20=\x20clamp(centerBoost,\x200.25,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20gammaSafe\x20=\x201.0\x20/\x202.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20pow(baseColor\x20*\x20brightness,\x20vec3(gammaSafe));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Two\x20gently\x20cross-fading\x20squares\x20that\x20swap\x20locations\x20on\x20beats\x20/\x20loudness.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20halfSize\x20=\x20uSquareSize\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20inA\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.x\x20-\x20uSquareA.x)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.y\x20-\x20uSquareA.y)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.x\x20-\x20uSquareA.x,\x20halfSize)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.y\x20-\x20uSquareA.y,\x20halfSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20inB\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.x\x20-\x20uSquareB.x)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.y\x20-\x20uSquareB.y)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.x\x20-\x20uSquareB.x,\x20halfSize)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.y\x20-\x20uSquareB.y,\x20halfSize);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20squareColor\x20=\x20hsv2rgb(vec3(fract(hue\x20+\x200.18),\x200.9,\x200.9));\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20squareMask\x20=\x20clamp(mix(inA,\x20inB,\x20clamp(uSquareFade,\x200.0,\x201.0)),\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20finalColor\x20=\x20mix(color,\x20squareColor,\x20squareMask\x20*\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','uSquareALoc','squareFade'];_0x5113=function(){return _0x4b002e;};return _0x5113();}import{W as _0x17c38c,V as _0x51322e,r as _0x1b7624}from'./receiver.min.js';!(function(){const _0x5ae1f4=_0x4ae6;class _0x263ad0 extends _0x17c38c{static [_0x5ae1f4(0x11b)]={'hidden':!0x0,'savedAt':0x19c66eabf77,'createdBy':'vvavy','description':_0x5ae1f4(0x139),'tags':[_0x51322e['TECH']['GEOMETRY'],_0x51322e[_0x5ae1f4(0x122)]['CHILL'],_0x51322e[_0x5ae1f4(0xf6)][_0x5ae1f4(0x124)],_0x51322e['TEMPO'][_0x5ae1f4(0x115)]]};constructor(_0x310b13){const _0x1cdd29=_0x5ae1f4;super(_0x310b13),this[_0x1cdd29(0x105)]=null,this['buffer']=null,this['uTimeLoc']=null,this['uResolutionLoc']=null,this[_0x1cdd29(0x112)]=null,this[_0x1cdd29(0x114)]=null,this[_0x1cdd29(0x131)]=null,this[_0x1cdd29(0x13d)]=null,this['uSquareALoc']=null,this[_0x1cdd29(0x130)]=null,this[_0x1cdd29(0x132)]=null,this[_0x1cdd29(0x10c)]=null,this['time']=0x0,this[_0x1cdd29(0xf2)]=0x0,this[_0x1cdd29(0x108)]=0x0,this[_0x1cdd29(0x12c)]=0.3,this[_0x1cdd29(0x121)]=0x0,this[_0x1cdd29(0x10e)]=null,this[_0x1cdd29(0x12b)]=0x0,this['squareFadeDuration']=0x1,this[_0x1cdd29(0x13c)]=0x0,this[_0x1cdd29(0x133)]={'x':-0.25,'y':0x0},this[_0x1cdd29(0xfd)]={'x':0.25,'y':0x0},this[_0x1cdd29(0x10b)]=0.3,this[_0x1cdd29(0xff)]=0x0;}[_0x5ae1f4(0x106)](){const _0x5e7760=_0x5ae1f4,_0x3bb80a=this['gl'];if(!_0x3bb80a)return;const _0x39e78a=this[_0x5e7760(0xef)]('\x0a\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20aPosition;\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',_0x5e7760(0x129));this[_0x5e7760(0x105)]=_0x39e78a,this['autoDispose'](_0x39e78a);const _0x374321=new Float32Array([-0x1,-0x1,0x3,-0x1,-0x1,0x3]),_0x5bb21e=_0x3bb80a[_0x5e7760(0x127)]();_0x3bb80a[_0x5e7760(0xee)](_0x3bb80a[_0x5e7760(0x104)],_0x5bb21e),_0x3bb80a[_0x5e7760(0x10a)](_0x3bb80a[_0x5e7760(0x104)],_0x374321,_0x3bb80a[_0x5e7760(0x12d)]),this['buffer']=_0x5bb21e,this[_0x5e7760(0x110)](_0x5bb21e,(_0xd33fb6,_0x430eb5)=>_0xd33fb6[_0x5e7760(0xfa)](_0x430eb5)),this[_0x5e7760(0x102)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0xf1)),this[_0x5e7760(0x107)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0x123)),this[_0x5e7760(0x112)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,'uEnergy'),this[_0x5e7760(0x114)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0x12e)),this['uCentroidLoc']=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0xfc)),this[_0x5e7760(0x13d)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,'uStereo'),this[_0x5e7760(0x12a)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0x134)),this['uSquareBLoc']=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0xf8)),this[_0x5e7760(0x132)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,'uSquareFade'),this[_0x5e7760(0x10c)]=_0x3bb80a[_0x5e7760(0x11f)](_0x39e78a,_0x5e7760(0x126)),_0x3bb80a['disable'](_0x3bb80a[_0x5e7760(0x135)]);}[_0x5ae1f4(0x10f)](_0x590c3c,_0x35562e){const _0x3cb937=_0x5ae1f4,_0x7162d3=_0x590c3c?.[_0x3cb937(0xf5)]??0x0,_0x1a0335=null!=this[_0x3cb937(0x10e)]?Math[_0x3cb937(0xf0)](0x0,Math[_0x3cb937(0x113)](_0x7162d3-this[_0x3cb937(0x10e)],0.05)):0x1/0x3c;this[_0x3cb937(0x10e)]=_0x7162d3;const _0x38c9bd=_0x590c3c?.[_0x3cb937(0x119)]??_0x590c3c?.[_0x3cb937(0xf2)]??0x0,_0x5304fa=_0x590c3c?.[_0x3cb937(0x11a)]?.[_0x3cb937(0x117)]??_0x590c3c?.[_0x3cb937(0x117)]??0x0,_0x34c032=_0x590c3c?.['centroid']??0x0,_0x14d9ff=_0x590c3c?.['stereoBalance']??0x0,_0x52742e=(_0x50dcc4,_0x2ad1a8,_0x5aaaee)=>_0x50dcc4+(_0x2ad1a8-_0x50dcc4)*_0x5aaaee,_0x5a9522=(_0x3d0e78,_0x574847,_0x4fec00)=>_0x3d0e78<_0x574847?_0x574847:_0x3d0e78>_0x4fec00?_0x4fec00:_0x3d0e78,_0x22dc46=_0x5a9522(_0x38c9bd,0x0,0x1),_0x47b642=2.5*_0x1a0335;this[_0x3cb937(0xf2)]=_0x52742e(this[_0x3cb937(0xf2)],_0x22dc46,_0x47b642);const _0x9912cd=_0x5a9522(1.2*_0x5304fa,0x0,0x1),_0x7bbc23=0x3*_0x1a0335;this[_0x3cb937(0x108)]=_0x52742e(this[_0x3cb937(0x108)],_0x9912cd,_0x7bbc23);const _0x10f813=_0x5a9522(_0x34c032/0x2ee0,0x0,0x1),_0xe6bca4=1.2*_0x1a0335;this[_0x3cb937(0x12c)]=_0x52742e(this['centroid'],_0x10f813,_0xe6bca4);const _0x36d01=_0x5a9522(_0x14d9ff,-0x1,0x1),_0x331e6e=0x4*_0x1a0335;this['stereo']=_0x52742e(this[_0x3cb937(0x121)],_0x36d01,_0x331e6e);const _0x28cd56=0.25+0.7*this[_0x3cb937(0xf2)];this[_0x3cb937(0xf5)]+=_0x1a0335*_0x28cd56;const _0x2e8ece=_0x22dc46>0.05,_0xb5eafc=Boolean(_0x35562e&&_0x35562e[_0x3cb937(0x111)]);if(_0x7162d3-this[_0x3cb937(0xff)]>=0.5&&(_0xb5eafc||_0x2e8ece)){const _0x362216=0.4;this[_0x3cb937(0x118)]=Math[_0x3cb937(0xf0)](_0x362216,this[_0x3cb937(0x118)]-0.01),this['lastSquareTriggerTime']=_0x7162d3,this[_0x3cb937(0x12b)]=0x1,this[_0x3cb937(0x13c)]=0x0;const _0x259759=this[_0x3cb937(0xfd)];this['squarePosA']={'x':_0x259759['x'],'y':_0x259759['y']};const _0x1ceeac=1.2*Math[_0x3cb937(0x100)]()-0.6,_0x4106aa=0.8*Math[_0x3cb937(0x100)]()-0.4;this[_0x3cb937(0xfd)]={'x':_0x1ceeac,'y':_0x4106aa};}if(this[_0x3cb937(0x12b)]>0x0&&this['squareFadeDuration']>0x0){this[_0x3cb937(0x13c)]+=_0x1a0335;const _0x426369=this[_0x3cb937(0x13c)]/this[_0x3cb937(0x118)];this['squareFade']=_0x426369<0x1?0x1-_0x426369:0x0;}}['onRender'](_0x5a3f26){const _0x330300=_0x5ae1f4;if(!this['program']||!this[_0x330300(0x109)])return;const _0x424265=_0x5a3f26[_0x330300(0xf7)]||this[_0x330300(0x120)]||0x1,_0x3be32b=_0x5a3f26[_0x330300(0x11e)]||this[_0x330300(0x13a)]||0x1;_0x5a3f26[_0x330300(0x125)](0x0,0x0,_0x424265,_0x3be32b),_0x5a3f26[_0x330300(0x138)](0x0,0x0,0x0,0x1),_0x5a3f26['clear'](_0x5a3f26[_0x330300(0xf3)]),_0x5a3f26[_0x330300(0xf4)](this['program']),_0x5a3f26[_0x330300(0xee)](_0x5a3f26[_0x330300(0x104)],this[_0x330300(0x109)]);const _0x3e9909=_0x5a3f26[_0x330300(0x13b)](this[_0x330300(0x105)],_0x330300(0x137));_0x3e9909>=0x0&&(_0x5a3f26[_0x330300(0x12f)](_0x3e9909),_0x5a3f26[_0x330300(0x128)](_0x3e9909,0x2,_0x5a3f26['FLOAT'],!0x1,0x0,0x0)),_0x5a3f26[_0x330300(0x103)](this[_0x330300(0x102)],this[_0x330300(0xf5)]),_0x5a3f26[_0x330300(0x11d)](this[_0x330300(0x107)],_0x424265,_0x3be32b),_0x5a3f26[_0x330300(0x103)](this[_0x330300(0x112)],this[_0x330300(0xf2)]),_0x5a3f26[_0x330300(0x103)](this['uBassLoc'],this['bass']),_0x5a3f26[_0x330300(0x103)](this['uCentroidLoc'],this[_0x330300(0x12c)]),_0x5a3f26[_0x330300(0x103)](this['uStereoLoc'],this['stereo']),this[_0x330300(0x12a)]&&_0x5a3f26[_0x330300(0x11d)](this[_0x330300(0x12a)],this[_0x330300(0x133)]['x'],this[_0x330300(0x133)]['y']),this[_0x330300(0x130)]&&_0x5a3f26['uniform2f'](this[_0x330300(0x130)],this['squarePosB']['x'],this[_0x330300(0xfd)]['y']),this[_0x330300(0x132)]&&_0x5a3f26['uniform1f'](this['uSquareFadeLoc'],this[_0x330300(0x12b)]),this[_0x330300(0x10c)]&&_0x5a3f26[_0x330300(0x103)](this['uSquareSizeLoc'],this[_0x330300(0x10b)]),_0x5a3f26['drawArrays'](_0x5a3f26['TRIANGLES'],0x0,0x3);}}_0x1b7624(_0x5ae1f4(0xf9),_0x263ad0,{'meta':_0x263ad0['meta']});}());
