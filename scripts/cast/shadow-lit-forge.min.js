function _0x594d(_0x4cbb21,_0x21635c){const _0x4e033d=_0x4e03();return _0x594d=function(_0x594dc2,_0x58a4db){_0x594dc2=_0x594dc2-0xfc;let _0x15463c=_0x4e033d[_0x594dc2];return _0x15463c;},_0x594d(_0x4cbb21,_0x21635c);}const _0x1c3ddb=_0x594d;(function(_0x3dae5d,_0x1b9508){const _0x262e8d=_0x594d,_0x5d1ee6=_0x3dae5d();while(!![]){try{const _0x3d6066=-parseInt(_0x262e8d(0x153))/0x1+-parseInt(_0x262e8d(0x126))/0x2+parseInt(_0x262e8d(0x101))/0x3*(-parseInt(_0x262e8d(0x10c))/0x4)+parseInt(_0x262e8d(0x103))/0x5*(parseInt(_0x262e8d(0x181))/0x6)+parseInt(_0x262e8d(0x183))/0x7+-parseInt(_0x262e8d(0x13e))/0x8*(-parseInt(_0x262e8d(0x132))/0x9)+-parseInt(_0x262e8d(0x182))/0xa;if(_0x3d6066===_0x1b9508)break;else _0x5d1ee6['push'](_0x5d1ee6['shift']());}catch(_0x1f6962){_0x5d1ee6['push'](_0x5d1ee6['shift']());}}}(_0x4e03,0x45ae7));import{C as _0x5514d1,b as _0x10bed4,W as _0x2321c2,S as _0x11c8f4,u as _0x5a908b,e as _0x2932e8,a as _0x17ee63,n,P as _0x43bec2,M as _0x400328,G as _0x323568,I as _0x22225a,B as _0x49be0b,j as _0x237b80,p,q as _0x16f3c1,s as _0x5de00a}from'./three.module.min.js';import{V as _0x45e91e,r as _0x5e6afc,W as _0x361d31}from'./receiver.min.js';var C=_0x1c3ddb(0x15c),M=_0x1c3ddb(0x15d);function _0x4e03(){const _0x5c52e3=['cues','4221nbyvFP','uniforms','attackRelease','_sparks','height','random','tempo','position','_disposeScene','subBassEnergy','_createFloor','init','2840ndceTg','sin','_slamRecoverDuration','centroid','_renderer','setAttribute','_timeStart','_sparkColor','onRender','length','_material','value','_time','_audio','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUv\x20=\x20uv;\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a}\x0a','ENERGY','traverse','DARK','uPulse','energyChangeIntensity','_orbitSpeed','363195aJdtLl','_tempVec3','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uImpact;\x0auniform\x20float\x20uPulse;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uDropPulse;\x0auniform\x20vec3\x20uForgeColor;\x0a\x0afloat\x20hash(vec2\x20p)\x20{\x0a\x20\x20p\x20=\x20fract(p\x20*\x20vec2(123.34,\x20456.21));\x0a\x20\x20p\x20+=\x20dot(p,\x20p\x20+\x2045.32);\x0a\x20\x20return\x20fract(p.x\x20*\x20p.y);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20float\x20a\x20=\x20hash(i);\x0a\x20\x20float\x20b\x20=\x20hash(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20return\x20mix(a,\x20b,\x20u.x)\x20+\x20(c\x20-\x20a)\x20*\x20u.y\x20*\x20(1.0\x20-\x20u.x)\x20+\x20(d\x20-\x20b)\x20*\x20u.x\x20*\x20u.y;\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20v\x20=\x200.0;\x0a\x20\x20float\x20a\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x20{\x0a\x20\x20\x20\x20v\x20+=\x20a\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20*=\x202.0;\x0a\x20\x20\x20\x20a\x20*=\x200.5;\x0a\x20\x20}\x0a\x20\x20return\x20v;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUv\x20*\x202.0\x20-\x201.0;\x0a\x20\x20float\x20d\x20=\x20length(uv);\x0a\x0a\x20\x20vec3\x20color\x20=\x20vec3(0.01,\x200.01,\x200.015);\x0a\x20\x20float\x20impact\x20=\x20clamp(uImpact,\x200.0,\x201.5);\x0a\x0a\x20\x20vec2\x20rockUv\x20=\x20uv\x20*\x206.6\x20+\x20vec2(uTime\x20*\x200.02,\x20-uTime\x20*\x200.01);\x0a\x20\x20float\x20rockNoise\x20=\x20fbm(rockUv\x20*\x202.3\x20+\x20uTime\x20*\x200.02);\x0a\x20\x20float\x20ridged\x20=\x201.0\x20-\x20abs(rockNoise\x20*\x202.0\x20-\x201.0);\x0a\x20\x20ridged\x20=\x20pow(ridged,\x201.8);\x0a\x0a\x20\x20vec3\x20rockColor\x20=\x20mix(vec3(0.05,\x200.04,\x200.04),\x20vec3(0.18,\x200.13,\x200.11),\x20ridged);\x0a\x0a\x20\x20vec2\x20lavaUv\x20=\x20uv\x20*\x203.6\x20+\x20vec2(0.0,\x20uTime\x20*\x200.12);\x0a\x20\x20float\x20lavaBase\x20=\x20fbm(lavaUv\x20*\x202.6);\x0a\x20\x20float\x20lavaDetail\x20=\x20fbm(lavaUv\x20*\x208.0\x20+\x2011.9);\x0a\x20\x20float\x20lavaField\x20=\x20mix(lavaBase,\x20lavaDetail,\x200.5);\x0a\x20\x20float\x20fissures\x20=\x20smoothstep(0.52,\x200.88,\x20lavaField);\x0a\x20\x20float\x20glow\x20=\x20pow(fissures,\x201.7)\x20+\x20uPulse\x20*\x200.45;\x0a\x20\x20float\x20dropGlow\x20=\x20uDrop\x20*\x20(0.6\x20+\x20uDropPulse\x20*\x201.2);\x0a\x0a\x20\x20float\x20chasm\x20=\x20smoothstep(0.45,\x200.1,\x20d);\x0a\x20\x20float\x20lavaMask\x20=\x20clamp(chasm\x20+\x20(1.0\x20-\x20fissures)\x20*\x200.25,\x200.0,\x201.0);\x0a\x0a\x20\x20vec3\x20lavaColor\x20=\x20mix(vec3(0.07,\x200.01,\x200.01),\x20vec3(1.6,\x200.38,\x200.06),\x20glow\x20+\x20impact\x20*\x200.25\x20+\x20dropGlow);\x0a\x0a\x20\x20float\x20crackPattern\x20=\x20pow(fbm(uv\x20*\x208.0\x20+\x20uTime\x20*\x200.1),\x206.0)\x20*\x2060.0\x20*\x20impact;\x0a\x20\x20float\x20shatterMask\x20=\x20smoothstep(0.25,\x200.0,\x20abs(fissures\x20-\x200.6))\x20*\x20uDrop;\x0a\x20\x20float\x20dropHalo\x20=\x20smoothstep(0.6,\x200.0,\x20d)\x20*\x20uDrop;\x0a\x20\x20float\x20dropFlare\x20=\x20smoothstep(0.35,\x200.0,\x20d)\x20*\x20uDropPulse;\x0a\x20\x20vec3\x20crust\x20=\x20rockColor\x20+\x20uForgeColor\x20*\x20(crackPattern\x20+\x20dropHalo\x20*\x203.5\x20+\x20dropFlare\x20*\x205.0);\x0a\x20\x20crust\x20-=\x20rockColor\x20*\x20(0.3\x20*\x20shatterMask);\x0a\x20\x20crust\x20+=\x20lavaColor\x20*\x20(shatterMask\x20*\x200.65);\x0a\x0a\x20\x20color\x20=\x20mix(crust,\x20lavaColor,\x20lavaMask);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','width','_core','dropBloom','_globalHeat','_setupThree','sizes','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0avarying\x20vec3\x20vNormal;\x0avarying\x20vec3\x20vViewPosition;\x0avarying\x20vec3\x20vWorldPos;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uPulse;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUv\x20=\x20uv;\x0a\x20\x20vNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20vWorldPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20vec3\x20pos\x20=\x20position;\x0a\x20\x20float\x20bend\x20=\x20sin(uTime\x20*\x200.5)\x20*\x200.15\x20*\x20uPulse;\x0a\x20\x20if\x20(pos.y\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20pos.x\x20+=\x20pow(pos.y\x20*\x200.06,\x202.0)\x20*\x20bend;\x0a\x20\x20}\x0a\x0a\x20\x20float\x20vibration\x20=\x20sin(uTime\x20*\x2060.0)\x20*\x20(uPulse\x20*\x200.03);\x0a\x20\x20pos\x20+=\x20normal\x20*\x20(vibration\x20+\x20sin(uTime\x20*\x202.0\x20+\x20position.y\x20*\x200.3)\x20*\x20uPulse\x20*\x200.1);\x0a\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(pos,\x201.0);\x0a\x20\x20vViewPosition\x20=\x20-mvPosition.xyz;\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0avarying\x20vec3\x20vNormal;\x0avarying\x20vec3\x20vViewPosition;\x0avarying\x20vec3\x20vWorldPos;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uPulse;\x0auniform\x20float\x20uImpact;\x0auniform\x20float\x20uDrop;\x0auniform\x20vec3\x20uForgeColor;\x0auniform\x20float\x20uOpacity;\x0a\x0afloat\x20hash(vec2\x20p)\x20{\x0a\x20\x20p\x20=\x20fract(p\x20*\x20vec2(123.34,\x20456.21));\x0a\x20\x20p\x20+=\x20dot(p,\x20p\x20+\x2045.32);\x0a\x20\x20return\x20fract(p.x\x20*\x20p.y);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20float\x20a\x20=\x20hash(i);\x0a\x20\x20float\x20b\x20=\x20hash(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20return\x20mix(a,\x20b,\x20u.x)\x20+\x20(c\x20-\x20a)\x20*\x20u.y\x20*\x20(1.0\x20-\x20u.x)\x20+\x20(d\x20-\x20b)\x20*\x20u.x\x20*\x20u.y;\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20v\x20=\x200.0;\x0a\x20\x20float\x20a\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x20{\x0a\x20\x20\x20\x20v\x20+=\x20a\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20*=\x202.0;\x0a\x20\x20\x20\x20a\x20*=\x200.5;\x0a\x20\x20}\x0a\x20\x20return\x20v;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20noiseVal\x20=\x20fract(sin(dot(vUv,\x20vec2(12.9898,\x2078.233)))\x20*\x2043758.5453);\x0a\x20\x20vec3\x20stone\x20=\x20vec3(0.04,\x200.04,\x200.06)\x20-\x20(noiseVal\x20*\x200.02);\x0a\x0a\x20\x20float\x20fractal\x20=\x20fbm(vWorldPos.xy\x20*\x200.15\x20+\x20uTime\x20*\x200.05);\x0a\x20\x20float\x20crack\x20=\x20pow(fractal,\x205.0)\x20*\x2040.0\x20*\x20uImpact;\x0a\x0a\x20\x20float\x20veins\x20=\x20sin(vUv.y\x20*\x2012.0\x20-\x20uTime\x20*\x205.0\x20+\x20vUv.x\x20*\x204.0)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20veins\x20=\x20pow(veins,\x204.0)\x20*\x20pow(vUv.y,\x201.2);\x0a\x0a\x20\x20vec3\x20viewDir\x20=\x20normalize(vViewPosition);\x0a\x20\x20float\x20rim\x20=\x20pow(1.0\x20-\x20max(dot(viewDir,\x20vNormal),\x200.0),\x203.0);\x0a\x0a\x20\x20vec3\x20glow\x20=\x20uForgeColor\x20*\x20(veins\x20*\x20uPulse\x20*\x203.0\x20+\x20rim\x20*\x20uPulse\x20*\x202.0\x20+\x20crack);\x0a\x0a\x20\x20vec3\x20dropRim\x20=\x20vec3(0.9,\x200.88,\x200.85)\x20*\x20rim\x20*\x20uDrop\x20*\x200.7;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(stone\x20+\x20glow\x20+\x20dropRim,\x20uOpacity);\x0a}\x0a','setSize','uTime','lerpColors','getAttribute','flushTrackedGLResources','dropIntensity','_createArchitecture','destroy','spectralFlux','_camera','_sparkMaterial','lookAt','CINEMATIC','PARTICLES','_reflectionGroup','set','config','scale','push','shadow-lit-forge','canvas','clamp','_floorMaterial','_coreReflection','_scene','stereo','lives','GEOMETRY','STEADY','lerp','_coolColor','_reflectionMaterial','_dropActive','life','_floorColor','132eoJPfd','2696390ouqWke','3034269qlNTJZ','_warmColor','_slamActive','TECH','_slamDownDuration','uDrop','undefined','_slamCooldown','3MCshfW','_createArchGroup','74755SMVrbw','Cathedral\x20pillars,\x20a\x20hovering\x20core,\x20and\x20fractal\x20forge\x20cracks\x20that\x20ignite\x20with\x20audio-driven\x20impact\x20waves.','_forgeColor','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20float\x20vLife;\x0auniform\x20vec3\x20uColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20if\x20(d\x20>\x200.5)\x20discard;\x0a\x20\x20float\x20strength\x20=\x20pow(smoothstep(0.5,\x200.0,\x20d),\x202.0);\x0a\x20\x20gl_FragColor\x20=\x20vec4(uColor,\x20strength\x20*\x20vLife);\x0a}\x0a','dropStart','updateProjectionMatrix','uImpact','copy','time','34360QTmgYW','_dropColor','dpr','rotation','isArray','dispose','material','_slamHoldDuration','energy','positionAttr','subBass','bass','_arches','flux','_resetSpark','render','needsUpdate','VIBE','overallEnergy','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20float\x20life;\x0avarying\x20float\x20vLife;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vLife\x20=\x20life;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(500.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','max','geometry','add','_orbitAngle','trackGLCleanup','_cleanupHandle','4090KQwvBc','_slamTimer','uDropPulse','dropPulse','vvavy','now','isFinite','bassEnergy','lifeAttr','cos','_impactFactor'];_0x4e03=function(){return _0x5c52e3;};return _0x4e03();}const y={'savedAt':0x19c4ecec384,'name':'Shadow-Lit\x20Forge','description':_0x1c3ddb(0x104),'tags':[_0x45e91e[_0x1c3ddb(0x11d)][_0x1c3ddb(0x14f)],_0x45e91e[_0x1c3ddb(0x11d)][_0x1c3ddb(0x16a)],_0x45e91e[_0x1c3ddb(0x14d)]['PUNCHY'],_0x45e91e['TEMPO'][_0x1c3ddb(0x17a)],_0x45e91e[_0x1c3ddb(0xfc)]['HD'],_0x45e91e[_0x1c3ddb(0xfc)][_0x1c3ddb(0x16b)],_0x45e91e['TECH'][_0x1c3ddb(0x179)]],'createdBy':_0x1c3ddb(0x12a)},P={'energy':0x0,'bass':0x0,'subBass':0x0,'centroid':0x0,'flux':0x0,'tempo':0x78,'stereo':0x0,'impact':0x0,'pulse':0x0};_0x5e6afc(_0x1c3ddb(0x171),class extends _0x361d31{static ['meta']=y;constructor(_0xc4df0a){const _0x556e95=_0x1c3ddb;super({..._0xc4df0a,'config':{'backgroundColor':'#000000','autoClear':!0x0,..._0xc4df0a?.[_0x556e95(0x16e)]??{}}}),this[_0x556e95(0x142)]=null,this[_0x556e95(0x176)]=null,this[_0x556e95(0x167)]=null,this[_0x556e95(0x148)]=null,this[_0x556e95(0x17d)]=null,this['_floorMaterial']=null,this[_0x556e95(0x168)]=null,this[_0x556e95(0x118)]=[],this[_0x556e95(0x16c)]=null,this['_core']=null,this[_0x556e95(0x175)]=null,this[_0x556e95(0x135)]=null,this[_0x556e95(0x14b)]={...P},this[_0x556e95(0x144)]=0.001*(_0x556e95(0xff)!=typeof performance?performance[_0x556e95(0x12b)]():Date['now']()),this[_0x556e95(0x14a)]=0x0,this[_0x556e95(0x123)]=0x0,this[_0x556e95(0x152)]=0.2,this[_0x556e95(0x130)]=0x0,this[_0x556e95(0x159)]=0x0,this[_0x556e95(0x17e)]=!0x1,this['_slamActive']=!0x1,this[_0x556e95(0x127)]=0x0,this[_0x556e95(0xfd)]=0.45,this['_slamHoldDuration']=1.6,this[_0x556e95(0x140)]=0.7,this[_0x556e95(0x100)]=0x0,this['_lastCoreY']=0x0,this['_forgeColor']=new _0x5514d1(0xff4400),this[_0x556e95(0x17c)]=new _0x5514d1(0x9900ff),this[_0x556e95(0x10d)]=new _0x5514d1(0xff1a1a),this[_0x556e95(0x184)]=new _0x5514d1(0xff3300),this[_0x556e95(0x145)]=new _0x5514d1(0xffaa00),this['_floorColor']=new _0x5514d1(0xff4400),this['_tempVec3']=new _0x10bed4(),this['_cleanupHandle']=null;}[_0x1c3ddb(0x13d)](){const _0x4dd7bc=_0x1c3ddb;this['gl']&&(this[_0x4dd7bc(0x162)](),this[_0x4dd7bc(0x15a)]());}[_0x1c3ddb(0x15a)](){const _0x545abe=_0x1c3ddb;this['_renderer']=new _0x2321c2({'canvas':this[_0x545abe(0x172)],'context':this['gl'],'antialias':!0x0,'powerPreference':'high-performance'}),this[_0x545abe(0x142)]['autoClear']=!0x0,this[_0x545abe(0x142)]['setPixelRatio'](this[_0x545abe(0x10e)]),this[_0x545abe(0x142)][_0x545abe(0x15e)](this['width'],this[_0x545abe(0x136)],!0x1),this[_0x545abe(0x176)]=new _0x11c8f4(),this[_0x545abe(0x176)]['fog']=new _0x5a908b(0x0,0.005),this[_0x545abe(0x167)]=new _0x2932e8(0x3c,Math['max'](0x1,this[_0x545abe(0x156)]/this[_0x545abe(0x136)]),0.1,0x1388),this[_0x545abe(0x148)]=new _0x17ee63({'vertexShader':C,'fragmentShader':M,'transparent':!0x0,'uniforms':{'uTime':{'value':0x0},'uPulse':{'value':0x0},'uImpact':{'value':0x0},'uDrop':{'value':0x0},'uForgeColor':{'value':this['_forgeColor']},'uOpacity':{'value':0x1}}}),this[_0x545abe(0x17d)]=new _0x17ee63({'vertexShader':C,'fragmentShader':M,'transparent':!0x0,'uniforms':{'uTime':{'value':0x0},'uPulse':{'value':0x0},'uImpact':{'value':0x0},'uDrop':{'value':0x0},'uForgeColor':{'value':this['_forgeColor']},'uOpacity':{'value':0.25}}}),this[_0x545abe(0x168)]=new _0x17ee63({'vertexShader':_0x545abe(0x11f),'fragmentShader':_0x545abe(0x106),'transparent':!0x0,'blending':n,'depthWrite':!0x1,'uniforms':{'uColor':{'value':this[_0x545abe(0x145)]}}}),this[_0x545abe(0x174)]=new _0x17ee63({'vertexShader':_0x545abe(0x14c),'fragmentShader':_0x545abe(0x155),'uniforms':{'uTime':{'value':0x0},'uImpact':{'value':0x0},'uPulse':{'value':0x0},'uDrop':{'value':0x0},'uDropPulse':{'value':0x0},'uForgeColor':{'value':this[_0x545abe(0x180)]}}}),this[_0x545abe(0x164)](),this['_createSparks'](),this[_0x545abe(0x13c)](),this['_cleanupHandle']=this[_0x545abe(0x124)](()=>this[_0x545abe(0x13a)]());}[_0x1c3ddb(0x13c)](){const _0x11949a=_0x1c3ddb;if(!this[_0x11949a(0x176)]||!this[_0x11949a(0x174)])return;const _0x620cbf=new _0x43bec2(0x5dc,0x5dc,0x1,0x1),_0x4641e6=new _0x400328(_0x620cbf,this['_floorMaterial']);_0x4641e6['rotation']['x']=-Math['PI']/0x2,_0x4641e6[_0x11949a(0x139)]['y']=0x0,this[_0x11949a(0x176)][_0x11949a(0x122)](_0x4641e6);}[_0x1c3ddb(0x164)](){const _0x210620=_0x1c3ddb;if(!this[_0x210620(0x176)]||!this[_0x210620(0x148)]||!this[_0x210620(0x17d)])return;this[_0x210620(0x118)]=[],this[_0x210620(0x16c)]=new _0x323568(),this[_0x210620(0x176)][_0x210620(0x122)](this['_reflectionGroup']);for(let _0x39edca=0x0;_0x39edca<0x8;_0x39edca+=0x1){const _0x7d759c=_0x39edca/0x8*Math['PI']*0x2,_0x586e56=0x32*Math[_0x210620(0x12f)](_0x7d759c),_0x1fe88b=0x32*Math['sin'](_0x7d759c),_0x4bd556=this[_0x210620(0x102)](this[_0x210620(0x148)]);_0x4bd556['position'][_0x210620(0x16d)](_0x586e56,0x19,_0x1fe88b),_0x4bd556[_0x210620(0x169)](0x0,0x64,0x0),this[_0x210620(0x176)]['add'](_0x4bd556);const _0x135697=this[_0x210620(0x102)](this[_0x210620(0x17d)]);_0x135697[_0x210620(0x139)][_0x210620(0x16d)](_0x586e56,-0x19,_0x1fe88b),_0x135697[_0x210620(0x16f)]['y']=-0x1,_0x135697['lookAt'](0x0,-0x64,0x0),this[_0x210620(0x16c)]['add'](_0x135697),this[_0x210620(0x118)][_0x210620(0x170)]({'group':_0x4bd556,'reflectGroup':_0x135697,'angle':_0x7d759c});}this[_0x210620(0x157)]=new _0x400328(new _0x22225a(0xc,0x4),this['_material']),this[_0x210620(0x176)][_0x210620(0x122)](this['_core']),this['_coreReflection']=this['_core']['clone'](),this['_coreReflection']['material']=this['_reflectionMaterial'],this[_0x210620(0x16c)]['add'](this[_0x210620(0x175)]);}['_createArchGroup'](_0x8ea16f){const _0x507deb=_0x1c3ddb,_0x385e6c=new _0x323568(),_0x56e864=new _0x400328(new _0x49be0b(3.5,0x6e,3.5,0x1,0x40,0x1),_0x8ea16f);_0x385e6c[_0x507deb(0x122)](_0x56e864);const _0x24cf3c=new _0x400328(new _0x237b80(0x1,1.4,0x50,0x10,0x1),_0x8ea16f);return _0x24cf3c[_0x507deb(0x139)][_0x507deb(0x16d)](0x14,-0x1e,0x0),_0x24cf3c[_0x507deb(0x10f)]['z']=0.15*Math['PI'],_0x385e6c[_0x507deb(0x122)](_0x24cf3c),_0x385e6c;}['_createSparks'](){const _0x24de91=_0x1c3ddb;if(!this['_scene']||!this[_0x24de91(0x168)])return;const _0x1b8b97=0x9c4,_0x1ed0f9=new p(),_0x204e9d=new Float32Array(0x1d4c),_0x2abdbb=new Float32Array(_0x1b8b97),_0x5d6911=new Float32Array(_0x1b8b97);for(let _0x258851=0x0;_0x258851<_0x1b8b97;_0x258851+=0x1)this[_0x24de91(0x11a)](_0x258851,_0x204e9d,_0x5d6911,_0x2abdbb);_0x1ed0f9[_0x24de91(0x143)]('position',new _0x16f3c1(_0x204e9d,0x3)),_0x1ed0f9[_0x24de91(0x143)]('size',new _0x16f3c1(_0x2abdbb,0x1)),_0x1ed0f9[_0x24de91(0x143)](_0x24de91(0x17f),new _0x16f3c1(_0x5d6911,0x1));const _0x1b3ec1=new _0x5de00a(_0x1ed0f9,this['_sparkMaterial']);this[_0x24de91(0x176)]['add'](_0x1b3ec1),this[_0x24de91(0x135)]={'points':_0x1b3ec1,'positions':_0x204e9d,'lives':_0x5d6911,'sizes':_0x2abdbb,'positionAttr':_0x1ed0f9[_0x24de91(0x161)](_0x24de91(0x139)),'lifeAttr':_0x1ed0f9[_0x24de91(0x161)](_0x24de91(0x17f)),'count':_0x1b8b97};}[_0x1c3ddb(0x11a)](_0x5c1dba,_0x20cb1e,_0x13b925,_0x4d0cdc){const _0x2ac443=_0x1c3ddb,_0x4ba933=this[_0x2ac443(0x157)]?this['_core'][_0x2ac443(0x139)]['y']:0x0,_0x5adc7d=0x3*_0x5c1dba;_0x20cb1e[_0x5adc7d]=0x28*(Math['random']()-0.5),_0x20cb1e[_0x5adc7d+0x1]=_0x4ba933+0xa*Math[_0x2ac443(0x137)](),_0x20cb1e[_0x5adc7d+0x2]=0x28*(Math['random']()-0.5),_0x13b925[_0x5c1dba]=0.2+0.8*Math[_0x2ac443(0x137)](),_0x4d0cdc[_0x5c1dba]=0x6+0x14*Math[_0x2ac443(0x137)]();}['onResize'](){const _0x4ca080=_0x1c3ddb;this['_renderer']&&this[_0x4ca080(0x167)]&&(this[_0x4ca080(0x142)][_0x4ca080(0x15e)](this[_0x4ca080(0x156)],this[_0x4ca080(0x136)],!0x1),this[_0x4ca080(0x167)]['aspect']=Math[_0x4ca080(0x120)](0x1,this[_0x4ca080(0x156)]/this[_0x4ca080(0x136)]),this['_camera'][_0x4ca080(0x108)]());}['onUpdate'](_0x27d71f){const _0x3b1136=_0x1c3ddb;if(!_0x27d71f)return;const _0x229da4=this[_0x3b1136(0x173)](_0x27d71f['dt']??0x1/0x3c,0x1/0xf0,0.2),_0x1d2bf2=this[_0x3b1136(0x173)](_0x27d71f[_0x3b1136(0x11e)]??_0x27d71f[_0x3b1136(0x114)]??_0x27d71f['rmsTime']??0x0,0x0,1.2),_0x44e1a8=this[_0x3b1136(0x173)](_0x27d71f[_0x3b1136(0x12d)]??0x0,0x0,1.2),_0x598ac3=this['clamp'](_0x27d71f[_0x3b1136(0x13b)]??0x0,0x0,1.2),_0x15eb8b=this[_0x3b1136(0x173)](1.1*(_0x27d71f[_0x3b1136(0x166)]??0x0)+0.4*(_0x27d71f[_0x3b1136(0x151)]??0x0),0x0,1.5),_0x306e14=this[_0x3b1136(0x173)]((_0x27d71f['centroid']??0x1068)/0x2ee0,0x0,0x1),_0x50a9a7=this[_0x3b1136(0x173)](_0x27d71f['tempo']??0x78,0x32,0xc8),_0x2f3c1d=this[_0x3b1136(0x173)](_0x27d71f['stereoSpread']??0x0,0x0,0x1),_0x4cd89b=this[_0x3b1136(0x173)](_0x27d71f?.[_0x3b1136(0x131)]?.[_0x3b1136(0x163)]??_0x27d71f[_0x3b1136(0x163)]??_0x27d71f[_0x3b1136(0x129)]??0x0,0x0,1.5),_0x36dfcb=Boolean(_0x27d71f?.['cues']?.[_0x3b1136(0x107)]||_0x27d71f?.[_0x3b1136(0x131)]?.[_0x3b1136(0x158)])||_0x4cd89b>0.75;if(this[_0x3b1136(0x14b)][_0x3b1136(0x114)]=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)][_0x3b1136(0x114)],_0x1d2bf2,_0x229da4,0.08,0.5),this[_0x3b1136(0x14b)][_0x3b1136(0x117)]=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)][_0x3b1136(0x117)],_0x44e1a8,_0x229da4,0.06,0.45),this[_0x3b1136(0x14b)][_0x3b1136(0x116)]=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)][_0x3b1136(0x116)],_0x598ac3,_0x229da4,0.08,0.5),this[_0x3b1136(0x14b)]['flux']=this[_0x3b1136(0x134)](this['_audio'][_0x3b1136(0x119)],_0x15eb8b,_0x229da4,0.08,0.6),this[_0x3b1136(0x14b)]['centroid']=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)][_0x3b1136(0x141)],_0x306e14,_0x229da4,0.1,0.6),this[_0x3b1136(0x14b)]['tempo']=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)]['tempo'],_0x50a9a7,_0x229da4,0.2,0.8),this['_audio']['stereo']=this[_0x3b1136(0x134)](this[_0x3b1136(0x14b)]['stereo'],_0x2f3c1d,_0x229da4,0.08,0.5),this['_slamCooldown']>0x0&&(this['_slamCooldown']=Math[_0x3b1136(0x120)](0x0,this[_0x3b1136(0x100)]-_0x229da4)),_0x36dfcb&&!this['_slamActive']&&this['_slamCooldown']<=0x0&&(this[_0x3b1136(0x185)]=!0x0,this['_slamTimer']=0x0),this[_0x3b1136(0x185)]){this['_slamTimer']+=_0x229da4;const _0x4af741=this['_slamDownDuration']+this[_0x3b1136(0x113)]+this[_0x3b1136(0x140)];this[_0x3b1136(0x127)]>=_0x4af741&&(this[_0x3b1136(0x185)]=!0x1,this[_0x3b1136(0x127)]=0x0,this[_0x3b1136(0x100)]=1.2);}this['_dropActive']=_0x36dfcb;const _0x4a438e=this['clamp']((this[_0x3b1136(0x14b)][_0x3b1136(0x138)]-0x32)/0x96,0x0,0x1),_0x4388b8=this[_0x3b1136(0x17b)](0.14,0.5,_0x4a438e);this[_0x3b1136(0x152)]=this[_0x3b1136(0x134)](this[_0x3b1136(0x152)],_0x4388b8,_0x229da4,0.2,0.8),this[_0x3b1136(0x123)]+=this[_0x3b1136(0x152)]*_0x229da4;const _0x21ca1e=Number[_0x3b1136(0x12c)](_0x27d71f[_0x3b1136(0x10b)])?_0x27d71f[_0x3b1136(0x10b)]:0.001*(_0x3b1136(0xff)!=typeof performance?performance[_0x3b1136(0x12b)]():Date[_0x3b1136(0x12b)]())-this[_0x3b1136(0x144)];this[_0x3b1136(0x14a)]=_0x21ca1e;}[_0x1c3ddb(0x146)](){const _0x3fef28=_0x1c3ddb;if(!(this[_0x3fef28(0x142)]&&this[_0x3fef28(0x176)]&&this[_0x3fef28(0x167)]&&this['_material']&&this[_0x3fef28(0x174)]))return;const _0x568a45=this[_0x3fef28(0x14a)]??0x0,_0xdd2fe1=0.6*this[_0x3fef28(0x14b)]['energy']+0.4*this['_audio']['bass'];this[_0x3fef28(0x159)]=this[_0x3fef28(0x17b)](this['_globalHeat'],_0xdd2fe1,0.1);const _0x4cfe1=0.2+0.15*this[_0x3fef28(0x14b)][_0x3fef28(0x114)],_0x5b3f23=0.5*Math[_0x3fef28(0x13f)](_0x568a45*_0x4cfe1)+0.5,_0x1fb09f=0x28+_0x5b3f23*(0xdc+0xb4*this[_0x3fef28(0x14b)][_0x3fef28(0x116)]);let _0x348331=_0x1fb09f;const _0x1c5dad=_0x5b3f23<0.2?0x1:0x0;let _0x1a89c4=_0x1c5dad*(0.4+1.4*this[_0x3fef28(0x14b)]['bass']);if(this[_0x3fef28(0x185)]){const _0x51e9ba=this['_slamDownDuration'],_0x112ed8=this[_0x3fef28(0xfd)]+this['_slamHoldDuration'],_0x18d211=_0x112ed8+this['_slamRecoverDuration'];if(this[_0x3fef28(0x127)]<=_0x51e9ba){const _0x46fe3e=this['clamp'](this[_0x3fef28(0x127)]/this[_0x3fef28(0xfd)],0x0,0x1),_0x4f6d04=_0x46fe3e*_0x46fe3e*(0x3-0x2*_0x46fe3e);_0x348331=this[_0x3fef28(0x17b)](_0x1fb09f,0x8,_0x4f6d04);}else{if(this['_slamTimer']<=_0x112ed8)_0x348331=0x8;else{if(this['_slamTimer']<=_0x18d211){const _0x9a52ef=this[_0x3fef28(0x173)]((this[_0x3fef28(0x127)]-_0x112ed8)/this[_0x3fef28(0x140)],0x0,0x1),_0x441850=_0x9a52ef*_0x9a52ef*(0x3-0x2*_0x9a52ef);_0x348331=this[_0x3fef28(0x17b)](0x8,_0x1fb09f,_0x441850);}}}_0x1a89c4=Math[_0x3fef28(0x120)](_0x1a89c4,1.1+0.6*this['_audio'][_0x3fef28(0x117)]);}this[_0x3fef28(0x130)]=this[_0x3fef28(0x17b)](this['_impactFactor'],_0x1a89c4,_0x1c5dad?0.18:0.04),this[_0x3fef28(0x157)]&&(this[_0x3fef28(0x157)][_0x3fef28(0x139)]['y']=_0x348331),this[_0x3fef28(0x175)]&&(this[_0x3fef28(0x175)][_0x3fef28(0x139)]['y']=-_0x348331);const _0xf9576a=0.5*Math[_0x3fef28(0x13f)](0.15*_0x568a45)+0.5,_0x32bb24=this['lerp'](0.25,0.9,this[_0x3fef28(0x14b)][_0x3fef28(0x141)]),_0x5ad3a5=this[_0x3fef28(0x173)](_0xf9576a*_0x32bb24,0x0,0x1);this['_forgeColor'][_0x3fef28(0x160)](this['_coolColor'],this[_0x3fef28(0x184)],_0x5ad3a5),this[_0x3fef28(0x185)]?(this[_0x3fef28(0x105)][_0x3fef28(0x10a)](this[_0x3fef28(0x10d)]),this['_floorColor'][_0x3fef28(0x10a)](this[_0x3fef28(0x10d)]),this[_0x3fef28(0x145)][_0x3fef28(0x10a)](this[_0x3fef28(0x10d)])):(this[_0x3fef28(0x180)]['copy'](this[_0x3fef28(0x105)]),this[_0x3fef28(0x145)][_0x3fef28(0x10a)](this[_0x3fef28(0x105)]));const _0x5db643=this[_0x3fef28(0x130)],_0x100c0c=this['_globalHeat'];this[_0x3fef28(0x148)][_0x3fef28(0x133)]['uTime'][_0x3fef28(0x149)]=_0x568a45,this['_material'][_0x3fef28(0x133)][_0x3fef28(0x150)]['value']=_0x100c0c,this[_0x3fef28(0x148)][_0x3fef28(0x133)][_0x3fef28(0x109)]['value']=_0x5db643,this[_0x3fef28(0x148)][_0x3fef28(0x133)][_0x3fef28(0xfe)][_0x3fef28(0x149)]=this[_0x3fef28(0x185)]?0x1:0x0,this[_0x3fef28(0x17d)][_0x3fef28(0x133)][_0x3fef28(0x15f)][_0x3fef28(0x149)]=_0x568a45,this[_0x3fef28(0x17d)]['uniforms']['uPulse'][_0x3fef28(0x149)]=_0x100c0c,this[_0x3fef28(0x17d)]['uniforms'][_0x3fef28(0x109)][_0x3fef28(0x149)]=_0x5db643,this['_reflectionMaterial']['uniforms'][_0x3fef28(0xfe)][_0x3fef28(0x149)]=this[_0x3fef28(0x185)]?0x1:0x0,this[_0x3fef28(0x174)][_0x3fef28(0x133)][_0x3fef28(0x15f)][_0x3fef28(0x149)]=_0x568a45,this['_floorMaterial'][_0x3fef28(0x133)][_0x3fef28(0x109)][_0x3fef28(0x149)]=_0x5db643,this[_0x3fef28(0x174)]['uniforms'][_0x3fef28(0x150)]['value']=_0x100c0c,this[_0x3fef28(0x174)][_0x3fef28(0x133)]['uDrop'][_0x3fef28(0x149)]=this[_0x3fef28(0x185)]?0x1:0x0;const _0x8c790e=this['_slamActive']?this[_0x3fef28(0x173)](0x1-(this[_0x3fef28(0x127)]-this['_slamDownDuration'])/0.5,0x0,0x1):0x0;this[_0x3fef28(0x174)][_0x3fef28(0x133)][_0x3fef28(0x128)][_0x3fef28(0x149)]=_0x8c790e*_0x8c790e;const _0x425034=0x32*this[_0x3fef28(0x17b)](0.8,1.2,this[_0x3fef28(0x14b)][_0x3fef28(0x177)]);for(let _0x29dc22=0x0;_0x29dc22<this[_0x3fef28(0x118)][_0x3fef28(0x147)];_0x29dc22+=0x1){const {group:_0xc441e6,reflectGroup:_0x58fdff,angle:_0x120693}=this[_0x3fef28(0x118)][_0x29dc22],_0x1ecab3=Math[_0x3fef28(0x12f)](_0x120693)*_0x425034,_0x539391=Math['sin'](_0x120693)*_0x425034;_0xc441e6[_0x3fef28(0x139)][_0x3fef28(0x16d)](_0x1ecab3,0x19,_0x539391),_0xc441e6[_0x3fef28(0x169)](0x0,0x64,0x0),_0x58fdff&&(_0x58fdff['position'][_0x3fef28(0x16d)](_0x1ecab3,-0x19,_0x539391),_0x58fdff[_0x3fef28(0x169)](0x0,-0x64,0x0));}const _0xfaba61=0xb4-0x78*_0x5b3f23,_0x396e6f=Math[_0x3fef28(0x13f)](this[_0x3fef28(0x123)])*_0xfaba61,_0xcedee6=Math[_0x3fef28(0x12f)](this['_orbitAngle'])*_0xfaba61,_0x31f9ad=_0x348331+0x50+0x96*_0x5b3f23,_0x29cd1e=this['_slamActive']?this[_0x3fef28(0x173)](0x1-(this[_0x3fef28(0x127)]-this[_0x3fef28(0xfd)])/0.6,0x0,0x1):0x0;if(this[_0x3fef28(0x154)][_0x3fef28(0x16d)](_0x396e6f,_0x31f9ad-0x23*_0x29cd1e,_0xcedee6),_0x5db643>0.8&&(this[_0x3fef28(0x154)]['x']+=(Math[_0x3fef28(0x137)]()-0.5)*_0x5db643*1.5,this[_0x3fef28(0x154)]['y']+=(Math[_0x3fef28(0x137)]()-0.5)*_0x5db643*1.5),this[_0x3fef28(0x167)][_0x3fef28(0x139)][_0x3fef28(0x10a)](this[_0x3fef28(0x154)]),this[_0x3fef28(0x167)]['lookAt'](0x0,0.7*_0x348331,0x0),this['_lastCoreY']=_0x348331,this['_sparks']){const _0x1311a0=this['_sparks']['positions'],_0x13f81b=this[_0x3fef28(0x135)][_0x3fef28(0x178)],_0x18f948=this['_slamActive']?1.6:0x1,_0x42cb70=0x1+1.6*this[_0x3fef28(0x14b)][_0x3fef28(0x119)],_0x3f6857=0.5*(0x1+this[_0x3fef28(0x159)]+0.5*_0x5db643)*_0x42cb70*_0x18f948,_0xcd03d1=0.012*_0x42cb70;for(let _0x516f12=0x0;_0x516f12<this[_0x3fef28(0x135)]['count'];_0x516f12+=0x1)_0x13f81b[_0x516f12]-=_0xcd03d1,_0x1311a0[0x3*_0x516f12+0x1]+=_0x3f6857,_0x13f81b[_0x516f12]<=0x0&&this['_resetSpark'](_0x516f12,_0x1311a0,_0x13f81b,this[_0x3fef28(0x135)][_0x3fef28(0x15b)]);this[_0x3fef28(0x135)][_0x3fef28(0x115)]['needsUpdate']=!0x0,this[_0x3fef28(0x135)][_0x3fef28(0x12e)][_0x3fef28(0x11c)]=!0x0;}this[_0x3fef28(0x142)]['resetState'](),this[_0x3fef28(0x142)][_0x3fef28(0x11b)](this['_scene'],this[_0x3fef28(0x167)]);}['_disposeScene'](){const _0x374096=_0x1c3ddb;this[_0x374096(0x142)]&&this[_0x374096(0x142)]['dispose'](),this['_scene']&&this[_0x374096(0x176)][_0x374096(0x14e)](_0x591e2b=>{const _0x3404c5=_0x374096;_0x591e2b[_0x3404c5(0x121)]&&_0x591e2b[_0x3404c5(0x121)][_0x3404c5(0x111)]?.(),_0x591e2b[_0x3404c5(0x112)]&&(Array[_0x3404c5(0x110)](_0x591e2b[_0x3404c5(0x112)])?_0x591e2b['material']['forEach'](_0x1eed67=>_0x1eed67[_0x3404c5(0x111)]?.()):_0x591e2b[_0x3404c5(0x112)]['dispose']?.());}),this[_0x374096(0x142)]=null,this[_0x374096(0x176)]=null,this[_0x374096(0x167)]=null,this[_0x374096(0x148)]=null,this['_reflectionMaterial']=null,this['_floorMaterial']=null,this[_0x374096(0x168)]=null,this[_0x374096(0x118)]=[],this[_0x374096(0x16c)]=null,this[_0x374096(0x157)]=null,this[_0x374096(0x175)]=null,this['_sparks']=null,this[_0x374096(0x125)]?.(),this['_cleanupHandle']=null;}[_0x1c3ddb(0x165)](){super['destroy']();}},{'meta':y});
