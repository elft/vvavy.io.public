const _0x1f5784=_0x4f21;(function(_0x4e0df9,_0x3b414b){const _0x9473ee=_0x4f21,_0x2278b9=_0x4e0df9();while(!![]){try{const _0x31c7d4=parseInt(_0x9473ee(0x1d0))/0x1+-parseInt(_0x9473ee(0x1fa))/0x2+-parseInt(_0x9473ee(0x1cc))/0x3+parseInt(_0x9473ee(0x1e7))/0x4+parseInt(_0x9473ee(0x1e0))/0x5+-parseInt(_0x9473ee(0x1d9))/0x6+-parseInt(_0x9473ee(0x1dc))/0x7*(-parseInt(_0x9473ee(0x1e4))/0x8);if(_0x31c7d4===_0x3b414b)break;else _0x2278b9['push'](_0x2278b9['shift']());}catch(_0x926cd6){_0x2278b9['push'](_0x2278b9['shift']());}}}(_0x58ae,0x7f517));class t{constructor({mode:_0x204d00=_0x1f5784(0x1cf),endWindowRatio:_0x44dda6=0.02,minEndWindow:_0x5376a9=0.8,introWindowRatio:_0x29d2d5=0.5,minIntroWindow:_0x1579e3=0.4,startWindowRatio:_0x5160bc=0.08,minStartWindow:_0x2184c1=1.2,startReleaseWindow:_0x200f07=0.6,attack:_0x57bef6=0.12,release:_0x13ebb2=2.8,seekTolerance:_0x50d4b1=0.05}={}){const _0x38c294=_0x1f5784;this['_phase']=0x0,this[_0x38c294(0x1ec)]=0x0,this['_lastMediaTime']=null,this[_0x38c294(0x1ce)]=!0x1,this[_0x38c294(0x1d1)]=_0x38c294(0x1f3)===_0x204d00?_0x38c294(0x1f3):_0x38c294(0x1cf),this[_0x38c294(0x1f2)]=Math[_0x38c294(0x1f5)](_0x57bef6,0.0001),this[_0x38c294(0x1de)]=Math[_0x38c294(0x1f5)](_0x13ebb2,0.0001),this[_0x38c294(0x1f6)]=Math[_0x38c294(0x1f5)](_0x44dda6,0x0),this['_minEndWindow']=Math[_0x38c294(0x1f5)](_0x5376a9,0x0),this['_introWindowRatio']=Math[_0x38c294(0x1f5)](_0x29d2d5,0x0),this['_minIntroWindow']=Math[_0x38c294(0x1f5)](_0x1579e3,0x0),this[_0x38c294(0x1cd)]=Math[_0x38c294(0x1f5)](_0x5160bc,0x0),this[_0x38c294(0x1e5)]=Math['max'](_0x2184c1,0x0),this[_0x38c294(0x1f9)]=Math['max'](_0x200f07,0x0),this[_0x38c294(0x1d4)]=Math['max'](_0x50d4b1,0.001);}[_0x1f5784(0x1fb)](){const _0xe5006d=_0x1f5784;this['_phase']=0x0,this['_target']=0x0,this[_0xe5006d(0x1d2)]=null,this[_0xe5006d(0x1ce)]=!0x1;}[_0x1f5784(0x1e8)](_0xc1ae36){const _0x2d929d=_0x1f5784;if(!_0xc1ae36)return;const _0x49d41c=Number[_0x2d929d(0x1e2)](_0xc1ae36[_0x2d929d(0x1ed)])?_0xc1ae36['mediaTime']:null,_0x32bf65=Number['isFinite'](_0xc1ae36['mediaDuration'])?_0xc1ae36[_0x2d929d(0x1e1)]:null,_0x57e086=Boolean(_0xc1ae36['mediaPaused']);null!=_0x49d41c&&(null!=this['_lastMediaTime']&&_0x49d41c+this['_seekTolerance']<this[_0x2d929d(0x1d2)]&&!_0x57e086&&(this[_0x2d929d(0x1ce)]=!0x1,this[_0x2d929d(0x1ec)]=0x0),this[_0x2d929d(0x1d2)]=_0x49d41c),null==_0x32bf65||_0x32bf65<=0x0||null==_0x49d41c||(_0x2d929d(0x1cf)===this[_0x2d929d(0x1d1)]?this[_0x2d929d(0x1f7)](_0x49d41c,_0x32bf65):this['_updateIntro'](_0x49d41c,_0x32bf65));}[_0x1f5784(0x1dd)](_0x2fd50c){const _0x3c00a7=_0x1f5784,_0xfa2a26=this[_0x3c00a7(0x1e6)](_0x2fd50c??0x1/0x3c,0x1/0xf0,0.25);return this[_0x3c00a7(0x1c8)]=this[_0x3c00a7(0x1db)](this[_0x3c00a7(0x1c8)],this[_0x3c00a7(0x1ec)],_0xfa2a26,this[_0x3c00a7(0x1f2)],this[_0x3c00a7(0x1de)]),this[_0x3c00a7(0x1c8)];}get[_0x1f5784(0x1e9)](){const _0x91f809=_0x1f5784;return this[_0x91f809(0x1c8)];}get[_0x1f5784(0x1eb)](){return this['_target'];}[_0x1f5784(0x1f7)](_0x29797a,_0x146539){const _0x2a4b13=_0x1f5784,_0xd54b3a=_0x146539-_0x29797a,_0x14c835=Math[_0x2a4b13(0x1f5)](this[_0x2a4b13(0x1c9)],_0x146539*this[_0x2a4b13(0x1f6)]);if(!this[_0x2a4b13(0x1ce)]&&_0xd54b3a<=_0x14c835)return this[_0x2a4b13(0x1ec)]=0x1,void(this['_triggered']=!0x0);const _0x28e1f=_0x29797a<=Math['max'](this['_minIntroWindow'],_0x14c835*this[_0x2a4b13(0x1f4)]);this[_0x2a4b13(0x1ce)]&&_0x28e1f&&(this[_0x2a4b13(0x1ce)]=!0x1,this[_0x2a4b13(0x1ec)]=0x0);}[_0x1f5784(0x1d6)](_0x23b32b,_0x5e3fe8){const _0x42319b=_0x1f5784,_0x5b2831=Math[_0x42319b(0x1f5)](this[_0x42319b(0x1e5)],_0x5e3fe8*this[_0x42319b(0x1cd)]||this[_0x42319b(0x1e5)]),_0x3d50a7=Math['max'](this['_startReleaseWindow'],0.001);if(_0x23b32b<=_0x5b2831+_0x3d50a7){const _0x5cc631=0x1-this[_0x42319b(0x1e6)](_0x23b32b/Math['max'](_0x5b2831,0.001),0x0,0x1),_0x9521db=this['_clamp']((_0x23b32b-_0x5b2831)/_0x3d50a7,0x0,0x1);return void(this['_target']=this[_0x42319b(0x1e6)](Math[_0x42319b(0x1f5)](_0x5cc631,0x1-_0x9521db),0x0,0x1));}this[_0x42319b(0x1ec)]=0x0,this['_triggered']=!0x0;}[_0x1f5784(0x1db)](_0x334a01,_0xd34b6a,_0x529d18,_0x221025,_0x248cdb){const _0x224e68=_0x1f5784,_0x16abc5=0x1-Math[_0x224e68(0x1f8)](-_0x529d18/Math[_0x224e68(0x1f5)](_0x221025,0.00001)),_0x45f83e=0x1-Math[_0x224e68(0x1f8)](-_0x529d18/Math[_0x224e68(0x1f5)](_0x248cdb,0.00001));return _0x334a01<_0xd34b6a?_0x334a01+(_0xd34b6a-_0x334a01)*_0x16abc5:_0x334a01+(_0xd34b6a-_0x334a01)*_0x45f83e;}[_0x1f5784(0x1e6)](_0x1ce55b,_0x3f7e68,_0x404d79){const _0x178c25=_0x1f5784;return Math[_0x178c25(0x1f5)](_0x3f7e68,Math['min'](_0x404d79,_0x1ce55b));}}function _0x4f21(_0x43974c,_0x8667ad){const _0x58ae78=_0x58ae();return _0x4f21=function(_0x4f219f,_0xfa1417){_0x4f219f=_0x4f219f-0x1c8;let _0x1c83d0=_0x58ae78[_0x4f219f];return _0x1c83d0;},_0x4f21(_0x43974c,_0x8667ad);}function _0x58ae(){const _0x543855=['_introWindowRatio','max','_endWindowRatio','_updateOutro','exp','_startReleaseWindow','1160176WyqXXu','reset','_phase','_minEndWindow','outroPhase','includes','2247126qDPrTj','_startWindowRatio','_triggered','outro','284337PYlozY','_mode','_lastMediaTime','introPhase','_seekTolerance','uCollapsePhase','_updateIntro','_phases','getPhases','5560638uqtjLo','precision\x20highp\x20float;','_attackRelease','7axYwgc','step','_release','replace','4521760KKRyoL','mediaDuration','isFinite','_introController','8556056QHJhUo','_minStartWindow','_clamp','2076808UwtcgV','update','phase','precision\x20lowp\x20float;','target','_target','mediaTime','applyUniforms','_outroController','uniform1f','precision\x20mediump\x20float;','_attack','intro'];_0x58ae=function(){return _0x543855;};return _0x58ae();}var e='#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0a//\x20Shared\x20shader\x20helpers\x20for\x20intro/outro\x20collapse\x20distortion.\x20Include\x20this\x0a//\x20chunk\x20before\x20your\x20fragment\x20shader\x20main()\x20and\x20call\x20the\x20helpers\x20as\x20needed.\x0a#ifndef\x20VVAVY_TIMELINE_COLLAPSE_CHUNK\x0a#define\x20VVAVY_TIMELINE_COLLAPSE_CHUNK\x0a\x0avec2\x20applyIntroCollapseUv(vec2\x20uv,\x20float\x20introPhase,\x20out\x20float\x20introRadius)\x20{\x0a\x20\x20float\x20intro\x20=\x20clamp(introPhase,\x200.0,\x201.0);\x0a\x20\x20float\x20introEase\x20=\x20smoothstep(0.0,\x201.0,\x20intro);\x0a\x20\x20float\x20radius\x20=\x20length(uv);\x0a\x20\x20introRadius\x20=\x20radius;\x0a\x20\x20if\x20(radius\x20>\x201e-4)\x20{\x0a\x20\x20\x20\x20vec2\x20dir\x20=\x20normalize(uv);\x0a\x20\x20\x20\x20float\x20pinch\x20=\x20pow(radius\x20+\x201e-3,\x20mix(1.0,\x201.8,\x20introEase));\x0a\x20\x20\x20\x20vec2\x20inward\x20=\x20dir\x20*\x20pinch;\x0a\x20\x20\x20\x20vec2\x20outward\x20=\x20dir\x20*\x20(radius\x20+\x20introEase\x20*\x200.45);\x0a\x20\x20\x20\x20uv\x20=\x20mix(uv,\x20inward,\x20introEase\x20*\x200.8);\x0a\x20\x20\x20\x20uv\x20=\x20mix(uv,\x20outward,\x20introEase\x20*\x200.6);\x0a\x20\x20}\x0a\x20\x20return\x20uv;\x0a}\x0a\x0avec2\x20applyOutroCollapseUv(vec2\x20uv,\x20float\x20collapsePhase,\x20out\x20float\x20collapseRadius)\x20{\x0a\x20\x20float\x20collapse\x20=\x20clamp(collapsePhase,\x200.0,\x201.0);\x0a\x20\x20float\x20collapseEase\x20=\x20smoothstep(0.0,\x201.0,\x20collapse);\x0a\x20\x20float\x20radius\x20=\x20length(uv);\x0a\x20\x20collapseRadius\x20=\x20radius;\x0a\x20\x20if\x20(radius\x20>\x201e-4)\x20{\x0a\x20\x20\x20\x20vec2\x20dir\x20=\x20normalize(uv);\x0a\x20\x20\x20\x20float\x20inward\x20=\x20pow(radius,\x20mix(1.0,\x200.35,\x20collapseEase));\x0a\x20\x20\x20\x20vec2\x20inwardSpiral\x20=\x20dir\x20*\x20inward;\x0a\x20\x20\x20\x20vec2\x20coreBloom\x20=\x20dir\x20*\x20mix(radius,\x200.0,\x20collapseEase);\x0a\x20\x20\x20\x20uv\x20=\x20mix(uv,\x20inwardSpiral,\x20collapseEase);\x0a\x20\x20\x20\x20uv\x20+=\x20coreBloom\x20*\x20collapseEase\x20*\x200.35;\x0a\x20\x20}\x0a\x20\x20return\x20uv;\x0a}\x0a\x0a#endif\x20//\x20VVAVY_TIMELINE_COLLAPSE_CHUNK\x0a';const i=[_0x1f5784(0x1da),_0x1f5784(0x1f1),_0x1f5784(0x1ea)];function a(_0x5d4796){const _0x3779ec=_0x1f5784,_0x2782ed='string'==typeof _0x5d4796?_0x5d4796:'';if(_0x2782ed[_0x3779ec(0x1cb)]('VVAVY_TIMELINE_COLLAPSE_CHUNK'))return _0x2782ed;const _0x412c14=i['find'](_0x497208=>_0x2782ed['includes'](_0x497208));return _0x412c14?_0x2782ed[_0x3779ec(0x1df)](_0x412c14,_0x412c14+'\x0a'+e+'\x0a'):e+'\x0a'+_0x2782ed;}class s{constructor({intro:_0x5ebfd7={},outro:_0x19abd5={}}={}){const _0x43edf9=_0x1f5784;this[_0x43edf9(0x1e3)]=new t({'mode':'intro',..._0x5ebfd7}),this[_0x43edf9(0x1ef)]=new t({'mode':_0x43edf9(0x1cf),..._0x19abd5}),this[_0x43edf9(0x1d7)]={'introPhase':0x0,'outroPhase':0x0};}['reset'](){const _0x55e1e4=_0x1f5784;this[_0x55e1e4(0x1e3)][_0x55e1e4(0x1fb)](),this[_0x55e1e4(0x1ef)][_0x55e1e4(0x1fb)](),this[_0x55e1e4(0x1d7)]['introPhase']=0x0,this['_phases'][_0x55e1e4(0x1ca)]=0x0;}['update'](_0x26d74e){const _0x38c837=_0x1f5784;this['_introController'][_0x38c837(0x1e8)](_0x26d74e),this[_0x38c837(0x1ef)]['update'](_0x26d74e);}['step'](_0xddf88b){const _0x1bf8b0=_0x1f5784;return this[_0x1bf8b0(0x1d7)]['introPhase']=this[_0x1bf8b0(0x1e3)][_0x1bf8b0(0x1dd)](_0xddf88b),this[_0x1bf8b0(0x1d7)][_0x1bf8b0(0x1ca)]=this['_outroController'][_0x1bf8b0(0x1dd)](_0xddf88b),this[_0x1bf8b0(0x1d7)];}[_0x1f5784(0x1d8)](){const _0x359f9b=_0x1f5784;return this[_0x359f9b(0x1d7)];}[_0x1f5784(0x1ee)](_0x512c03,_0x2adf5e={}){const _0x5e1957=_0x1f5784;if(!_0x512c03)return;const _0xd978c5=_0x2adf5e['intro']??_0x2adf5e['uIntroCollapsePhase']??null,_0x5c2659=_0x2adf5e[_0x5e1957(0x1cf)]??_0x2adf5e[_0x5e1957(0x1d5)]??null;_0xd978c5&&_0x512c03['uniform1f'](_0xd978c5,this[_0x5e1957(0x1d7)][_0x5e1957(0x1d3)]),_0x5c2659&&_0x512c03[_0x5e1957(0x1f0)](_0x5c2659,this['_phases'][_0x5e1957(0x1ca)]);}}export{s as T,a as w};
