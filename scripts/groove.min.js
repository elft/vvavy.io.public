const _0x2526d0=_0x297b;function _0x297b(_0x33fdb1,_0x456324){const _0x5863a2=_0x5863();return _0x297b=function(_0x297b14,_0x5bc6e0){_0x297b14=_0x297b14-0x1ab;let _0x1de6a0=_0x5863a2[_0x297b14];return _0x1de6a0;},_0x297b(_0x33fdb1,_0x456324);}(function(_0x52e3a7,_0x18055a){const _0x63b953=_0x297b,_0x7a6a44=_0x52e3a7();while(!![]){try{const _0x110b1f=-parseInt(_0x63b953(0x230))/0x1+parseInt(_0x63b953(0x226))/0x2*(parseInt(_0x63b953(0x227))/0x3)+-parseInt(_0x63b953(0x218))/0x4+parseInt(_0x63b953(0x1b9))/0x5+parseInt(_0x63b953(0x1b5))/0x6+-parseInt(_0x63b953(0x1ee))/0x7*(parseInt(_0x63b953(0x1b0))/0x8)+-parseInt(_0x63b953(0x23c))/0x9*(-parseInt(_0x63b953(0x242))/0xa);if(_0x110b1f===_0x18055a)break;else _0x7a6a44['push'](_0x7a6a44['shift']());}catch(_0x2b5bd4){_0x7a6a44['push'](_0x7a6a44['shift']());}}}(_0x5863,0x4be6b));function _0x5863(){const _0x269c47=['_attributes','TEXTURE_MIN_FILTER','505755KCzeUB','_buildResources','flowX','nodeType','uniform2f','texture','TEMPO','INTERACTIVE','_uniforms','RGBA','STATUS','uResolution','uWarpStrength','onRender','flushTrackedGLResources','deleteTexture','framebufferTexture2D','vvavy','u_volume','uWarpDir','autoDispose','values','closest','_targetHeight','flowYTarget','texImage2D','height','_flowDirection','length','bindFramebuffer','present','uniform1i','densityScale','_beatCooldown','.footer-bar','_targetScale','deleteFramebuffer','_verticalDirection','u_warpStrength','CLAMP_TO_EDGE','[data-role=\x22cast-overlay\x22]','sign','sum','getUniformLocation','isFinite','flowY','addEventListener','fbo','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','_boundHandlePointer','shift','ONE','FRAMEBUFFER','4025msQZnn','VIBE','releaseGLResource','_pointerUnsub','parentElement','undefined','flowXTarget','uZoom','beatConfidence','_setupInteractions','_resizeTargets','DEPTH_TEST','now','TEXTURE0','_updateVolumeHistory','uFeedback','TEXTURE_2D','rmsTime','_audioTime','overallEnergy','_presentProgram','left','MID','_pointerLastAt','texParameteri','drawingBufferHeight','LINEAR','CULL_FACE','_createTarget','_writeTarget','_computeTargetScale','meta','aPosition','activeTexture','_readTarget','top','bind','u_buffer','click','uniform1f','drawingBufferWidth','uTime','853656qGUepm','_quadBuffer','TECH','clientX','TRIPPY','right','max','groove','_feedbackProgram','clamp','pointermove','u_warpDirection','floor','_destroyTarget','107458COzLgc','6ChcNkv','UNSIGNED_BYTE','_pointerBias','lastVolume','getBoundingClientRect','blendFunc','TEXTURE_WRAP_S','uVolume','FRAMEBUFFER_COMPLETE','43146mdzucr','onResize','_lastRenderAt','STENCIL_TEST','uScene','_createDefaultState','POPULAR','shortEdge','_ensureTargets','COLOR_ATTACHMENT0','push','pow','419346oyvnxO','_volumeHistory','ENERGY','feedback','GEOMETRY','config','30UgYlfA','_swapTargets','clientY','target','_pointerIdleSeconds','#000000','bindTexture','disable','width','createProgram','_targetWidth','canvas','viewport','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','init','_state','checkFramebufferStatus','destroy','removeEventListener','lerp','1224mARuXC','createFramebuffer','getViewportProfile','getAttribLocation','useProgram','1842210xZFncA','GROOVY'];_0x5863=function(){return _0x269c47;};return _0x5863();}import{W as _0x199ef0,V as _0x4f0893,r as _0x1062bb}from'./main.min.js';import{b as _0x947e06,d as _0x5e91ad,c as _0x31f31e}from'./fullscreen-quad.min.js';var n='#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a';class a extends _0x199ef0{static [_0x2526d0(0x20d)]={'savedAt':0x19c5969cbe3,'createdBy':_0x2526d0(0x1ca),'description':'Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','tags':[_0x4f0893[_0x2526d0(0x21a)][_0x2526d0(0x240)],_0x4f0893[_0x2526d0(0x1ef)][_0x2526d0(0x21c)],_0x4f0893[_0x2526d0(0x23e)][_0x2526d0(0x204)],_0x4f0893[_0x2526d0(0x1bf)][_0x2526d0(0x1b6)],_0x4f0893[_0x2526d0(0x21a)]['HD'],_0x4f0893['TECH'][_0x2526d0(0x1c0)],_0x4f0893[_0x2526d0(0x1c3)][_0x2526d0(0x236)]]};constructor(_0x1f12a0){const _0x10f75b=_0x2526d0;super({..._0x1f12a0,'config':{..._0x1f12a0?.[_0x10f75b(0x241)]??{},'backgroundColor':_0x10f75b(0x247)}}),this[_0x10f75b(0x220)]=null,this['_presentProgram']=null,this[_0x10f75b(0x1c1)]={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0x10f75b(0x219)]=null,this[_0x10f75b(0x210)]=null,this[_0x10f75b(0x20b)]=null,this[_0x10f75b(0x24c)]=0x0,this['_targetHeight']=0x0,this[_0x10f75b(0x1dc)]=0.8,this[_0x10f75b(0x232)]=null,this[_0x10f75b(0x200)]=0x0,this['_beatCooldown']=0x0,this[_0x10f75b(0x1d4)]=0x1,this[_0x10f75b(0x1de)]=0x0,this[_0x10f75b(0x23d)]={'values':[],'sum':0x0,'max':0x3c},this['_pointerBias']={'x':0x0,'y':0x0},this['_pointerLastAt']=0x0,this['_pointerIdleSeconds']=0.6,this[_0x10f75b(0x1f1)]=null,this['_state']=this[_0x10f75b(0x235)]();}[_0x2526d0(0x250)](){const _0x25eb6c=_0x2526d0,_0x21ad08=this['gl'];if(!_0x21ad08)return;_0x21ad08[_0x25eb6c(0x249)](_0x21ad08[_0x25eb6c(0x1f9)]),_0x21ad08[_0x25eb6c(0x249)](_0x21ad08[_0x25eb6c(0x209)]),_0x21ad08['disable'](_0x21ad08[_0x25eb6c(0x233)]),_0x21ad08[_0x25eb6c(0x22c)](_0x21ad08[_0x25eb6c(0x1ec)],_0x21ad08['ZERO']),this['_buildResources'](_0x21ad08),this[_0x25eb6c(0x1dc)]=this[_0x25eb6c(0x20c)]();const _0x31be51=_0x21ad08[_0x25eb6c(0x216)]||this['width']||this['canvas']?.[_0x25eb6c(0x24a)]||0x1,_0x372236=_0x21ad08[_0x25eb6c(0x207)]||this[_0x25eb6c(0x1d3)]||this['canvas']?.['height']||0x1;this[_0x25eb6c(0x24c)]=Math[_0x25eb6c(0x21e)](0x8,Math[_0x25eb6c(0x224)](_0x31be51*this[_0x25eb6c(0x1dc)])),this[_0x25eb6c(0x1d0)]=Math[_0x25eb6c(0x21e)](0x8,Math[_0x25eb6c(0x224)](_0x372236*this[_0x25eb6c(0x1dc)])),this['_resizeTargets'](!0x0),this['_audioTime']=0x0,this[_0x25eb6c(0x232)]=null,this[_0x25eb6c(0x1f7)]();}['destroy'](){const _0x336750=_0x2526d0;this[_0x336750(0x1c7)](),this['_pointerUnsub']?.(),this[_0x336750(0x1f1)]=null,this['_writeTarget']=null,super[_0x336750(0x1ad)]();}['resetState'](){const _0x191235=_0x2526d0;this[_0x191235(0x200)]=0x0,this[_0x191235(0x232)]=null,this['_beatCooldown']=0x0,this[_0x191235(0x1d4)]=0x1,this['_verticalDirection']=0x0,this[_0x191235(0x23d)]={'values':[],'sum':0x0,'max':0x3c},this[_0x191235(0x229)]={'x':0x0,'y':0x0},this[_0x191235(0x205)]=0x0,this[_0x191235(0x1ab)]=this['_createDefaultState'](),this['flushTrackedGLResources'](),this['_readTarget']=null,this[_0x191235(0x20b)]=null,this[_0x191235(0x220)]=null,this['_presentProgram']=null,this['_quadBuffer']=null,this['gl']&&this[_0x191235(0x1f8)](!0x0);}[_0x2526d0(0x231)](){const _0x4abbf9=_0x2526d0;super[_0x4abbf9(0x231)]?.(),this[_0x4abbf9(0x1dc)]=this[_0x4abbf9(0x20c)]();const _0x115475=this['gl'],_0xcb7365=_0x115475?.[_0x4abbf9(0x216)]||this[_0x4abbf9(0x24a)]||this[_0x4abbf9(0x24d)]?.[_0x4abbf9(0x24a)]||0x1,_0x2d5bf2=_0x115475?.[_0x4abbf9(0x207)]||this[_0x4abbf9(0x1d3)]||this['canvas']?.['height']||0x1;this[_0x4abbf9(0x24c)]=Math['max'](0x8,Math[_0x4abbf9(0x224)](_0xcb7365*this[_0x4abbf9(0x1dc)])),this[_0x4abbf9(0x1d0)]=Math[_0x4abbf9(0x21e)](0x8,Math[_0x4abbf9(0x224)](_0x2d5bf2*this[_0x4abbf9(0x1dc)])),this['_resizeTargets'](!0x0);}[_0x2526d0(0x1f7)](){const _0x50c917=_0x2526d0,_0x2ee65b=this[_0x50c917(0x24d)]?.[_0x50c917(0x1f2)]||(_0x50c917(0x1f3)!=typeof window?window:null);_0x2ee65b&&(this[_0x50c917(0x1ea)]=this['_boundHandlePointer']||this['_handlePointer']['bind'](this),_0x2ee65b[_0x50c917(0x1e7)](_0x50c917(0x222),this[_0x50c917(0x1ea)]),_0x2ee65b['addEventListener']('pointerdown',this[_0x50c917(0x1ea)]),_0x2ee65b[_0x50c917(0x1e7)](_0x50c917(0x214),this[_0x50c917(0x1ea)]),this[_0x50c917(0x1f1)]=()=>{const _0x210d1e=_0x50c917;_0x2ee65b[_0x210d1e(0x1ae)]('pointermove',this[_0x210d1e(0x1ea)]),_0x2ee65b[_0x210d1e(0x1ae)]('pointerdown',this[_0x210d1e(0x1ea)]),_0x2ee65b[_0x210d1e(0x1ae)]('click',this[_0x210d1e(0x1ea)]);});}['_handlePointer'](_0x33fc4e){const _0x27ce8b=_0x2526d0;if(!this[_0x27ce8b(0x24d)])return;const _0x449892=this[_0x27ce8b(0x24d)][_0x27ce8b(0x22b)]();if(_0x33fc4e[_0x27ce8b(0x21b)]<_0x449892[_0x27ce8b(0x203)]||_0x33fc4e[_0x27ce8b(0x21b)]>_0x449892[_0x27ce8b(0x21d)]||_0x33fc4e[_0x27ce8b(0x244)]<_0x449892[_0x27ce8b(0x211)]||_0x33fc4e[_0x27ce8b(0x244)]>_0x449892['bottom'])return;const _0x11aa8e=_0x33fc4e[_0x27ce8b(0x245)];if(_0x11aa8e&&0x1===_0x11aa8e[_0x27ce8b(0x1bc)]&&(_0x11aa8e[_0x27ce8b(0x1cf)](_0x27ce8b(0x1db))||_0x11aa8e[_0x27ce8b(0x1cf)](_0x27ce8b(0x1e1))))return;const _0x37f7a7=_0x449892[_0x27ce8b(0x24a)],_0x3b98d1=_0x449892[_0x27ce8b(0x1d3)];if(!_0x37f7a7||!_0x3b98d1)return;const _0x7c169e=0x2*((_0x33fc4e[_0x27ce8b(0x21b)]-_0x449892[_0x27ce8b(0x203)])/_0x37f7a7-0.5),_0x251472=0x2*(0.5-(_0x33fc4e[_0x27ce8b(0x244)]-_0x449892['top'])/_0x3b98d1);this['_pointerBias']={'x':this['clamp'](_0x7c169e,-0x1,0x1),'y':this['clamp'](_0x251472,-0x1,0x1)},this['_pointerLastAt']=_0x27ce8b(0x1f3)!=typeof performance?0.001*performance['now']():Date[_0x27ce8b(0x1fa)]()/0x3e8;}['onUpdate'](_0x315e52){const _0x3c0c19=_0x2526d0;if(!_0x315e52)return;const _0x5990d0=this['clamp'](_0x315e52['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x6d7d34=Number[_0x3c0c19(0x1e5)](_0x5990d0)?_0x5990d0:0x1/0x3c,_0x52e303=this[_0x3c0c19(0x221)](1.5*(_0x315e52[_0x3c0c19(0x201)]??_0x315e52[_0x3c0c19(0x1ff)]??0x0),0x0,1.4);this[_0x3c0c19(0x1ab)][_0x3c0c19(0x22a)]=_0x52e303,this['_updateVolumeHistory'](_0x52e303);const _0x469226=this[_0x3c0c19(0x23d)][_0x3c0c19(0x1ce)][_0x3c0c19(0x1d5)]?this[_0x3c0c19(0x23d)][_0x3c0c19(0x1e3)]/this[_0x3c0c19(0x23d)]['values'][_0x3c0c19(0x1d5)]:_0x52e303,_0x554556=(_0x469226>0.001?(_0x52e303-_0x469226)/_0x469226:0x0)>0.05?0x1:-0x1;_0x554556!==this[_0x3c0c19(0x1de)]&&(this[_0x3c0c19(0x1de)]=_0x554556,this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1d1)]=0.5*_0x554556);const _0x5c83b2=this['clamp'](_0x315e52[_0x3c0c19(0x1f6)]??0x0,0x0,0x1);Boolean(_0x315e52['isBeat'])&&_0x5c83b2>0.3&&this['_beatCooldown']<=0x0&&(this[_0x3c0c19(0x1d4)]*=-0x1,this[_0x3c0c19(0x1d4)]!==Math[_0x3c0c19(0x1e2)](this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1f4)]||0x0)&&(this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1f4)]=0.5*this[_0x3c0c19(0x1d4)]),this[_0x3c0c19(0x1da)]=0.22),this[_0x3c0c19(0x1da)]=Math[_0x3c0c19(0x21e)](0x0,this[_0x3c0c19(0x1da)]-_0x6d7d34);const _0x5db10d=('undefined'!=typeof performance?0.001*performance[_0x3c0c19(0x1fa)]():Date[_0x3c0c19(0x1fa)]()/0x3e8)-(this[_0x3c0c19(0x205)]||0x0)<this[_0x3c0c19(0x246)],_0x53f2a0=0x3c*_0x6d7d34,_0x4d7543=0x1-Math[_0x3c0c19(0x23b)](0.92,_0x53f2a0),_0x5aba44=0x1-Math[_0x3c0c19(0x23b)](0.95,_0x53f2a0);_0x5db10d||(this[_0x3c0c19(0x229)]['x']=this[_0x3c0c19(0x1af)](this[_0x3c0c19(0x229)]['x'],0x0,_0x4d7543),this[_0x3c0c19(0x229)]['y']=this['lerp'](this[_0x3c0c19(0x229)]['y'],0x0,_0x4d7543));const _0x279bcb=this[_0x3c0c19(0x221)](this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1f4)]+(_0x5db10d?this[_0x3c0c19(0x229)]['x']:0x0),-0x1,0x1),_0x55dfb1=this['clamp'](this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1d1)]+(_0x5db10d?this['_pointerBias']['y']:0x0),-0x1,0x1);this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1bb)]=this[_0x3c0c19(0x1af)](this['_state'][_0x3c0c19(0x1bb)],_0x279bcb,_0x5aba44),this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1e6)]=this[_0x3c0c19(0x1af)](this[_0x3c0c19(0x1ab)][_0x3c0c19(0x1e6)],_0x55dfb1,_0x5aba44);}[_0x2526d0(0x1c6)](){const _0x233857=_0x2526d0,_0x3a0ffe=this['gl'];if(!_0x3a0ffe||!this[_0x233857(0x24d)])return;if(!this[_0x233857(0x220)]||!this[_0x233857(0x202)]||!this[_0x233857(0x219)])try{this[_0x233857(0x1ba)](_0x3a0ffe),this[_0x233857(0x1f8)](!0x0);}catch{return;}const _0x24f4b2=_0x233857(0x1f3)!=typeof performance?0.001*performance[_0x233857(0x1fa)]():Date[_0x233857(0x1fa)]()/0x3e8,_0x2c1798=this[_0x233857(0x232)]?_0x24f4b2-this[_0x233857(0x232)]:0x1/0x3c,_0x253dd9=this['clamp'](_0x2c1798,0x1/0xf0,0.2);this['_lastRenderAt']=_0x24f4b2,this['_audioTime']+=_0x253dd9;const _0x4d0672=_0x3a0ffe['drawingBufferWidth']||this['canvas']?.[_0x233857(0x24a)]||0x1,_0x22120e=_0x3a0ffe[_0x233857(0x207)]||this[_0x233857(0x24d)]?.[_0x233857(0x1d3)]||0x1;if(_0x4d0672<=0x0||_0x22120e<=0x0)return;const _0x21731b=this['_targetScale']||0.8,_0x473873=Math[_0x233857(0x21e)](0x8,Math[_0x233857(0x224)](_0x4d0672*_0x21731b)),_0x4a70ff=Math[_0x233857(0x21e)](0x8,Math[_0x233857(0x224)](_0x22120e*_0x21731b));this[_0x233857(0x238)](_0x473873,_0x4a70ff);const _0x2e7913=this[_0x233857(0x210)],_0x9050e4=this[_0x233857(0x20b)];if(!_0x2e7913||!_0x9050e4)return;_0x3a0ffe[_0x233857(0x24e)](0x0,0x0,_0x473873,_0x4a70ff),_0x3a0ffe[_0x233857(0x1d6)](_0x3a0ffe['FRAMEBUFFER'],_0x9050e4[_0x233857(0x1e8)]),_0x3a0ffe[_0x233857(0x1b4)](this['_feedbackProgram']),_0x947e06(_0x3a0ffe,this[_0x233857(0x219)],this[_0x233857(0x1b7)]['aPosition']??0x0);const _0x111481=this[_0x233857(0x1c1)]['feedback'];if(_0x111481?.[_0x233857(0x1c4)]&&_0x3a0ffe[_0x233857(0x1bd)](_0x111481[_0x233857(0x1c4)],_0x473873,_0x4a70ff),_0x111481?.[_0x233857(0x217)]&&_0x3a0ffe[_0x233857(0x215)](_0x111481['uTime'],this[_0x233857(0x200)]),_0x111481?.['uFeedback']&&_0x3a0ffe['uniform1f'](_0x111481[_0x233857(0x1fd)],0.97),_0x111481?.[_0x233857(0x1cc)]&&_0x3a0ffe[_0x233857(0x1bd)](_0x111481['uWarpDir'],this[_0x233857(0x1ab)]['flowX'],this['_state'][_0x233857(0x1e6)]),_0x111481?.[_0x233857(0x1f5)]){const _0x2ed913=this['getViewportProfile']()[_0x233857(0x237)]<0x384?1.4:0x1;_0x3a0ffe[_0x233857(0x215)](_0x111481[_0x233857(0x1f5)],_0x2ed913);}if(_0x111481?.['uWarpStrength']){const _0x1aa252=this[_0x233857(0x1b2)]()[_0x233857(0x237)]<0x384?2.5:0x1;_0x3a0ffe['uniform1f'](_0x111481[_0x233857(0x1c5)],_0x1aa252);}_0x111481?.['uPrev']&&(_0x3a0ffe[_0x233857(0x20f)](_0x3a0ffe[_0x233857(0x1fb)]),_0x3a0ffe['bindTexture'](_0x3a0ffe[_0x233857(0x1fe)],_0x2e7913[_0x233857(0x1be)]),_0x3a0ffe['uniform1i'](_0x111481['uPrev'],0x0)),_0x5e91ad(_0x3a0ffe),_0x3a0ffe[_0x233857(0x1d6)](_0x3a0ffe[_0x233857(0x1ed)],null),_0x3a0ffe['viewport'](0x0,0x0,_0x4d0672,_0x22120e),_0x3a0ffe[_0x233857(0x1b4)](this['_presentProgram']);const _0x5d5ff0=this[_0x233857(0x1c1)][_0x233857(0x1d7)];_0x5d5ff0?.[_0x233857(0x234)]&&(_0x3a0ffe['activeTexture'](_0x3a0ffe[_0x233857(0x1fb)]),_0x3a0ffe[_0x233857(0x248)](_0x3a0ffe[_0x233857(0x1fe)],_0x9050e4['texture']),_0x3a0ffe[_0x233857(0x1d8)](_0x5d5ff0[_0x233857(0x234)],0x0)),_0x5d5ff0?.[_0x233857(0x22e)]&&_0x3a0ffe[_0x233857(0x215)](_0x5d5ff0[_0x233857(0x22e)],this[_0x233857(0x1ab)][_0x233857(0x22a)]||0x0),_0x5e91ad(_0x3a0ffe),this[_0x233857(0x243)]();}['_createDefaultState'](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}[_0x2526d0(0x20c)](){const _0x2c088e=_0x2526d0,_0x283f14=this[_0x2c088e(0x1b2)](),_0xad509b=this[_0x2c088e(0x221)](0.06*(_0x283f14[_0x2c088e(0x1d9)]??0x1),-0.06,0.1);return this[_0x2c088e(0x221)](0.88+_0xad509b,0.65,0x1);}['_buildResources'](_0x527370){const _0x3a4c49=_0x2526d0;this[_0x3a4c49(0x1c7)](),this['_feedbackProgram']=this[_0x3a4c49(0x24b)](n,_0x3a4c49(0x24f),{'aPosition':0x0}),this[_0x3a4c49(0x202)]=this[_0x3a4c49(0x24b)](n,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this[_0x3a4c49(0x1b7)]['aPosition']=_0x527370[_0x3a4c49(0x1b3)](this['_feedbackProgram'],'aPosition'),(this[_0x3a4c49(0x1b7)][_0x3a4c49(0x20e)]??-0x1)<0x0&&(this[_0x3a4c49(0x1b7)]['aPosition']=0x0),this[_0x3a4c49(0x1c1)][_0x3a4c49(0x23f)]={'uResolution':_0x527370[_0x3a4c49(0x1e4)](this[_0x3a4c49(0x220)],'u_resolution'),'uTime':_0x527370[_0x3a4c49(0x1e4)](this['_feedbackProgram'],'u_time'),'uPrev':_0x527370['getUniformLocation'](this[_0x3a4c49(0x220)],_0x3a4c49(0x213)),'uFeedback':_0x527370[_0x3a4c49(0x1e4)](this['_feedbackProgram'],'u_feedback'),'uWarpDir':_0x527370[_0x3a4c49(0x1e4)](this['_feedbackProgram'],_0x3a4c49(0x223)),'uZoom':_0x527370[_0x3a4c49(0x1e4)](this['_feedbackProgram'],'u_zoom'),'uWarpStrength':_0x527370[_0x3a4c49(0x1e4)](this[_0x3a4c49(0x220)],_0x3a4c49(0x1df))},this[_0x3a4c49(0x1c1)]['present']={'uScene':_0x527370[_0x3a4c49(0x1e4)](this[_0x3a4c49(0x202)],'u_scene'),'uVolume':_0x527370['getUniformLocation'](this[_0x3a4c49(0x202)],_0x3a4c49(0x1cb))},this[_0x3a4c49(0x219)]=_0x31f31e(_0x527370,{'autoDispose':this[_0x3a4c49(0x1cd)][_0x3a4c49(0x212)](this)});}['_ensureTargets'](_0x4184f5,_0x5095ce){const _0x1f4682=_0x2526d0;_0x4184f5===this[_0x1f4682(0x24c)]&&_0x5095ce===this[_0x1f4682(0x1d0)]&&this[_0x1f4682(0x210)]&&this[_0x1f4682(0x20b)]||(this[_0x1f4682(0x24c)]=_0x4184f5,this['_targetHeight']=_0x5095ce,this[_0x1f4682(0x1f8)](!0x0));}[_0x2526d0(0x1f8)](_0x4e39d8=!0x1){const _0x49e77f=_0x2526d0,_0x4d3658=this['gl'];if(!_0x4d3658)return;const _0x55b355=Math['max'](0x8,Math[_0x49e77f(0x224)](this[_0x49e77f(0x24c)]||_0x4d3658[_0x49e77f(0x216)]||0x1)),_0x269724=Math[_0x49e77f(0x21e)](0x8,Math[_0x49e77f(0x224)](this['_targetHeight']||_0x4d3658[_0x49e77f(0x207)]||0x1));!_0x4e39d8&&this[_0x49e77f(0x210)]&&this[_0x49e77f(0x20b)]||(this[_0x49e77f(0x225)](this[_0x49e77f(0x210)]),this[_0x49e77f(0x225)](this[_0x49e77f(0x20b)]),this[_0x49e77f(0x210)]=this['_createTarget'](_0x4d3658,_0x55b355,_0x269724),this[_0x49e77f(0x20b)]=this[_0x49e77f(0x20a)](_0x4d3658,_0x55b355,_0x269724));}[_0x2526d0(0x20a)](_0x15ddee,_0x103af8,_0x5d144d){const _0x577efe=_0x2526d0,_0x2a314f=_0x15ddee['createTexture'](),_0x5d0a83=_0x15ddee[_0x577efe(0x1b1)]();if(!_0x2a314f||!_0x5d0a83)throw new Error(_0x577efe(0x1e9));this[_0x577efe(0x1cd)](_0x2a314f,(_0x312e41,_0x4a1502)=>_0x312e41[_0x577efe(0x1c8)](_0x4a1502)),this[_0x577efe(0x1cd)](_0x5d0a83,(_0x3e49d5,_0x3252fc)=>_0x3e49d5[_0x577efe(0x1dd)](_0x3252fc)),_0x15ddee[_0x577efe(0x248)](_0x15ddee[_0x577efe(0x1fe)],_0x2a314f),_0x15ddee[_0x577efe(0x1d2)](_0x15ddee[_0x577efe(0x1fe)],0x0,_0x15ddee['RGBA'],_0x103af8,_0x5d144d,0x0,_0x15ddee[_0x577efe(0x1c2)],_0x15ddee[_0x577efe(0x228)],null),_0x15ddee[_0x577efe(0x206)](_0x15ddee[_0x577efe(0x1fe)],_0x15ddee[_0x577efe(0x1b8)],_0x15ddee[_0x577efe(0x208)]),_0x15ddee[_0x577efe(0x206)](_0x15ddee[_0x577efe(0x1fe)],_0x15ddee['TEXTURE_MAG_FILTER'],_0x15ddee['LINEAR']),_0x15ddee[_0x577efe(0x206)](_0x15ddee[_0x577efe(0x1fe)],_0x15ddee[_0x577efe(0x22d)],_0x15ddee[_0x577efe(0x1e0)]),_0x15ddee['texParameteri'](_0x15ddee[_0x577efe(0x1fe)],_0x15ddee['TEXTURE_WRAP_T'],_0x15ddee[_0x577efe(0x1e0)]),_0x15ddee[_0x577efe(0x1d6)](_0x15ddee[_0x577efe(0x1ed)],_0x5d0a83),_0x15ddee[_0x577efe(0x1c9)](_0x15ddee['FRAMEBUFFER'],_0x15ddee[_0x577efe(0x239)],_0x15ddee[_0x577efe(0x1fe)],_0x2a314f,0x0);if(_0x15ddee[_0x577efe(0x1ac)](_0x15ddee[_0x577efe(0x1ed)])!==_0x15ddee[_0x577efe(0x22f)])throw _0x15ddee[_0x577efe(0x1d6)](_0x15ddee['FRAMEBUFFER'],null),_0x15ddee[_0x577efe(0x248)](_0x15ddee['TEXTURE_2D'],null),new Error('Framebuffer\x20incomplete\x20for\x20groove');return _0x15ddee[_0x577efe(0x1d6)](_0x15ddee[_0x577efe(0x1ed)],null),_0x15ddee[_0x577efe(0x248)](_0x15ddee[_0x577efe(0x1fe)],null),{'texture':_0x2a314f,'fbo':_0x5d0a83,'width':_0x103af8,'height':_0x5d144d};}[_0x2526d0(0x225)](_0x30b668){const _0x12fadd=_0x2526d0;_0x30b668&&(this['releaseGLResource'](_0x30b668[_0x12fadd(0x1be)]),this[_0x12fadd(0x1f0)](_0x30b668[_0x12fadd(0x1e8)]));}[_0x2526d0(0x243)](){const _0x5edda9=_0x2526d0,_0x36bd63=this[_0x5edda9(0x210)];this[_0x5edda9(0x210)]=this[_0x5edda9(0x20b)],this[_0x5edda9(0x20b)]=_0x36bd63;}[_0x2526d0(0x1fc)](_0x2882a8){const _0x23e4a6=_0x2526d0,_0x3abbb0=this['_volumeHistory'];if(_0x3abbb0[_0x23e4a6(0x1ce)][_0x23e4a6(0x23a)](_0x2882a8),_0x3abbb0[_0x23e4a6(0x1e3)]+=_0x2882a8,_0x3abbb0[_0x23e4a6(0x1ce)][_0x23e4a6(0x1d5)]>_0x3abbb0[_0x23e4a6(0x21e)]){const _0x4acbba=_0x3abbb0[_0x23e4a6(0x1ce)][_0x23e4a6(0x1eb)]();_0x3abbb0[_0x23e4a6(0x1e3)]-=_0x4acbba??0x0;}}}_0x1062bb(_0x2526d0(0x21f),a,{'meta':a[_0x2526d0(0x20d)]});
