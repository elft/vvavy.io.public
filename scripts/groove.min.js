const _0x4f9291=_0x53f1;(function(_0x18f86,_0xdcd4cd){const _0x5a2d28=_0x53f1,_0x1652fd=_0x18f86();while(!![]){try{const _0x4896f6=parseInt(_0x5a2d28(0x1dc))/0x1+parseInt(_0x5a2d28(0x240))/0x2*(parseInt(_0x5a2d28(0x1f3))/0x3)+-parseInt(_0x5a2d28(0x1eb))/0x4+parseInt(_0x5a2d28(0x1db))/0x5+parseInt(_0x5a2d28(0x1ad))/0x6*(-parseInt(_0x5a2d28(0x1f9))/0x7)+parseInt(_0x5a2d28(0x22f))/0x8*(-parseInt(_0x5a2d28(0x234))/0x9)+-parseInt(_0x5a2d28(0x1df))/0xa;if(_0x4896f6===_0xdcd4cd)break;else _0x1652fd['push'](_0x1652fd['shift']());}catch(_0x106469){_0x1652fd['push'](_0x1652fd['shift']());}}}(_0x1ec0,0xcf374));function _0x1ec0(){const _0x210162=['length','3WkNmNm','uPrev','autoDispose','shortEdge','viewport','TEXTURE_MAG_FILTER','17899EyqPVb','width','uWarpStrength','bindTexture','uScene','_state','uniform1f','meta','u_feedback','drawingBufferHeight','floor','_updateVolumeHistory','ZERO','createTexture','uniform1i','_readTarget','u_time','TRIPPY','GROOVY','FRAMEBUFFER','_targetScale','_uniforms','texture','VIBE','u_buffer','UNSIGNED_BYTE','_verticalDirection','drawingBufferWidth','aPosition','_destroyTarget','init','_targetHeight','onUpdate','activeTexture','lerp','_createTarget','TEXTURE_WRAP_S','#000000','click','_quadBuffer','rmsTime','values','_lastRenderAt','CLAMP_TO_EDGE','push','sum','TEMPO','uniform2f','getUniformLocation','LINEAR','INTERACTIVE','_attributes','FRAMEBUFFER_COMPLETE','useProgram','4168wtOOXG','checkFramebufferStatus','shift','getAttribLocation','right','963agjGKN','u_volume','_flowDirection','_pointerLastAt','ENERGY','disable','_audioTime','_boundHandlePointer','now','pointerdown','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','_feedbackProgram','3161506itqNzV','fbo','u_resolution','lastVolume','getViewportProfile','flowY','resetState','_createDefaultState','_pointerBias','uTime','_computeTargetScale','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','releaseGLResource','isFinite','clamp','deleteTexture','clientX','552mBOydm','undefined','uFeedback','uVolume','overallEnergy','onResize','_pointerUnsub','TEXTURE_MIN_FILTER','_beatCooldown','_presentProgram','deleteFramebuffer','_writeTarget','left','DEPTH_TEST','MID','height','POPULAR','u_warpDirection','uWarpDir','COLOR_ATTACHMENT0','pow','flowX','getBoundingClientRect','removeEventListener','groove','createProgram','clientY','uResolution','_buildResources','TEXTURE_2D','STENCIL_TEST','flowYTarget','TECH','bindFramebuffer','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','max','TEXTURE0','_resizeTargets','bind','_swapTargets','_pointerIdleSeconds','createFramebuffer','sign','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','beatConfidence','texParameteri','3403185GTrkXN','430511cnrUsf','config','blendFunc','10988620AnXPjH','ONE','RGBA','canvas','[data-role=\x22cast-overlay\x22]','_volumeHistory','closest','_setupInteractions','_targetWidth','Framebuffer\x20incomplete\x20for\x20groove','Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','feedback','1813168uNGkkh','_ensureTargets','uZoom','flowXTarget','_handlePointer','addEventListener','flushTrackedGLResources'];_0x1ec0=function(){return _0x210162;};return _0x1ec0();}import{W as _0x32c72a,V as _0x451a8e,r as _0x14b69d}from'./main.min.js';import{b as _0x3658bf,d as _0x1a26ac,c as _0x320b76}from'./fullscreen-quad.min.js';function _0x53f1(_0x3d8478,_0x1fdb52){const _0x1ec084=_0x1ec0();return _0x53f1=function(_0x53f122,_0xdf48ca){_0x53f122=_0x53f122-0x1a9;let _0x2eabe1=_0x1ec084[_0x53f122];return _0x2eabe1;},_0x53f1(_0x3d8478,_0x1fdb52);}var n=_0x4f9291(0x1d8);class a extends _0x32c72a{static [_0x4f9291(0x200)]={'savedAt':0x19c5969cbe3,'createdBy':'vvavy','description':_0x4f9291(0x1e9),'tags':[_0x451a8e['TECH']['GEOMETRY'],_0x451a8e[_0x4f9291(0x210)][_0x4f9291(0x20a)],_0x451a8e[_0x4f9291(0x238)][_0x4f9291(0x1bb)],_0x451a8e[_0x4f9291(0x227)][_0x4f9291(0x20b)],_0x451a8e[_0x4f9291(0x1cd)]['HD'],_0x451a8e[_0x4f9291(0x1cd)][_0x4f9291(0x22b)],_0x451a8e['STATUS'][_0x4f9291(0x1bd)]]};constructor(_0x1bd5db){const _0x5f103c=_0x4f9291;super({..._0x1bd5db,'config':{..._0x1bd5db?.[_0x5f103c(0x1dd)]??{},'backgroundColor':_0x5f103c(0x21e)}}),this['_feedbackProgram']=null,this[_0x5f103c(0x1b6)]=null,this['_uniforms']={'feedback':null,'present':null},this[_0x5f103c(0x22c)]={'aPosition':0x0},this['_quadBuffer']=null,this['_readTarget']=null,this['_writeTarget']=null,this['_targetWidth']=0x0,this['_targetHeight']=0x0,this['_targetScale']=0.8,this[_0x5f103c(0x223)]=null,this['_audioTime']=0x0,this['_beatCooldown']=0x0,this[_0x5f103c(0x236)]=0x1,this[_0x5f103c(0x213)]=0x0,this['_volumeHistory']={'values':[],'sum':0x0,'max':0x3c},this[_0x5f103c(0x248)]={'x':0x0,'y':0x0},this['_pointerLastAt']=0x0,this[_0x5f103c(0x1d5)]=0.6,this['_pointerUnsub']=null,this['_state']=this[_0x5f103c(0x247)]();}[_0x4f9291(0x217)](){const _0x460d71=_0x4f9291,_0x108d16=this['gl'];if(!_0x108d16)return;_0x108d16[_0x460d71(0x239)](_0x108d16[_0x460d71(0x1ba)]),_0x108d16[_0x460d71(0x239)](_0x108d16['CULL_FACE']),_0x108d16[_0x460d71(0x239)](_0x108d16[_0x460d71(0x1cb)]),_0x108d16[_0x460d71(0x1de)](_0x108d16[_0x460d71(0x1e0)],_0x108d16[_0x460d71(0x205)]),this[_0x460d71(0x1c9)](_0x108d16),this[_0x460d71(0x20d)]=this[_0x460d71(0x24a)]();const _0x4b9f5e=_0x108d16[_0x460d71(0x214)]||this[_0x460d71(0x1fa)]||this[_0x460d71(0x1e2)]?.['width']||0x1,_0x10d702=_0x108d16[_0x460d71(0x202)]||this[_0x460d71(0x1bc)]||this[_0x460d71(0x1e2)]?.['height']||0x1;this[_0x460d71(0x1e7)]=Math[_0x460d71(0x1d0)](0x8,Math[_0x460d71(0x203)](_0x4b9f5e*this['_targetScale'])),this[_0x460d71(0x218)]=Math['max'](0x8,Math[_0x460d71(0x203)](_0x10d702*this['_targetScale'])),this[_0x460d71(0x1d2)](!0x0),this[_0x460d71(0x23a)]=0x0,this[_0x460d71(0x223)]=null,this[_0x460d71(0x1e6)]();}['destroy'](){const _0x5cd1cb=_0x4f9291;this[_0x5cd1cb(0x1f1)](),this[_0x5cd1cb(0x1b3)]?.(),this[_0x5cd1cb(0x1b3)]=null,this[_0x5cd1cb(0x1b8)]=null,super['destroy']();}[_0x4f9291(0x246)](){const _0x35e9eb=_0x4f9291;this[_0x35e9eb(0x23a)]=0x0,this[_0x35e9eb(0x223)]=null,this[_0x35e9eb(0x1b5)]=0x0,this[_0x35e9eb(0x236)]=0x1,this[_0x35e9eb(0x213)]=0x0,this[_0x35e9eb(0x1e4)]={'values':[],'sum':0x0,'max':0x3c},this[_0x35e9eb(0x248)]={'x':0x0,'y':0x0},this[_0x35e9eb(0x237)]=0x0,this[_0x35e9eb(0x1fe)]=this[_0x35e9eb(0x247)](),this[_0x35e9eb(0x1f1)](),this[_0x35e9eb(0x208)]=null,this['_writeTarget']=null,this[_0x35e9eb(0x23f)]=null,this[_0x35e9eb(0x1b6)]=null,this[_0x35e9eb(0x220)]=null,this['gl']&&this['_resizeTargets'](!0x0);}[_0x4f9291(0x1b2)](){const _0x48a219=_0x4f9291;super[_0x48a219(0x1b2)]?.(),this['_targetScale']=this[_0x48a219(0x24a)]();const _0xd81145=this['gl'],_0x5ae30c=_0xd81145?.[_0x48a219(0x214)]||this['width']||this[_0x48a219(0x1e2)]?.[_0x48a219(0x1fa)]||0x1,_0x3eb282=_0xd81145?.['drawingBufferHeight']||this[_0x48a219(0x1bc)]||this[_0x48a219(0x1e2)]?.[_0x48a219(0x1bc)]||0x1;this[_0x48a219(0x1e7)]=Math['max'](0x8,Math[_0x48a219(0x203)](_0x5ae30c*this[_0x48a219(0x20d)])),this['_targetHeight']=Math[_0x48a219(0x1d0)](0x8,Math[_0x48a219(0x203)](_0x3eb282*this[_0x48a219(0x20d)])),this[_0x48a219(0x1d2)](!0x0);}[_0x4f9291(0x1e6)](){const _0x11c3a6=_0x4f9291,_0x49dffe=this[_0x11c3a6(0x1e2)]?.['parentElement']||(_0x11c3a6(0x1ae)!=typeof window?window:null);_0x49dffe&&(this[_0x11c3a6(0x23b)]=this['_boundHandlePointer']||this[_0x11c3a6(0x1ef)][_0x11c3a6(0x1d3)](this),_0x49dffe[_0x11c3a6(0x1f0)]('pointermove',this['_boundHandlePointer']),_0x49dffe['addEventListener'](_0x11c3a6(0x23d),this[_0x11c3a6(0x23b)]),_0x49dffe['addEventListener'](_0x11c3a6(0x21f),this[_0x11c3a6(0x23b)]),this[_0x11c3a6(0x1b3)]=()=>{const _0x3451c3=_0x11c3a6;_0x49dffe[_0x3451c3(0x1c4)]('pointermove',this[_0x3451c3(0x23b)]),_0x49dffe['removeEventListener']('pointerdown',this['_boundHandlePointer']),_0x49dffe[_0x3451c3(0x1c4)](_0x3451c3(0x21f),this[_0x3451c3(0x23b)]);});}['_handlePointer'](_0x30f244){const _0x428cee=_0x4f9291;if(!this[_0x428cee(0x1e2)])return;const _0xea075b=this[_0x428cee(0x1e2)][_0x428cee(0x1c3)]();if(_0x30f244[_0x428cee(0x1ac)]<_0xea075b['left']||_0x30f244['clientX']>_0xea075b[_0x428cee(0x233)]||_0x30f244[_0x428cee(0x1c7)]<_0xea075b['top']||_0x30f244['clientY']>_0xea075b['bottom'])return;const _0x18c590=_0x30f244['target'];if(_0x18c590&&0x1===_0x18c590['nodeType']&&(_0x18c590[_0x428cee(0x1e5)]('.footer-bar')||_0x18c590[_0x428cee(0x1e5)](_0x428cee(0x1e3))))return;const _0xcae532=_0xea075b[_0x428cee(0x1fa)],_0x284b67=_0xea075b[_0x428cee(0x1bc)];if(!_0xcae532||!_0x284b67)return;const _0x12380d=0x2*((_0x30f244[_0x428cee(0x1ac)]-_0xea075b[_0x428cee(0x1b9)])/_0xcae532-0.5),_0x378fba=0x2*(0.5-(_0x30f244[_0x428cee(0x1c7)]-_0xea075b['top'])/_0x284b67);this[_0x428cee(0x248)]={'x':this[_0x428cee(0x1aa)](_0x12380d,-0x1,0x1),'y':this['clamp'](_0x378fba,-0x1,0x1)},this[_0x428cee(0x237)]=_0x428cee(0x1ae)!=typeof performance?0.001*performance[_0x428cee(0x23c)]():Date[_0x428cee(0x23c)]()/0x3e8;}[_0x4f9291(0x219)](_0x33b39e){const _0x22e52a=_0x4f9291;if(!_0x33b39e)return;const _0x14dbd3=this[_0x22e52a(0x1aa)](_0x33b39e['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x3e7ce9=Number[_0x22e52a(0x1a9)](_0x14dbd3)?_0x14dbd3:0x1/0x3c,_0x22cbb3=this[_0x22e52a(0x1aa)](1.5*(_0x33b39e[_0x22e52a(0x1b1)]??_0x33b39e[_0x22e52a(0x221)]??0x0),0x0,1.4);this[_0x22e52a(0x1fe)][_0x22e52a(0x243)]=_0x22cbb3,this[_0x22e52a(0x204)](_0x22cbb3);const _0x20588a=this['_volumeHistory'][_0x22e52a(0x222)][_0x22e52a(0x1f2)]?this['_volumeHistory'][_0x22e52a(0x226)]/this[_0x22e52a(0x1e4)][_0x22e52a(0x222)][_0x22e52a(0x1f2)]:_0x22cbb3,_0x21af9c=(_0x20588a>0.001?(_0x22cbb3-_0x20588a)/_0x20588a:0x0)>0.05?0x1:-0x1;_0x21af9c!==this[_0x22e52a(0x213)]&&(this[_0x22e52a(0x213)]=_0x21af9c,this['_state'][_0x22e52a(0x1cc)]=0.5*_0x21af9c);const _0x553697=this['clamp'](_0x33b39e[_0x22e52a(0x1d9)]??0x0,0x0,0x1);Boolean(_0x33b39e['isBeat'])&&_0x553697>0.3&&this['_beatCooldown']<=0x0&&(this[_0x22e52a(0x236)]*=-0x1,this[_0x22e52a(0x236)]!==Math[_0x22e52a(0x1d7)](this[_0x22e52a(0x1fe)][_0x22e52a(0x1ee)]||0x0)&&(this[_0x22e52a(0x1fe)][_0x22e52a(0x1ee)]=0.5*this[_0x22e52a(0x236)]),this[_0x22e52a(0x1b5)]=0.22),this['_beatCooldown']=Math[_0x22e52a(0x1d0)](0x0,this[_0x22e52a(0x1b5)]-_0x3e7ce9);const _0x4fc5a0=('undefined'!=typeof performance?0.001*performance[_0x22e52a(0x23c)]():Date['now']()/0x3e8)-(this['_pointerLastAt']||0x0)<this[_0x22e52a(0x1d5)],_0x515c02=0x3c*_0x3e7ce9,_0x2c4f9=0x1-Math[_0x22e52a(0x1c1)](0.92,_0x515c02),_0x33ca4e=0x1-Math[_0x22e52a(0x1c1)](0.95,_0x515c02);_0x4fc5a0||(this[_0x22e52a(0x248)]['x']=this[_0x22e52a(0x21b)](this[_0x22e52a(0x248)]['x'],0x0,_0x2c4f9),this[_0x22e52a(0x248)]['y']=this[_0x22e52a(0x21b)](this['_pointerBias']['y'],0x0,_0x2c4f9));const _0x2a9ece=this[_0x22e52a(0x1aa)](this[_0x22e52a(0x1fe)][_0x22e52a(0x1ee)]+(_0x4fc5a0?this['_pointerBias']['x']:0x0),-0x1,0x1),_0x4b9181=this['clamp'](this['_state'][_0x22e52a(0x1cc)]+(_0x4fc5a0?this['_pointerBias']['y']:0x0),-0x1,0x1);this['_state'][_0x22e52a(0x1c2)]=this['lerp'](this[_0x22e52a(0x1fe)][_0x22e52a(0x1c2)],_0x2a9ece,_0x33ca4e),this[_0x22e52a(0x1fe)][_0x22e52a(0x245)]=this[_0x22e52a(0x21b)](this[_0x22e52a(0x1fe)]['flowY'],_0x4b9181,_0x33ca4e);}['onRender'](){const _0x5b3c72=_0x4f9291,_0x390492=this['gl'];if(!_0x390492||!this[_0x5b3c72(0x1e2)])return;if(!this[_0x5b3c72(0x23f)]||!this[_0x5b3c72(0x1b6)]||!this[_0x5b3c72(0x220)])try{this['_buildResources'](_0x390492),this['_resizeTargets'](!0x0);}catch{return;}const _0xf57a7c=_0x5b3c72(0x1ae)!=typeof performance?0.001*performance[_0x5b3c72(0x23c)]():Date[_0x5b3c72(0x23c)]()/0x3e8,_0x33f4e0=this['_lastRenderAt']?_0xf57a7c-this[_0x5b3c72(0x223)]:0x1/0x3c,_0x3f0f49=this[_0x5b3c72(0x1aa)](_0x33f4e0,0x1/0xf0,0.2);this[_0x5b3c72(0x223)]=_0xf57a7c,this[_0x5b3c72(0x23a)]+=_0x3f0f49;const _0x198e60=_0x390492[_0x5b3c72(0x214)]||this[_0x5b3c72(0x1e2)]?.[_0x5b3c72(0x1fa)]||0x1,_0x226c4f=_0x390492['drawingBufferHeight']||this[_0x5b3c72(0x1e2)]?.[_0x5b3c72(0x1bc)]||0x1;if(_0x198e60<=0x0||_0x226c4f<=0x0)return;const _0x4222c2=this[_0x5b3c72(0x20d)]||0.8,_0x3a85b0=Math[_0x5b3c72(0x1d0)](0x8,Math[_0x5b3c72(0x203)](_0x198e60*_0x4222c2)),_0x31af65=Math[_0x5b3c72(0x1d0)](0x8,Math[_0x5b3c72(0x203)](_0x226c4f*_0x4222c2));this[_0x5b3c72(0x1ec)](_0x3a85b0,_0x31af65);const _0x32a8e7=this[_0x5b3c72(0x208)],_0xdcd0c8=this[_0x5b3c72(0x1b8)];if(!_0x32a8e7||!_0xdcd0c8)return;_0x390492[_0x5b3c72(0x1f7)](0x0,0x0,_0x3a85b0,_0x31af65),_0x390492[_0x5b3c72(0x1ce)](_0x390492['FRAMEBUFFER'],_0xdcd0c8[_0x5b3c72(0x241)]),_0x390492[_0x5b3c72(0x22e)](this['_feedbackProgram']),_0x3658bf(_0x390492,this['_quadBuffer'],this[_0x5b3c72(0x22c)][_0x5b3c72(0x215)]??0x0);const _0x5ce618=this[_0x5b3c72(0x20e)]['feedback'];if(_0x5ce618?.[_0x5b3c72(0x1c8)]&&_0x390492[_0x5b3c72(0x228)](_0x5ce618[_0x5b3c72(0x1c8)],_0x3a85b0,_0x31af65),_0x5ce618?.[_0x5b3c72(0x249)]&&_0x390492[_0x5b3c72(0x1ff)](_0x5ce618[_0x5b3c72(0x249)],this[_0x5b3c72(0x23a)]),_0x5ce618?.[_0x5b3c72(0x1af)]&&_0x390492[_0x5b3c72(0x1ff)](_0x5ce618[_0x5b3c72(0x1af)],0.97),_0x5ce618?.['uWarpDir']&&_0x390492[_0x5b3c72(0x228)](_0x5ce618[_0x5b3c72(0x1bf)],this['_state']['flowX'],this['_state']['flowY']),_0x5ce618?.[_0x5b3c72(0x1ed)]){const _0x3cb3f0=this[_0x5b3c72(0x244)]()[_0x5b3c72(0x1f6)]<0x384?1.4:0x1;_0x390492[_0x5b3c72(0x1ff)](_0x5ce618[_0x5b3c72(0x1ed)],_0x3cb3f0);}if(_0x5ce618?.[_0x5b3c72(0x1fb)]){const _0x3ed221=this[_0x5b3c72(0x244)]()[_0x5b3c72(0x1f6)]<0x384?2.5:0x1;_0x390492['uniform1f'](_0x5ce618[_0x5b3c72(0x1fb)],_0x3ed221);}_0x5ce618?.[_0x5b3c72(0x1f4)]&&(_0x390492[_0x5b3c72(0x21a)](_0x390492[_0x5b3c72(0x1d1)]),_0x390492['bindTexture'](_0x390492[_0x5b3c72(0x1ca)],_0x32a8e7[_0x5b3c72(0x20f)]),_0x390492[_0x5b3c72(0x207)](_0x5ce618[_0x5b3c72(0x1f4)],0x0)),_0x1a26ac(_0x390492),_0x390492[_0x5b3c72(0x1ce)](_0x390492[_0x5b3c72(0x20c)],null),_0x390492[_0x5b3c72(0x1f7)](0x0,0x0,_0x198e60,_0x226c4f),_0x390492[_0x5b3c72(0x22e)](this[_0x5b3c72(0x1b6)]);const _0x125357=this['_uniforms']['present'];_0x125357?.[_0x5b3c72(0x1fd)]&&(_0x390492[_0x5b3c72(0x21a)](_0x390492[_0x5b3c72(0x1d1)]),_0x390492['bindTexture'](_0x390492[_0x5b3c72(0x1ca)],_0xdcd0c8['texture']),_0x390492[_0x5b3c72(0x207)](_0x125357[_0x5b3c72(0x1fd)],0x0)),_0x125357?.[_0x5b3c72(0x1b0)]&&_0x390492[_0x5b3c72(0x1ff)](_0x125357[_0x5b3c72(0x1b0)],this[_0x5b3c72(0x1fe)]['lastVolume']||0x0),_0x1a26ac(_0x390492),this[_0x5b3c72(0x1d4)]();}[_0x4f9291(0x247)](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}[_0x4f9291(0x24a)](){const _0x4db3c0=_0x4f9291,_0x4bf915=this[_0x4db3c0(0x244)](),_0x1d85b6=this[_0x4db3c0(0x1aa)](0.06*(_0x4bf915['densityScale']??0x1),-0.06,0.1);return this['clamp'](0.88+_0x1d85b6,0.65,0x1);}[_0x4f9291(0x1c9)](_0x45b831){const _0x2ceebc=_0x4f9291;this['flushTrackedGLResources'](),this[_0x2ceebc(0x23f)]=this[_0x2ceebc(0x1c6)](n,_0x2ceebc(0x24b),{'aPosition':0x0}),this['_presentProgram']=this[_0x2ceebc(0x1c6)](n,_0x2ceebc(0x23e),{'aPosition':0x0}),this['_attributes'][_0x2ceebc(0x215)]=_0x45b831[_0x2ceebc(0x232)](this[_0x2ceebc(0x23f)],'aPosition'),(this['_attributes'][_0x2ceebc(0x215)]??-0x1)<0x0&&(this[_0x2ceebc(0x22c)][_0x2ceebc(0x215)]=0x0),this[_0x2ceebc(0x20e)][_0x2ceebc(0x1ea)]={'uResolution':_0x45b831[_0x2ceebc(0x229)](this['_feedbackProgram'],_0x2ceebc(0x242)),'uTime':_0x45b831[_0x2ceebc(0x229)](this[_0x2ceebc(0x23f)],_0x2ceebc(0x209)),'uPrev':_0x45b831[_0x2ceebc(0x229)](this[_0x2ceebc(0x23f)],_0x2ceebc(0x211)),'uFeedback':_0x45b831['getUniformLocation'](this['_feedbackProgram'],_0x2ceebc(0x201)),'uWarpDir':_0x45b831['getUniformLocation'](this[_0x2ceebc(0x23f)],_0x2ceebc(0x1be)),'uZoom':_0x45b831[_0x2ceebc(0x229)](this['_feedbackProgram'],'u_zoom'),'uWarpStrength':_0x45b831[_0x2ceebc(0x229)](this['_feedbackProgram'],'u_warpStrength')},this[_0x2ceebc(0x20e)]['present']={'uScene':_0x45b831[_0x2ceebc(0x229)](this[_0x2ceebc(0x1b6)],'u_scene'),'uVolume':_0x45b831[_0x2ceebc(0x229)](this[_0x2ceebc(0x1b6)],_0x2ceebc(0x235))},this[_0x2ceebc(0x220)]=_0x320b76(_0x45b831,{'autoDispose':this[_0x2ceebc(0x1f5)][_0x2ceebc(0x1d3)](this)});}[_0x4f9291(0x1ec)](_0x3f70ce,_0x498979){const _0x28266d=_0x4f9291;_0x3f70ce===this[_0x28266d(0x1e7)]&&_0x498979===this['_targetHeight']&&this[_0x28266d(0x208)]&&this[_0x28266d(0x1b8)]||(this[_0x28266d(0x1e7)]=_0x3f70ce,this[_0x28266d(0x218)]=_0x498979,this[_0x28266d(0x1d2)](!0x0));}[_0x4f9291(0x1d2)](_0x1f8754=!0x1){const _0x947b2b=_0x4f9291,_0x2d9a2a=this['gl'];if(!_0x2d9a2a)return;const _0x337617=Math[_0x947b2b(0x1d0)](0x8,Math[_0x947b2b(0x203)](this[_0x947b2b(0x1e7)]||_0x2d9a2a['drawingBufferWidth']||0x1)),_0x32ca83=Math[_0x947b2b(0x1d0)](0x8,Math['floor'](this[_0x947b2b(0x218)]||_0x2d9a2a[_0x947b2b(0x202)]||0x1));!_0x1f8754&&this[_0x947b2b(0x208)]&&this[_0x947b2b(0x1b8)]||(this[_0x947b2b(0x216)](this['_readTarget']),this[_0x947b2b(0x216)](this[_0x947b2b(0x1b8)]),this[_0x947b2b(0x208)]=this[_0x947b2b(0x21c)](_0x2d9a2a,_0x337617,_0x32ca83),this['_writeTarget']=this[_0x947b2b(0x21c)](_0x2d9a2a,_0x337617,_0x32ca83));}['_createTarget'](_0x5abf69,_0x16bbf9,_0x15d6f8){const _0x1d439e=_0x4f9291,_0xc0246d=_0x5abf69[_0x1d439e(0x206)](),_0x4bdcd=_0x5abf69[_0x1d439e(0x1d6)]();if(!_0xc0246d||!_0x4bdcd)throw new Error(_0x1d439e(0x1cf));this[_0x1d439e(0x1f5)](_0xc0246d,(_0x35639a,_0x567e74)=>_0x35639a[_0x1d439e(0x1ab)](_0x567e74)),this[_0x1d439e(0x1f5)](_0x4bdcd,(_0x4ccfab,_0x3a1a2a)=>_0x4ccfab[_0x1d439e(0x1b7)](_0x3a1a2a)),_0x5abf69[_0x1d439e(0x1fc)](_0x5abf69[_0x1d439e(0x1ca)],_0xc0246d),_0x5abf69['texImage2D'](_0x5abf69['TEXTURE_2D'],0x0,_0x5abf69[_0x1d439e(0x1e1)],_0x16bbf9,_0x15d6f8,0x0,_0x5abf69[_0x1d439e(0x1e1)],_0x5abf69[_0x1d439e(0x212)],null),_0x5abf69[_0x1d439e(0x1da)](_0x5abf69[_0x1d439e(0x1ca)],_0x5abf69[_0x1d439e(0x1b4)],_0x5abf69[_0x1d439e(0x22a)]),_0x5abf69['texParameteri'](_0x5abf69['TEXTURE_2D'],_0x5abf69[_0x1d439e(0x1f8)],_0x5abf69[_0x1d439e(0x22a)]),_0x5abf69[_0x1d439e(0x1da)](_0x5abf69[_0x1d439e(0x1ca)],_0x5abf69[_0x1d439e(0x21d)],_0x5abf69[_0x1d439e(0x224)]),_0x5abf69[_0x1d439e(0x1da)](_0x5abf69[_0x1d439e(0x1ca)],_0x5abf69['TEXTURE_WRAP_T'],_0x5abf69[_0x1d439e(0x224)]),_0x5abf69['bindFramebuffer'](_0x5abf69[_0x1d439e(0x20c)],_0x4bdcd),_0x5abf69['framebufferTexture2D'](_0x5abf69[_0x1d439e(0x20c)],_0x5abf69[_0x1d439e(0x1c0)],_0x5abf69['TEXTURE_2D'],_0xc0246d,0x0);if(_0x5abf69[_0x1d439e(0x230)](_0x5abf69[_0x1d439e(0x20c)])!==_0x5abf69[_0x1d439e(0x22d)])throw _0x5abf69[_0x1d439e(0x1ce)](_0x5abf69[_0x1d439e(0x20c)],null),_0x5abf69[_0x1d439e(0x1fc)](_0x5abf69['TEXTURE_2D'],null),new Error(_0x1d439e(0x1e8));return _0x5abf69['bindFramebuffer'](_0x5abf69['FRAMEBUFFER'],null),_0x5abf69[_0x1d439e(0x1fc)](_0x5abf69[_0x1d439e(0x1ca)],null),{'texture':_0xc0246d,'fbo':_0x4bdcd,'width':_0x16bbf9,'height':_0x15d6f8};}[_0x4f9291(0x216)](_0x5d185c){const _0x34743a=_0x4f9291;_0x5d185c&&(this[_0x34743a(0x24c)](_0x5d185c[_0x34743a(0x20f)]),this[_0x34743a(0x24c)](_0x5d185c[_0x34743a(0x241)]));}[_0x4f9291(0x1d4)](){const _0x2956e2=_0x4f9291,_0x583799=this[_0x2956e2(0x208)];this[_0x2956e2(0x208)]=this['_writeTarget'],this[_0x2956e2(0x1b8)]=_0x583799;}[_0x4f9291(0x204)](_0x24c809){const _0xea7cab=_0x4f9291,_0x1936c5=this[_0xea7cab(0x1e4)];if(_0x1936c5['values'][_0xea7cab(0x225)](_0x24c809),_0x1936c5['sum']+=_0x24c809,_0x1936c5[_0xea7cab(0x222)][_0xea7cab(0x1f2)]>_0x1936c5[_0xea7cab(0x1d0)]){const _0x20753e=_0x1936c5[_0xea7cab(0x222)][_0xea7cab(0x231)]();_0x1936c5[_0xea7cab(0x226)]-=_0x20753e??0x0;}}}_0x14b69d(_0x4f9291(0x1c5),a,{'meta':a['meta']});
