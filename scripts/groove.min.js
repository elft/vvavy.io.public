const _0x5adcbf=_0x96e4;(function(_0x1ce164,_0x9d4e01){const _0x56a834=_0x96e4,_0x35037f=_0x1ce164();while(!![]){try{const _0x1ed73b=-parseInt(_0x56a834(0x11e))/0x1*(-parseInt(_0x56a834(0xd7))/0x2)+parseInt(_0x56a834(0xa4))/0x3+-parseInt(_0x56a834(0xbc))/0x4*(-parseInt(_0x56a834(0x107))/0x5)+parseInt(_0x56a834(0xc9))/0x6*(-parseInt(_0x56a834(0xdf))/0x7)+-parseInt(_0x56a834(0xe6))/0x8+parseInt(_0x56a834(0xac))/0x9+-parseInt(_0x56a834(0xc4))/0xa;if(_0x1ed73b===_0x9d4e01)break;else _0x35037f['push'](_0x35037f['shift']());}catch(_0x32961f){_0x35037f['push'](_0x35037f['shift']());}}}(_0x29ad,0xeee21));import{W as _0x46a608,V as _0x55d320,r as _0x4d8d0a}from'./main.min.js';import{b as _0x3a613d,d as _0x537187,c as _0x5f93d0}from'./fullscreen-quad.min.js';function _0x96e4(_0x941ae1,_0x2a0522){const _0x29ad45=_0x29ad();return _0x96e4=function(_0x96e4fd,_0x2516e2){_0x96e4fd=_0x96e4fd-0x86;let _0x3c70a9=_0x29ad45[_0x96e4fd];return _0x3c70a9;},_0x96e4(_0x941ae1,_0x2a0522);}var n='#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a';function _0x29ad(){const _0x2b3441=['drawingBufferHeight','_presentProgram','TRIPPY','height','_handlePointer','addEventListener','_state','pointerdown','CULL_FACE','uZoom','getUniformLocation','deleteTexture','u_zoom','pointermove','uniform2f','_uniforms','texParameteri','uWarpStrength','5242020YILRoL','clientY','Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','uVolume','uWarpDir','u_resolution','shift','_ensureTargets','1072152Hjjdjy','uniform1f','_writeTarget','flushTrackedGLResources','FRAMEBUFFER','onRender','_pointerBias','right','uScene','framebufferTexture2D','destroy','_setupInteractions','_targetScale','u_warpStrength','_audioTime','uTime','104Jaowio','overallEnergy','DEPTH_TEST','bindTexture','beatConfidence','uniform1i','u_time','feedback','5812740RFtVUd','closest','TECH','_computeTargetScale','UNSIGNED_BYTE','1417206XzNLib','CLAMP_TO_EDGE','getViewportProfile','length','present','Framebuffer\x20incomplete\x20for\x20groove','clamp','autoDispose','_attributes','VIBE','lastVolume','bind','getAttribLocation','values','39242rObsmu','sign','flowY','_verticalDirection','flowXTarget','FRAMEBUFFER_COMPLETE','config','TEXTURE_WRAP_T','21KvVSMT','STENCIL_TEST','meta','_targetWidth','_resizeTargets','deleteFramebuffer','pow','12941600NNTuIL','top','#000000','_pointerUnsub','createFramebuffer','activeTexture','shortEdge','isFinite','click','vvavy','_boundHandlePointer','removeEventListener','texImage2D','u_feedback','uPrev','canvas','rmsTime','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','_buildResources','ZERO','target','aPosition','_updateVolumeHistory','_beatCooldown','flowYTarget','_swapTargets','_readTarget','lerp','createProgram','bindFramebuffer','_lastRenderAt','nodeType','_destroyTarget','71425rQbLvy','_pointerIdleSeconds','TEXTURE_MIN_FILTER','u_warpDirection','POPULAR','COLOR_ATTACHMENT0','_createDefaultState','GEOMETRY','_feedbackProgram','flowX','_quadBuffer','u_volume','max','blendFunc','undefined','fbo','_targetHeight','groove','width','_volumeHistory','RGBA','u_scene','STATUS','84MxoLvi','TEXTURE_WRAP_S','LINEAR','_createTarget','_flowDirection','TEXTURE_2D','TEXTURE0','_pointerLastAt','left','clientX','disable','drawingBufferWidth','texture','now','floor','push','checkFramebufferStatus','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','uFeedback','onResize'];_0x29ad=function(){return _0x2b3441;};return _0x29ad();}class a extends _0x46a608{static [_0x5adcbf(0xe1)]={'savedAt':0x19c5969cbe3,'createdBy':_0x5adcbf(0xef),'description':_0x5adcbf(0xa6),'tags':[_0x55d320[_0x5adcbf(0xc6)][_0x5adcbf(0x10e)],_0x55d320[_0x5adcbf(0xd2)][_0x5adcbf(0x94)],_0x55d320['ENERGY']['MID'],_0x55d320['TEMPO']['GROOVY'],_0x55d320[_0x5adcbf(0xc6)]['HD'],_0x55d320[_0x5adcbf(0xc6)]['INTERACTIVE'],_0x55d320[_0x5adcbf(0x11d)][_0x5adcbf(0x10b)]]};constructor(_0x204c6d){const _0x5edcd7=_0x5adcbf;super({..._0x204c6d,'config':{..._0x204c6d?.[_0x5edcd7(0xdd)]??{},'backgroundColor':_0x5edcd7(0xe8)}}),this[_0x5edcd7(0x10f)]=null,this[_0x5edcd7(0x93)]=null,this[_0x5edcd7(0xa1)]={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0x5edcd7(0x111)]=null,this[_0x5edcd7(0x100)]=null,this[_0x5edcd7(0xae)]=null,this['_targetWidth']=0x0,this[_0x5edcd7(0x117)]=0x0,this['_targetScale']=0.8,this[_0x5edcd7(0x104)]=null,this['_audioTime']=0x0,this['_beatCooldown']=0x0,this['_flowDirection']=0x1,this[_0x5edcd7(0xda)]=0x0,this[_0x5edcd7(0x11a)]={'values':[],'sum':0x0,'max':0x3c},this['_pointerBias']={'x':0x0,'y':0x0},this[_0x5edcd7(0x125)]=0x0,this[_0x5edcd7(0x108)]=0.6,this['_pointerUnsub']=null,this[_0x5edcd7(0x98)]=this['_createDefaultState']();}['init'](){const _0x2af8d1=_0x5adcbf,_0x1f4833=this['gl'];if(!_0x1f4833)return;_0x1f4833[_0x2af8d1(0x88)](_0x1f4833[_0x2af8d1(0xbe)]),_0x1f4833[_0x2af8d1(0x88)](_0x1f4833[_0x2af8d1(0x9a)]),_0x1f4833['disable'](_0x1f4833[_0x2af8d1(0xe0)]),_0x1f4833[_0x2af8d1(0x114)](_0x1f4833['ONE'],_0x1f4833[_0x2af8d1(0xf9)]),this['_buildResources'](_0x1f4833),this[_0x2af8d1(0xb8)]=this[_0x2af8d1(0xc7)]();const _0x19ec0f=_0x1f4833[_0x2af8d1(0x89)]||this['width']||this['canvas']?.[_0x2af8d1(0x119)]||0x1,_0x3080ba=_0x1f4833[_0x2af8d1(0x92)]||this[_0x2af8d1(0x95)]||this[_0x2af8d1(0xf5)]?.['height']||0x1;this[_0x2af8d1(0xe2)]=Math['max'](0x8,Math[_0x2af8d1(0x8c)](_0x19ec0f*this['_targetScale'])),this[_0x2af8d1(0x117)]=Math[_0x2af8d1(0x113)](0x8,Math['floor'](_0x3080ba*this[_0x2af8d1(0xb8)])),this[_0x2af8d1(0xe3)](!0x0),this[_0x2af8d1(0xba)]=0x0,this[_0x2af8d1(0x104)]=null,this[_0x2af8d1(0xb7)]();}[_0x5adcbf(0xb6)](){const _0xdbe15a=_0x5adcbf;this[_0xdbe15a(0xaf)](),this[_0xdbe15a(0xe9)]?.(),this[_0xdbe15a(0xe9)]=null,this['_writeTarget']=null,super[_0xdbe15a(0xb6)]();}['resetState'](){const _0x602e62=_0x5adcbf;this[_0x602e62(0xba)]=0x0,this[_0x602e62(0x104)]=null,this[_0x602e62(0xfd)]=0x0,this[_0x602e62(0x122)]=0x1,this[_0x602e62(0xda)]=0x0,this['_volumeHistory']={'values':[],'sum':0x0,'max':0x3c},this[_0x602e62(0xb2)]={'x':0x0,'y':0x0},this[_0x602e62(0x125)]=0x0,this[_0x602e62(0x98)]=this[_0x602e62(0x10d)](),this[_0x602e62(0xaf)](),this['_readTarget']=null,this[_0x602e62(0xae)]=null,this[_0x602e62(0x10f)]=null,this[_0x602e62(0x93)]=null,this[_0x602e62(0x111)]=null,this['gl']&&this[_0x602e62(0xe3)](!0x0);}[_0x5adcbf(0x91)](){const _0xa79621=_0x5adcbf;super['onResize']?.(),this['_targetScale']=this['_computeTargetScale']();const _0x135168=this['gl'],_0x50e6a3=_0x135168?.['drawingBufferWidth']||this[_0xa79621(0x119)]||this[_0xa79621(0xf5)]?.[_0xa79621(0x119)]||0x1,_0x357077=_0x135168?.['drawingBufferHeight']||this[_0xa79621(0x95)]||this[_0xa79621(0xf5)]?.['height']||0x1;this[_0xa79621(0xe2)]=Math[_0xa79621(0x113)](0x8,Math['floor'](_0x50e6a3*this['_targetScale'])),this['_targetHeight']=Math[_0xa79621(0x113)](0x8,Math[_0xa79621(0x8c)](_0x357077*this[_0xa79621(0xb8)])),this['_resizeTargets'](!0x0);}['_setupInteractions'](){const _0x343a94=_0x5adcbf,_0x3c040a=this[_0x343a94(0xf5)]?.['parentElement']||(_0x343a94(0x115)!=typeof window?window:null);_0x3c040a&&(this[_0x343a94(0xf0)]=this[_0x343a94(0xf0)]||this[_0x343a94(0x96)][_0x343a94(0xd4)](this),_0x3c040a[_0x343a94(0x97)](_0x343a94(0x9f),this[_0x343a94(0xf0)]),_0x3c040a['addEventListener'](_0x343a94(0x99),this[_0x343a94(0xf0)]),_0x3c040a[_0x343a94(0x97)](_0x343a94(0xee),this[_0x343a94(0xf0)]),this['_pointerUnsub']=()=>{const _0x5b154b=_0x343a94;_0x3c040a[_0x5b154b(0xf1)]('pointermove',this[_0x5b154b(0xf0)]),_0x3c040a[_0x5b154b(0xf1)](_0x5b154b(0x99),this[_0x5b154b(0xf0)]),_0x3c040a[_0x5b154b(0xf1)](_0x5b154b(0xee),this['_boundHandlePointer']);});}[_0x5adcbf(0x96)](_0x15ea37){const _0xee24b2=_0x5adcbf;if(!this[_0xee24b2(0xf5)])return;const _0x34ecb2=this['canvas']['getBoundingClientRect']();if(_0x15ea37[_0xee24b2(0x87)]<_0x34ecb2[_0xee24b2(0x86)]||_0x15ea37[_0xee24b2(0x87)]>_0x34ecb2[_0xee24b2(0xb3)]||_0x15ea37[_0xee24b2(0xa5)]<_0x34ecb2[_0xee24b2(0xe7)]||_0x15ea37['clientY']>_0x34ecb2['bottom'])return;const _0x3e6dc9=_0x15ea37[_0xee24b2(0xfa)];if(_0x3e6dc9&&0x1===_0x3e6dc9[_0xee24b2(0x105)]&&(_0x3e6dc9[_0xee24b2(0xc5)]('.footer-bar')||_0x3e6dc9[_0xee24b2(0xc5)]('[data-role=\x22cast-overlay\x22]')))return;const _0xe5ed37=_0x34ecb2[_0xee24b2(0x119)],_0x224e18=_0x34ecb2[_0xee24b2(0x95)];if(!_0xe5ed37||!_0x224e18)return;const _0x231d4=0x2*((_0x15ea37['clientX']-_0x34ecb2[_0xee24b2(0x86)])/_0xe5ed37-0.5),_0x56bf29=0x2*(0.5-(_0x15ea37[_0xee24b2(0xa5)]-_0x34ecb2[_0xee24b2(0xe7)])/_0x224e18);this[_0xee24b2(0xb2)]={'x':this['clamp'](_0x231d4,-0x1,0x1),'y':this[_0xee24b2(0xcf)](_0x56bf29,-0x1,0x1)},this[_0xee24b2(0x125)]='undefined'!=typeof performance?0.001*performance[_0xee24b2(0x8b)]():Date[_0xee24b2(0x8b)]()/0x3e8;}['onUpdate'](_0x1ad22b){const _0xcb38c4=_0x5adcbf;if(!_0x1ad22b)return;const _0x466c8c=this[_0xcb38c4(0xcf)](_0x1ad22b['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x1dc247=Number[_0xcb38c4(0xed)](_0x466c8c)?_0x466c8c:0x1/0x3c,_0x454c84=this[_0xcb38c4(0xcf)](1.5*(_0x1ad22b[_0xcb38c4(0xbd)]??_0x1ad22b[_0xcb38c4(0xf6)]??0x0),0x0,1.4);this[_0xcb38c4(0x98)][_0xcb38c4(0xd3)]=_0x454c84,this[_0xcb38c4(0xfc)](_0x454c84);const _0x3ee7aa=this[_0xcb38c4(0x11a)]['values']['length']?this[_0xcb38c4(0x11a)]['sum']/this[_0xcb38c4(0x11a)][_0xcb38c4(0xd6)][_0xcb38c4(0xcc)]:_0x454c84,_0x485f3f=(_0x3ee7aa>0.001?(_0x454c84-_0x3ee7aa)/_0x3ee7aa:0x0)>0.05?0x1:-0x1;_0x485f3f!==this[_0xcb38c4(0xda)]&&(this[_0xcb38c4(0xda)]=_0x485f3f,this[_0xcb38c4(0x98)][_0xcb38c4(0xfe)]=0.5*_0x485f3f);const _0x5b75df=this[_0xcb38c4(0xcf)](_0x1ad22b[_0xcb38c4(0xc0)]??0x0,0x0,0x1);Boolean(_0x1ad22b['isBeat'])&&_0x5b75df>0.3&&this['_beatCooldown']<=0x0&&(this[_0xcb38c4(0x122)]*=-0x1,this['_flowDirection']!==Math[_0xcb38c4(0xd8)](this[_0xcb38c4(0x98)][_0xcb38c4(0xdb)]||0x0)&&(this[_0xcb38c4(0x98)]['flowXTarget']=0.5*this[_0xcb38c4(0x122)]),this[_0xcb38c4(0xfd)]=0.22),this[_0xcb38c4(0xfd)]=Math[_0xcb38c4(0x113)](0x0,this[_0xcb38c4(0xfd)]-_0x1dc247);const _0x65f032=(_0xcb38c4(0x115)!=typeof performance?0.001*performance[_0xcb38c4(0x8b)]():Date[_0xcb38c4(0x8b)]()/0x3e8)-(this['_pointerLastAt']||0x0)<this[_0xcb38c4(0x108)],_0x45a754=0x3c*_0x1dc247,_0x11133d=0x1-Math[_0xcb38c4(0xe5)](0.92,_0x45a754),_0x209a57=0x1-Math[_0xcb38c4(0xe5)](0.95,_0x45a754);_0x65f032||(this[_0xcb38c4(0xb2)]['x']=this[_0xcb38c4(0x101)](this[_0xcb38c4(0xb2)]['x'],0x0,_0x11133d),this[_0xcb38c4(0xb2)]['y']=this['lerp'](this[_0xcb38c4(0xb2)]['y'],0x0,_0x11133d));const _0x275d6c=this[_0xcb38c4(0xcf)](this['_state'][_0xcb38c4(0xdb)]+(_0x65f032?this[_0xcb38c4(0xb2)]['x']:0x0),-0x1,0x1),_0x4a911b=this[_0xcb38c4(0xcf)](this[_0xcb38c4(0x98)]['flowYTarget']+(_0x65f032?this['_pointerBias']['y']:0x0),-0x1,0x1);this['_state'][_0xcb38c4(0x110)]=this[_0xcb38c4(0x101)](this[_0xcb38c4(0x98)]['flowX'],_0x275d6c,_0x209a57),this['_state']['flowY']=this['lerp'](this[_0xcb38c4(0x98)][_0xcb38c4(0xd9)],_0x4a911b,_0x209a57);}[_0x5adcbf(0xb1)](){const _0x347c3d=_0x5adcbf,_0x1df961=this['gl'];if(!_0x1df961||!this['canvas'])return;if(!this[_0x347c3d(0x10f)]||!this[_0x347c3d(0x93)]||!this[_0x347c3d(0x111)])try{this[_0x347c3d(0xf8)](_0x1df961),this[_0x347c3d(0xe3)](!0x0);}catch{return;}const _0x432604='undefined'!=typeof performance?0.001*performance[_0x347c3d(0x8b)]():Date['now']()/0x3e8,_0xf498f5=this[_0x347c3d(0x104)]?_0x432604-this[_0x347c3d(0x104)]:0x1/0x3c,_0x515971=this[_0x347c3d(0xcf)](_0xf498f5,0x1/0xf0,0.2);this['_lastRenderAt']=_0x432604,this[_0x347c3d(0xba)]+=_0x515971;const _0x210ebe=_0x1df961['drawingBufferWidth']||this[_0x347c3d(0xf5)]?.['width']||0x1,_0xd2a1dd=_0x1df961['drawingBufferHeight']||this['canvas']?.[_0x347c3d(0x95)]||0x1;if(_0x210ebe<=0x0||_0xd2a1dd<=0x0)return;const _0x89fd9b=this[_0x347c3d(0xb8)]||0.8,_0x59b321=Math['max'](0x8,Math[_0x347c3d(0x8c)](_0x210ebe*_0x89fd9b)),_0x1265f1=Math['max'](0x8,Math[_0x347c3d(0x8c)](_0xd2a1dd*_0x89fd9b));this[_0x347c3d(0xab)](_0x59b321,_0x1265f1);const _0x3ff830=this['_readTarget'],_0x1d8729=this[_0x347c3d(0xae)];if(!_0x3ff830||!_0x1d8729)return;_0x1df961['viewport'](0x0,0x0,_0x59b321,_0x1265f1),_0x1df961[_0x347c3d(0x103)](_0x1df961[_0x347c3d(0xb0)],_0x1d8729[_0x347c3d(0x116)]),_0x1df961['useProgram'](this[_0x347c3d(0x10f)]),_0x3a613d(_0x1df961,this[_0x347c3d(0x111)],this[_0x347c3d(0xd1)][_0x347c3d(0xfb)]??0x0);const _0x46201b=this[_0x347c3d(0xa1)][_0x347c3d(0xc3)];if(_0x46201b?.['uResolution']&&_0x1df961['uniform2f'](_0x46201b['uResolution'],_0x59b321,_0x1265f1),_0x46201b?.[_0x347c3d(0xbb)]&&_0x1df961[_0x347c3d(0xad)](_0x46201b['uTime'],this[_0x347c3d(0xba)]),_0x46201b?.[_0x347c3d(0x90)]&&_0x1df961['uniform1f'](_0x46201b[_0x347c3d(0x90)],0.97),_0x46201b?.[_0x347c3d(0xa8)]&&_0x1df961[_0x347c3d(0xa0)](_0x46201b[_0x347c3d(0xa8)],this[_0x347c3d(0x98)]['flowX'],this[_0x347c3d(0x98)][_0x347c3d(0xd9)]),_0x46201b?.[_0x347c3d(0x9b)]){const _0x30abad=this[_0x347c3d(0xcb)]()[_0x347c3d(0xec)]<0x384?1.4:0x1;_0x1df961[_0x347c3d(0xad)](_0x46201b[_0x347c3d(0x9b)],_0x30abad);}if(_0x46201b?.[_0x347c3d(0xa3)]){const _0x29492b=this[_0x347c3d(0xcb)]()[_0x347c3d(0xec)]<0x384?2.5:0x1;_0x1df961[_0x347c3d(0xad)](_0x46201b[_0x347c3d(0xa3)],_0x29492b);}_0x46201b?.['uPrev']&&(_0x1df961[_0x347c3d(0xeb)](_0x1df961[_0x347c3d(0x124)]),_0x1df961[_0x347c3d(0xbf)](_0x1df961['TEXTURE_2D'],_0x3ff830['texture']),_0x1df961['uniform1i'](_0x46201b[_0x347c3d(0xf4)],0x0)),_0x537187(_0x1df961),_0x1df961['bindFramebuffer'](_0x1df961[_0x347c3d(0xb0)],null),_0x1df961['viewport'](0x0,0x0,_0x210ebe,_0xd2a1dd),_0x1df961['useProgram'](this['_presentProgram']);const _0x3fec08=this[_0x347c3d(0xa1)]['present'];_0x3fec08?.[_0x347c3d(0xb4)]&&(_0x1df961[_0x347c3d(0xeb)](_0x1df961[_0x347c3d(0x124)]),_0x1df961['bindTexture'](_0x1df961['TEXTURE_2D'],_0x1d8729[_0x347c3d(0x8a)]),_0x1df961[_0x347c3d(0xc1)](_0x3fec08['uScene'],0x0)),_0x3fec08?.[_0x347c3d(0xa7)]&&_0x1df961[_0x347c3d(0xad)](_0x3fec08[_0x347c3d(0xa7)],this[_0x347c3d(0x98)]['lastVolume']||0x0),_0x537187(_0x1df961),this[_0x347c3d(0xff)]();}[_0x5adcbf(0x10d)](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}['_computeTargetScale'](){const _0x4c2020=_0x5adcbf,_0x4bb92d=this['getViewportProfile'](),_0x28de68=this[_0x4c2020(0xcf)](0.06*(_0x4bb92d['densityScale']??0x1),-0.06,0.1);return this[_0x4c2020(0xcf)](0.88+_0x28de68,0.65,0x1);}['_buildResources'](_0x20b1d0){const _0x14d026=_0x5adcbf;this[_0x14d026(0xaf)](),this['_feedbackProgram']=this['createProgram'](n,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this['_presentProgram']=this[_0x14d026(0x102)](n,_0x14d026(0x8f),{'aPosition':0x0}),this['_attributes']['aPosition']=_0x20b1d0[_0x14d026(0xd5)](this[_0x14d026(0x10f)],_0x14d026(0xfb)),(this[_0x14d026(0xd1)]['aPosition']??-0x1)<0x0&&(this['_attributes'][_0x14d026(0xfb)]=0x0),this[_0x14d026(0xa1)][_0x14d026(0xc3)]={'uResolution':_0x20b1d0[_0x14d026(0x9c)](this[_0x14d026(0x10f)],_0x14d026(0xa9)),'uTime':_0x20b1d0[_0x14d026(0x9c)](this[_0x14d026(0x10f)],_0x14d026(0xc2)),'uPrev':_0x20b1d0['getUniformLocation'](this[_0x14d026(0x10f)],'u_buffer'),'uFeedback':_0x20b1d0['getUniformLocation'](this[_0x14d026(0x10f)],_0x14d026(0xf3)),'uWarpDir':_0x20b1d0[_0x14d026(0x9c)](this[_0x14d026(0x10f)],_0x14d026(0x10a)),'uZoom':_0x20b1d0['getUniformLocation'](this[_0x14d026(0x10f)],_0x14d026(0x9e)),'uWarpStrength':_0x20b1d0[_0x14d026(0x9c)](this['_feedbackProgram'],_0x14d026(0xb9))},this[_0x14d026(0xa1)][_0x14d026(0xcd)]={'uScene':_0x20b1d0[_0x14d026(0x9c)](this[_0x14d026(0x93)],_0x14d026(0x11c)),'uVolume':_0x20b1d0[_0x14d026(0x9c)](this['_presentProgram'],_0x14d026(0x112))},this['_quadBuffer']=_0x5f93d0(_0x20b1d0,{'autoDispose':this[_0x14d026(0xd0)][_0x14d026(0xd4)](this)});}[_0x5adcbf(0xab)](_0x4caaa7,_0x40fc30){const _0x529ad2=_0x5adcbf;_0x4caaa7===this[_0x529ad2(0xe2)]&&_0x40fc30===this['_targetHeight']&&this[_0x529ad2(0x100)]&&this[_0x529ad2(0xae)]||(this[_0x529ad2(0xe2)]=_0x4caaa7,this[_0x529ad2(0x117)]=_0x40fc30,this['_resizeTargets'](!0x0));}['_resizeTargets'](_0x3d5f56=!0x1){const _0x44acee=_0x5adcbf,_0x374919=this['gl'];if(!_0x374919)return;const _0x3247f1=Math[_0x44acee(0x113)](0x8,Math['floor'](this[_0x44acee(0xe2)]||_0x374919['drawingBufferWidth']||0x1)),_0xf71289=Math[_0x44acee(0x113)](0x8,Math[_0x44acee(0x8c)](this[_0x44acee(0x117)]||_0x374919[_0x44acee(0x92)]||0x1));!_0x3d5f56&&this['_readTarget']&&this['_writeTarget']||(this['_destroyTarget'](this[_0x44acee(0x100)]),this['_destroyTarget'](this['_writeTarget']),this['_readTarget']=this[_0x44acee(0x121)](_0x374919,_0x3247f1,_0xf71289),this[_0x44acee(0xae)]=this['_createTarget'](_0x374919,_0x3247f1,_0xf71289));}[_0x5adcbf(0x121)](_0x419dc2,_0x4c4595,_0x1fcc24){const _0x4f3f30=_0x5adcbf,_0x9c28b6=_0x419dc2['createTexture'](),_0x175222=_0x419dc2[_0x4f3f30(0xea)]();if(!_0x9c28b6||!_0x175222)throw new Error(_0x4f3f30(0xf7));this[_0x4f3f30(0xd0)](_0x9c28b6,(_0x36c8f3,_0x4da223)=>_0x36c8f3[_0x4f3f30(0x9d)](_0x4da223)),this['autoDispose'](_0x175222,(_0x5ad366,_0x2029f)=>_0x5ad366[_0x4f3f30(0xe4)](_0x2029f)),_0x419dc2[_0x4f3f30(0xbf)](_0x419dc2['TEXTURE_2D'],_0x9c28b6),_0x419dc2[_0x4f3f30(0xf2)](_0x419dc2[_0x4f3f30(0x123)],0x0,_0x419dc2[_0x4f3f30(0x11b)],_0x4c4595,_0x1fcc24,0x0,_0x419dc2['RGBA'],_0x419dc2[_0x4f3f30(0xc8)],null),_0x419dc2[_0x4f3f30(0xa2)](_0x419dc2[_0x4f3f30(0x123)],_0x419dc2[_0x4f3f30(0x109)],_0x419dc2[_0x4f3f30(0x120)]),_0x419dc2[_0x4f3f30(0xa2)](_0x419dc2['TEXTURE_2D'],_0x419dc2['TEXTURE_MAG_FILTER'],_0x419dc2[_0x4f3f30(0x120)]),_0x419dc2['texParameteri'](_0x419dc2[_0x4f3f30(0x123)],_0x419dc2[_0x4f3f30(0x11f)],_0x419dc2['CLAMP_TO_EDGE']),_0x419dc2[_0x4f3f30(0xa2)](_0x419dc2[_0x4f3f30(0x123)],_0x419dc2[_0x4f3f30(0xde)],_0x419dc2[_0x4f3f30(0xca)]),_0x419dc2['bindFramebuffer'](_0x419dc2[_0x4f3f30(0xb0)],_0x175222),_0x419dc2[_0x4f3f30(0xb5)](_0x419dc2[_0x4f3f30(0xb0)],_0x419dc2[_0x4f3f30(0x10c)],_0x419dc2[_0x4f3f30(0x123)],_0x9c28b6,0x0);if(_0x419dc2[_0x4f3f30(0x8e)](_0x419dc2[_0x4f3f30(0xb0)])!==_0x419dc2[_0x4f3f30(0xdc)])throw _0x419dc2['bindFramebuffer'](_0x419dc2[_0x4f3f30(0xb0)],null),_0x419dc2[_0x4f3f30(0xbf)](_0x419dc2[_0x4f3f30(0x123)],null),new Error(_0x4f3f30(0xce));return _0x419dc2['bindFramebuffer'](_0x419dc2[_0x4f3f30(0xb0)],null),_0x419dc2['bindTexture'](_0x419dc2[_0x4f3f30(0x123)],null),{'texture':_0x9c28b6,'fbo':_0x175222,'width':_0x4c4595,'height':_0x1fcc24};}[_0x5adcbf(0x106)](_0x2228c3){const _0x1dc3e0=_0x5adcbf;_0x2228c3&&(this['releaseGLResource'](_0x2228c3[_0x1dc3e0(0x8a)]),this['releaseGLResource'](_0x2228c3[_0x1dc3e0(0x116)]));}[_0x5adcbf(0xff)](){const _0x44578d=_0x5adcbf,_0x342afb=this[_0x44578d(0x100)];this[_0x44578d(0x100)]=this['_writeTarget'],this[_0x44578d(0xae)]=_0x342afb;}[_0x5adcbf(0xfc)](_0xfde447){const _0x433c41=_0x5adcbf,_0x40dab9=this[_0x433c41(0x11a)];if(_0x40dab9[_0x433c41(0xd6)][_0x433c41(0x8d)](_0xfde447),_0x40dab9['sum']+=_0xfde447,_0x40dab9['values'][_0x433c41(0xcc)]>_0x40dab9[_0x433c41(0x113)]){const _0x3547a3=_0x40dab9[_0x433c41(0xd6)][_0x433c41(0xaa)]();_0x40dab9['sum']-=_0x3547a3??0x0;}}}_0x4d8d0a(_0x5adcbf(0x118),a,{'meta':a[_0x5adcbf(0xe1)]});
