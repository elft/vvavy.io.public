const _0x4e15c7=_0x403e;(function(_0x2ffe04,_0x4052a7){const _0x2e22ed=_0x403e,_0x4891c1=_0x2ffe04();while(!![]){try{const _0x37bdc9=parseInt(_0x2e22ed(0xd3))/0x1+-parseInt(_0x2e22ed(0xe2))/0x2+-parseInt(_0x2e22ed(0xfc))/0x3*(-parseInt(_0x2e22ed(0x145))/0x4)+-parseInt(_0x2e22ed(0xb8))/0x5+-parseInt(_0x2e22ed(0xbd))/0x6*(parseInt(_0x2e22ed(0x119))/0x7)+parseInt(_0x2e22ed(0x128))/0x8+parseInt(_0x2e22ed(0x130))/0x9*(parseInt(_0x2e22ed(0x140))/0xa);if(_0x37bdc9===_0x4052a7)break;else _0x4891c1['push'](_0x4891c1['shift']());}catch(_0x471e16){_0x4891c1['push'](_0x4891c1['shift']());}}}(_0x2ed3,0x5840a));function _0x403e(_0x1a3d2e,_0x1fbc95){const _0x2ed33e=_0x2ed3();return _0x403e=function(_0x403e77,_0x45bd88){_0x403e77=_0x403e77-0xac;let _0x13f5e4=_0x2ed33e[_0x403e77];return _0x13f5e4;},_0x403e(_0x1a3d2e,_0x1fbc95);}import{W as _0x5d27ca,V as _0x337a30,r as _0x5ec06f}from'./main.min.js';function _0x2ed3(){const _0x2ff3b0=['CLAMP_TO_EDGE','rmsTime','.footer-bar','destroy','addEventListener','left','init','push','LINEAR','uniform2f','clientY','length','3204575WDfTdw','uWarpDir','bindFramebuffer','_attributes','_ensureTargets','2748nxRBqE','Framebuffer\x20incomplete\x20for\x20groove','drawingBufferWidth','getViewportProfile','flowY','STENCIL_TEST','_flowDirection','TEXTURE0','FRAMEBUFFER_COMPLETE','height','u_feedback','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20sampler2D\x20u_scene;\x0auniform\x20float\x20u_volume;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20color\x20=\x20texture2D(u_scene,\x20v_uv).rgb;\x0a\x0a\x20\x20//\x20Slight\x20brightness\x20boost\x20based\x20on\x20volume\x0a\x20\x20//\x20Using\x20multiplication\x20to\x20preserve\x20color\x20saturation\x20(avoid\x20washing\x20out)\x0a\x20\x20color\x20*=\x20(1.0\x20+\x20u_volume\x20*\x200.6);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','clamp','Failed\x20to\x20allocate\x20framebuffer\x20for\x20groove','_quadBuffer','releaseGLResource','uScene','aPosition','createTexture','TEXTURE_MAG_FILTER','texImage2D','_verticalDirection','222063Iqfirz','nodeType','viewport','u_warpStrength','_readTarget','_feedbackProgram','TEXTURE_2D','_lastRenderAt','_state','u_resolution','deleteTexture','COLOR_ATTACHMENT0','_targetScale','_writeTarget','flowX','90326EkpXlj','sign','_computeTargetScale','autoDispose','bottom','_targetWidth','undefined','shift','pointerdown','lastVolume','_uniforms','_resizeTargets','pow','fbo','onRender','closest','onUpdate','lerp','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20v_uv;\x0a\x0auniform\x20vec2\x20u_resolution;\x0auniform\x20float\x20u_time;\x0auniform\x20sampler2D\x20u_buffer;\x0auniform\x20float\x20u_feedback;\x0auniform\x20vec2\x20u_warpDirection;\x0auniform\x20float\x20u_zoom;\x0auniform\x20float\x20u_warpStrength;\x0a\x0avec3\x20mod289(vec3\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec2\x20mod289(vec2\x20x)\x20{\x20return\x20x\x20-\x20floor(x\x20*\x20(1.0\x20/\x20289.0))\x20*\x20289.0;\x20}\x0avec3\x20permute(vec3\x20x)\x20{\x20return\x20mod289(((x\x20*\x2034.0)\x20+\x201.0)\x20*\x20x);\x20}\x0afloat\x20snoise(vec2\x20v)\x20{\x0a\x20\x20const\x20vec4\x20C\x20=\x20vec4(0.211324865405187,\x200.366025403784439,\x20-0.577350269189626,\x200.024390243902439);\x0a\x20\x20vec2\x20i\x20=\x20floor(v\x20+\x20dot(v,\x20C.yy));\x0a\x20\x20vec2\x20x0\x20=\x20v\x20-\x20i\x20+\x20dot(i,\x20C.xx);\x0a\x20\x20vec2\x20i1\x20=\x20(x0.x\x20>\x20x0.y)\x20?\x20vec2(1.0,\x200.0)\x20:\x20vec2(0.0,\x201.0);\x0a\x20\x20vec4\x20x12\x20=\x20x0.xyxy\x20+\x20C.xxzz;\x0a\x20\x20x12.xy\x20-=\x20i1;\x0a\x20\x20i\x20=\x20mod289(i);\x0a\x20\x20vec3\x20p\x20=\x20permute(permute(i.y\x20+\x20vec3(0.0,\x20i1.y,\x201.0))\x20+\x20i.x\x20+\x20vec3(0.0,\x20i1.x,\x201.0));\x0a\x20\x20vec3\x20m\x20=\x20max(0.5\x20-\x20vec3(dot(x0,\x20x0),\x20dot(x12.xy,\x20x12.xy),\x20dot(x12.zw,\x20x12.zw)),\x200.0);\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20m\x20=\x20m\x20*\x20m;\x0a\x20\x20vec3\x20x\x20=\x202.0\x20*\x20fract(p\x20*\x20C.www)\x20-\x201.0;\x0a\x20\x20vec3\x20h\x20=\x20abs(x)\x20-\x200.5;\x0a\x20\x20vec3\x20a0\x20=\x20x\x20-\x20floor(x\x20+\x200.5);\x0a\x20\x20m\x20*=\x201.79284291400159\x20-\x200.85373472095314\x20*\x20(a0\x20*\x20a0\x20+\x20h\x20*\x20h);\x0a\x20\x20vec3\x20g;\x0a\x20\x20g.x\x20=\x20a0.x\x20*\x20x0.x\x20+\x20h.x\x20*\x20x0.y;\x0a\x20\x20g.yz\x20=\x20a0.yz\x20*\x20x12.xz\x20+\x20h.yz\x20*\x20x12.yw;\x0a\x20\x20return\x20130.0\x20*\x20dot(m,\x20g);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20p\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20u_resolution.xy)\x20/\x20min(u_resolution.y,\x20u_resolution.x);\x0a\x20\x20p\x20*=\x20u_zoom;\x20//\x20Apply\x20zoom\x20to\x20move\x20camera\x20in/out\x0a\x20\x20float\x20n\x20=\x20snoise(p\x20*\x200.8\x20+\x20u_time\x20*\x200.1);\x0a\x20\x20vec2\x20feedbackUV\x20=\x20v_uv;\x0a\x0a\x20\x20vec2\x20drift\x20=\x20u_warpDirection\x20*\x200.008\x20*\x20u_warpStrength;\x0a\x20\x20feedbackUV\x20=\x20(feedbackUV\x20-\x200.5)\x20*\x200.997\x20+\x200.5\x20-\x20drift;\x0a\x0a\x20\x20vec4\x20prev\x20=\x20texture2D(u_buffer,\x20feedbackUV\x20+\x20n\x20*\x200.002);\x0a\x0a\x20\x20float\x20ring\x20=\x20smoothstep(0.015,\x200.0,\x20abs(length(p)\x20-\x200.2\x20+\x200.05\x20*\x20snoise(p\x20*\x203.0\x20+\x20u_time\x20*\x200.5)));\x0a\x20\x20vec3\x20currentMap\x20=\x200.5\x20+\x200.5\x20*\x20cos(u_time\x20+\x20p.xyx\x20+\x20vec3(0.0,\x202.0,\x204.0));\x0a\x20\x20vec3\x20current\x20=\x20currentMap\x20*\x20ring;\x0a\x0a\x20\x20vec3\x20finalColor\x20=\x20current\x20+\x20prev.rgb\x20*\x20u_feedback;\x0a\x20\x20finalColor.rb\x20*=\x200.995;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a}\x0a','DEPTH_TEST','values','shortEdge','meta','isBeat','INTERACTIVE','_pointerUnsub','1455cKptLf','TEXTURE_WRAP_S','GROOVY','UNSIGNED_BYTE','_volumeHistory','drawingBufferHeight','STATUS','uniform1f','removeEventListener','flowYTarget','_audioTime','uVolume','bindTexture','present','uFeedback','width','disable','top','getBoundingClientRect','uResolution','_updateVolumeHistory','onResize','uTime','u_zoom','u_warpDirection','max','VIBE','TEXTURE_WRAP_T','texParameteri','1379KYNjzL','CULL_FACE','_pointerLastAt','_createDefaultState','vvavy','u_time','MID','deleteFramebuffer','u_scene','getUniformLocation','texture','u_buffer','feedback','_pointerBias','canvas','1348816HlrrHq','u_volume','bind','uWarpStrength','_destroyTarget','RGBA','pointermove','click','8586chijJu','now','TRIPPY','flushTrackedGLResources','_buildResources','createProgram','flowXTarget','_pointerIdleSeconds','createFramebuffer','TECH','clientX','uPrev','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20v_uv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20v_uv\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','FRAMEBUFFER','_setupInteractions','uniform1i','2590cOYOzA','blendFunc','floor','beatConfidence','_targetHeight','4124BSFSDi','_createTarget','ENERGY','sum','_presentProgram','framebufferTexture2D','useProgram','_boundHandlePointer','groove','checkFramebufferStatus','_beatCooldown','[data-role=\x22cast-overlay\x22]','uZoom','_swapTargets'];_0x2ed3=function(){return _0x2ff3b0;};return _0x2ed3();}import{b as _0x5b756c,d as _0x4f7445,c as _0x5f1483}from'./fullscreen-quad.min.js';var n=_0x4e15c7(0x13c);class a extends _0x5d27ca{static [_0x4e15c7(0xf8)]={'savedAt':0x19c5969cbe3,'createdBy':_0x4e15c7(0x11d),'description':'Temporal\x20feedback\x20currents\x20with\x20beat-toggled\x20drift\x20and\x20volume-steered\x20vertical\x20flow.','tags':[_0x337a30[_0x4e15c7(0x139)]['GEOMETRY'],_0x337a30[_0x4e15c7(0x116)][_0x4e15c7(0x132)],_0x337a30[_0x4e15c7(0x147)][_0x4e15c7(0x11f)],_0x337a30['TEMPO'][_0x4e15c7(0xfe)],_0x337a30[_0x4e15c7(0x139)]['HD'],_0x337a30[_0x4e15c7(0x139)][_0x4e15c7(0xfa)],_0x337a30[_0x4e15c7(0x102)]['POPULAR']]};constructor(_0x530bf0){const _0x37df83=_0x4e15c7;super({..._0x530bf0,'config':{..._0x530bf0?.['config']??{},'backgroundColor':'#000000'}}),this[_0x37df83(0xd8)]=null,this[_0x37df83(0x149)]=null,this[_0x37df83(0xec)]={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0x37df83(0xcb)]=null,this[_0x37df83(0xd7)]=null,this['_writeTarget']=null,this[_0x37df83(0xe7)]=0x0,this[_0x37df83(0x144)]=0x0,this['_targetScale']=0.8,this['_lastRenderAt']=null,this[_0x37df83(0x106)]=0x0,this[_0x37df83(0x14f)]=0x0,this[_0x37df83(0xc3)]=0x1,this[_0x37df83(0xd2)]=0x0,this[_0x37df83(0x100)]={'values':[],'sum':0x0,'max':0x3c},this[_0x37df83(0x126)]={'x':0x0,'y':0x0},this['_pointerLastAt']=0x0,this['_pointerIdleSeconds']=0.6,this['_pointerUnsub']=null,this[_0x37df83(0xdb)]=this[_0x37df83(0x11c)]();}[_0x4e15c7(0xb2)](){const _0x53525f=_0x4e15c7,_0x3692d7=this['gl'];if(!_0x3692d7)return;_0x3692d7[_0x53525f(0x10c)](_0x3692d7[_0x53525f(0xf5)]),_0x3692d7['disable'](_0x3692d7[_0x53525f(0x11a)]),_0x3692d7[_0x53525f(0x10c)](_0x3692d7[_0x53525f(0xc2)]),_0x3692d7[_0x53525f(0x141)](_0x3692d7['ONE'],_0x3692d7['ZERO']),this[_0x53525f(0x134)](_0x3692d7),this[_0x53525f(0xdf)]=this[_0x53525f(0xe4)]();const _0x5e0941=_0x3692d7[_0x53525f(0xbf)]||this['width']||this[_0x53525f(0x127)]?.[_0x53525f(0x10b)]||0x1,_0x4ff7fd=_0x3692d7[_0x53525f(0x101)]||this[_0x53525f(0xc6)]||this['canvas']?.[_0x53525f(0xc6)]||0x1;this['_targetWidth']=Math[_0x53525f(0x115)](0x8,Math[_0x53525f(0x142)](_0x5e0941*this[_0x53525f(0xdf)])),this[_0x53525f(0x144)]=Math[_0x53525f(0x115)](0x8,Math['floor'](_0x4ff7fd*this['_targetScale'])),this['_resizeTargets'](!0x0),this[_0x53525f(0x106)]=0x0,this[_0x53525f(0xda)]=null,this[_0x53525f(0x13e)]();}['destroy'](){const _0xf37f02=_0x4e15c7;this[_0xf37f02(0x133)](),this[_0xf37f02(0xfb)]?.(),this['_pointerUnsub']=null,this[_0xf37f02(0xe0)]=null,super[_0xf37f02(0xaf)]();}['resetState'](){const _0x13c05f=_0x4e15c7;this[_0x13c05f(0x106)]=0x0,this[_0x13c05f(0xda)]=null,this['_beatCooldown']=0x0,this[_0x13c05f(0xc3)]=0x1,this[_0x13c05f(0xd2)]=0x0,this[_0x13c05f(0x100)]={'values':[],'sum':0x0,'max':0x3c},this['_pointerBias']={'x':0x0,'y':0x0},this[_0x13c05f(0x11b)]=0x0,this[_0x13c05f(0xdb)]=this[_0x13c05f(0x11c)](),this[_0x13c05f(0x133)](),this[_0x13c05f(0xd7)]=null,this['_writeTarget']=null,this[_0x13c05f(0xd8)]=null,this[_0x13c05f(0x149)]=null,this[_0x13c05f(0xcb)]=null,this['gl']&&this['_resizeTargets'](!0x0);}['onResize'](){const _0x43d5c3=_0x4e15c7;super[_0x43d5c3(0x111)]?.(),this[_0x43d5c3(0xdf)]=this['_computeTargetScale']();const _0x36d4a2=this['gl'],_0x330930=_0x36d4a2?.[_0x43d5c3(0xbf)]||this[_0x43d5c3(0x10b)]||this['canvas']?.[_0x43d5c3(0x10b)]||0x1,_0x2e71b6=_0x36d4a2?.[_0x43d5c3(0x101)]||this['height']||this[_0x43d5c3(0x127)]?.[_0x43d5c3(0xc6)]||0x1;this['_targetWidth']=Math['max'](0x8,Math[_0x43d5c3(0x142)](_0x330930*this[_0x43d5c3(0xdf)])),this[_0x43d5c3(0x144)]=Math[_0x43d5c3(0x115)](0x8,Math[_0x43d5c3(0x142)](_0x2e71b6*this[_0x43d5c3(0xdf)])),this['_resizeTargets'](!0x0);}[_0x4e15c7(0x13e)](){const _0x4817ed=_0x4e15c7,_0x44b794=this['canvas']?.['parentElement']||(_0x4817ed(0xe8)!=typeof window?window:null);_0x44b794&&(this[_0x4817ed(0x14c)]=this[_0x4817ed(0x14c)]||this['_handlePointer'][_0x4817ed(0x12a)](this),_0x44b794[_0x4817ed(0xb0)]('pointermove',this[_0x4817ed(0x14c)]),_0x44b794['addEventListener'](_0x4817ed(0xea),this[_0x4817ed(0x14c)]),_0x44b794[_0x4817ed(0xb0)](_0x4817ed(0x12f),this['_boundHandlePointer']),this[_0x4817ed(0xfb)]=()=>{const _0x670b37=_0x4817ed;_0x44b794[_0x670b37(0x104)](_0x670b37(0x12e),this[_0x670b37(0x14c)]),_0x44b794['removeEventListener'](_0x670b37(0xea),this['_boundHandlePointer']),_0x44b794[_0x670b37(0x104)]('click',this[_0x670b37(0x14c)]);});}['_handlePointer'](_0x1d83a3){const _0x3460ca=_0x4e15c7;if(!this['canvas'])return;const _0x244130=this[_0x3460ca(0x127)][_0x3460ca(0x10e)]();if(_0x1d83a3['clientX']<_0x244130[_0x3460ca(0xb1)]||_0x1d83a3[_0x3460ca(0x13a)]>_0x244130['right']||_0x1d83a3[_0x3460ca(0xb6)]<_0x244130[_0x3460ca(0x10d)]||_0x1d83a3['clientY']>_0x244130[_0x3460ca(0xe6)])return;const _0x440310=_0x1d83a3['target'];if(_0x440310&&0x1===_0x440310[_0x3460ca(0xd4)]&&(_0x440310['closest'](_0x3460ca(0xae))||_0x440310[_0x3460ca(0xf1)](_0x3460ca(0x150))))return;const _0x59609e=_0x244130[_0x3460ca(0x10b)],_0x152495=_0x244130['height'];if(!_0x59609e||!_0x152495)return;const _0x8b49b6=0x2*((_0x1d83a3[_0x3460ca(0x13a)]-_0x244130[_0x3460ca(0xb1)])/_0x59609e-0.5),_0x373267=0x2*(0.5-(_0x1d83a3['clientY']-_0x244130['top'])/_0x152495);this[_0x3460ca(0x126)]={'x':this['clamp'](_0x8b49b6,-0x1,0x1),'y':this[_0x3460ca(0xc9)](_0x373267,-0x1,0x1)},this[_0x3460ca(0x11b)]=_0x3460ca(0xe8)!=typeof performance?0.001*performance[_0x3460ca(0x131)]():Date['now']()/0x3e8;}[_0x4e15c7(0xf2)](_0x5564a4){const _0x228440=_0x4e15c7;if(!_0x5564a4)return;const _0x478f1f=this['clamp'](_0x5564a4['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x284224=Number['isFinite'](_0x478f1f)?_0x478f1f:0x1/0x3c,_0x45ab8d=this[_0x228440(0xc9)](1.5*(_0x5564a4['overallEnergy']??_0x5564a4[_0x228440(0xad)]??0x0),0x0,1.4);this['_state'][_0x228440(0xeb)]=_0x45ab8d,this[_0x228440(0x110)](_0x45ab8d);const _0x12d0c8=this[_0x228440(0x100)][_0x228440(0xf6)][_0x228440(0xb7)]?this[_0x228440(0x100)][_0x228440(0x148)]/this[_0x228440(0x100)]['values'][_0x228440(0xb7)]:_0x45ab8d,_0x4939e3=(_0x12d0c8>0.001?(_0x45ab8d-_0x12d0c8)/_0x12d0c8:0x0)>0.05?0x1:-0x1;_0x4939e3!==this['_verticalDirection']&&(this['_verticalDirection']=_0x4939e3,this[_0x228440(0xdb)]['flowYTarget']=0.5*_0x4939e3);const _0x2c6561=this['clamp'](_0x5564a4[_0x228440(0x143)]??0x0,0x0,0x1);Boolean(_0x5564a4[_0x228440(0xf9)])&&_0x2c6561>0.3&&this[_0x228440(0x14f)]<=0x0&&(this[_0x228440(0xc3)]*=-0x1,this['_flowDirection']!==Math[_0x228440(0xe3)](this[_0x228440(0xdb)]['flowXTarget']||0x0)&&(this['_state'][_0x228440(0x136)]=0.5*this[_0x228440(0xc3)]),this[_0x228440(0x14f)]=0.22),this[_0x228440(0x14f)]=Math[_0x228440(0x115)](0x0,this[_0x228440(0x14f)]-_0x284224);const _0x416acb=(_0x228440(0xe8)!=typeof performance?0.001*performance[_0x228440(0x131)]():Date['now']()/0x3e8)-(this['_pointerLastAt']||0x0)<this[_0x228440(0x137)],_0x47fbe2=0x3c*_0x284224,_0x48d2ee=0x1-Math[_0x228440(0xee)](0.92,_0x47fbe2),_0xdc9b34=0x1-Math[_0x228440(0xee)](0.95,_0x47fbe2);_0x416acb||(this['_pointerBias']['x']=this[_0x228440(0xf3)](this[_0x228440(0x126)]['x'],0x0,_0x48d2ee),this[_0x228440(0x126)]['y']=this['lerp'](this[_0x228440(0x126)]['y'],0x0,_0x48d2ee));const _0xe0003f=this['clamp'](this[_0x228440(0xdb)][_0x228440(0x136)]+(_0x416acb?this[_0x228440(0x126)]['x']:0x0),-0x1,0x1),_0x1d3a54=this[_0x228440(0xc9)](this[_0x228440(0xdb)][_0x228440(0x105)]+(_0x416acb?this[_0x228440(0x126)]['y']:0x0),-0x1,0x1);this[_0x228440(0xdb)][_0x228440(0xe1)]=this[_0x228440(0xf3)](this[_0x228440(0xdb)][_0x228440(0xe1)],_0xe0003f,_0xdc9b34),this[_0x228440(0xdb)][_0x228440(0xc1)]=this[_0x228440(0xf3)](this['_state'][_0x228440(0xc1)],_0x1d3a54,_0xdc9b34);}[_0x4e15c7(0xf0)](){const _0x1532f1=_0x4e15c7,_0x1b6c16=this['gl'];if(!_0x1b6c16||!this[_0x1532f1(0x127)])return;if(!this[_0x1532f1(0xd8)]||!this['_presentProgram']||!this[_0x1532f1(0xcb)])try{this[_0x1532f1(0x134)](_0x1b6c16),this[_0x1532f1(0xed)](!0x0);}catch{return;}const _0xff875c=_0x1532f1(0xe8)!=typeof performance?0.001*performance[_0x1532f1(0x131)]():Date[_0x1532f1(0x131)]()/0x3e8,_0x38ceae=this[_0x1532f1(0xda)]?_0xff875c-this[_0x1532f1(0xda)]:0x1/0x3c,_0x348c68=this[_0x1532f1(0xc9)](_0x38ceae,0x1/0xf0,0.2);this['_lastRenderAt']=_0xff875c,this[_0x1532f1(0x106)]+=_0x348c68;const _0x3bdcdf=_0x1b6c16[_0x1532f1(0xbf)]||this['canvas']?.['width']||0x1,_0x4c369b=_0x1b6c16['drawingBufferHeight']||this[_0x1532f1(0x127)]?.[_0x1532f1(0xc6)]||0x1;if(_0x3bdcdf<=0x0||_0x4c369b<=0x0)return;const _0x32ac71=this[_0x1532f1(0xdf)]||0.8,_0x4ee050=Math[_0x1532f1(0x115)](0x8,Math['floor'](_0x3bdcdf*_0x32ac71)),_0x594aaf=Math[_0x1532f1(0x115)](0x8,Math['floor'](_0x4c369b*_0x32ac71));this[_0x1532f1(0xbc)](_0x4ee050,_0x594aaf);const _0x155456=this[_0x1532f1(0xd7)],_0x4e3414=this[_0x1532f1(0xe0)];if(!_0x155456||!_0x4e3414)return;_0x1b6c16['viewport'](0x0,0x0,_0x4ee050,_0x594aaf),_0x1b6c16[_0x1532f1(0xba)](_0x1b6c16[_0x1532f1(0x13d)],_0x4e3414[_0x1532f1(0xef)]),_0x1b6c16[_0x1532f1(0x14b)](this[_0x1532f1(0xd8)]),_0x5b756c(_0x1b6c16,this[_0x1532f1(0xcb)],this[_0x1532f1(0xbb)][_0x1532f1(0xce)]??0x0);const _0x4ddef4=this[_0x1532f1(0xec)][_0x1532f1(0x125)];if(_0x4ddef4?.[_0x1532f1(0x10f)]&&_0x1b6c16[_0x1532f1(0xb5)](_0x4ddef4['uResolution'],_0x4ee050,_0x594aaf),_0x4ddef4?.[_0x1532f1(0x112)]&&_0x1b6c16[_0x1532f1(0x103)](_0x4ddef4[_0x1532f1(0x112)],this['_audioTime']),_0x4ddef4?.[_0x1532f1(0x10a)]&&_0x1b6c16[_0x1532f1(0x103)](_0x4ddef4['uFeedback'],0.97),_0x4ddef4?.['uWarpDir']&&_0x1b6c16['uniform2f'](_0x4ddef4[_0x1532f1(0xb9)],this[_0x1532f1(0xdb)][_0x1532f1(0xe1)],this[_0x1532f1(0xdb)]['flowY']),_0x4ddef4?.[_0x1532f1(0x151)]){const _0x50245b=this[_0x1532f1(0xc0)]()['shortEdge']<0x384?1.4:0x1;_0x1b6c16[_0x1532f1(0x103)](_0x4ddef4[_0x1532f1(0x151)],_0x50245b);}if(_0x4ddef4?.['uWarpStrength']){const _0x3a71ed=this[_0x1532f1(0xc0)]()[_0x1532f1(0xf7)]<0x384?2.5:0x1;_0x1b6c16['uniform1f'](_0x4ddef4[_0x1532f1(0x12b)],_0x3a71ed);}_0x4ddef4?.[_0x1532f1(0x13b)]&&(_0x1b6c16['activeTexture'](_0x1b6c16[_0x1532f1(0xc4)]),_0x1b6c16[_0x1532f1(0x108)](_0x1b6c16[_0x1532f1(0xd9)],_0x155456['texture']),_0x1b6c16[_0x1532f1(0x13f)](_0x4ddef4[_0x1532f1(0x13b)],0x0)),_0x4f7445(_0x1b6c16),_0x1b6c16[_0x1532f1(0xba)](_0x1b6c16[_0x1532f1(0x13d)],null),_0x1b6c16[_0x1532f1(0xd5)](0x0,0x0,_0x3bdcdf,_0x4c369b),_0x1b6c16[_0x1532f1(0x14b)](this[_0x1532f1(0x149)]);const _0x10e937=this[_0x1532f1(0xec)][_0x1532f1(0x109)];_0x10e937?.[_0x1532f1(0xcd)]&&(_0x1b6c16['activeTexture'](_0x1b6c16[_0x1532f1(0xc4)]),_0x1b6c16[_0x1532f1(0x108)](_0x1b6c16[_0x1532f1(0xd9)],_0x4e3414[_0x1532f1(0x123)]),_0x1b6c16[_0x1532f1(0x13f)](_0x10e937[_0x1532f1(0xcd)],0x0)),_0x10e937?.[_0x1532f1(0x107)]&&_0x1b6c16[_0x1532f1(0x103)](_0x10e937[_0x1532f1(0x107)],this[_0x1532f1(0xdb)][_0x1532f1(0xeb)]||0x0),_0x4f7445(_0x1b6c16),this[_0x1532f1(0x152)]();}['_createDefaultState'](){return{'flowX':0x0,'flowY':0x0,'flowXTarget':0x0,'flowYTarget':0x0,'lastVolume':0x0};}['_computeTargetScale'](){const _0x122099=_0x4e15c7,_0x325018=this['getViewportProfile'](),_0x2fbcb1=this[_0x122099(0xc9)](0.06*(_0x325018['densityScale']??0x1),-0.06,0.1);return this[_0x122099(0xc9)](0.88+_0x2fbcb1,0.65,0x1);}[_0x4e15c7(0x134)](_0x2f074a){const _0x51353c=_0x4e15c7;this[_0x51353c(0x133)](),this[_0x51353c(0xd8)]=this[_0x51353c(0x135)](n,_0x51353c(0xf4),{'aPosition':0x0}),this['_presentProgram']=this[_0x51353c(0x135)](n,_0x51353c(0xc8),{'aPosition':0x0}),this[_0x51353c(0xbb)]['aPosition']=_0x2f074a['getAttribLocation'](this[_0x51353c(0xd8)],_0x51353c(0xce)),(this[_0x51353c(0xbb)][_0x51353c(0xce)]??-0x1)<0x0&&(this['_attributes']['aPosition']=0x0),this[_0x51353c(0xec)][_0x51353c(0x125)]={'uResolution':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0xd8)],_0x51353c(0xdc)),'uTime':_0x2f074a['getUniformLocation'](this[_0x51353c(0xd8)],_0x51353c(0x11e)),'uPrev':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0xd8)],_0x51353c(0x124)),'uFeedback':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0xd8)],_0x51353c(0xc7)),'uWarpDir':_0x2f074a['getUniformLocation'](this[_0x51353c(0xd8)],_0x51353c(0x114)),'uZoom':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0xd8)],_0x51353c(0x113)),'uWarpStrength':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0xd8)],_0x51353c(0xd6))},this['_uniforms'][_0x51353c(0x109)]={'uScene':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0x149)],_0x51353c(0x121)),'uVolume':_0x2f074a[_0x51353c(0x122)](this[_0x51353c(0x149)],_0x51353c(0x129))},this[_0x51353c(0xcb)]=_0x5f1483(_0x2f074a,{'autoDispose':this[_0x51353c(0xe5)][_0x51353c(0x12a)](this)});}[_0x4e15c7(0xbc)](_0x32333d,_0x459557){const _0xd79a90=_0x4e15c7;_0x32333d===this[_0xd79a90(0xe7)]&&_0x459557===this['_targetHeight']&&this['_readTarget']&&this['_writeTarget']||(this[_0xd79a90(0xe7)]=_0x32333d,this['_targetHeight']=_0x459557,this[_0xd79a90(0xed)](!0x0));}[_0x4e15c7(0xed)](_0x5250a7=!0x1){const _0x51510c=_0x4e15c7,_0x53c60a=this['gl'];if(!_0x53c60a)return;const _0x13d846=Math[_0x51510c(0x115)](0x8,Math[_0x51510c(0x142)](this[_0x51510c(0xe7)]||_0x53c60a[_0x51510c(0xbf)]||0x1)),_0x33df99=Math['max'](0x8,Math[_0x51510c(0x142)](this[_0x51510c(0x144)]||_0x53c60a[_0x51510c(0x101)]||0x1));!_0x5250a7&&this['_readTarget']&&this[_0x51510c(0xe0)]||(this[_0x51510c(0x12c)](this[_0x51510c(0xd7)]),this[_0x51510c(0x12c)](this[_0x51510c(0xe0)]),this[_0x51510c(0xd7)]=this[_0x51510c(0x146)](_0x53c60a,_0x13d846,_0x33df99),this['_writeTarget']=this['_createTarget'](_0x53c60a,_0x13d846,_0x33df99));}[_0x4e15c7(0x146)](_0x297b7f,_0x2e1f5d,_0x259b0f){const _0x36865f=_0x4e15c7,_0x5df9cf=_0x297b7f[_0x36865f(0xcf)](),_0x8a23b5=_0x297b7f[_0x36865f(0x138)]();if(!_0x5df9cf||!_0x8a23b5)throw new Error(_0x36865f(0xca));this[_0x36865f(0xe5)](_0x5df9cf,(_0x51810d,_0xc84180)=>_0x51810d[_0x36865f(0xdd)](_0xc84180)),this[_0x36865f(0xe5)](_0x8a23b5,(_0x38484c,_0x4cc922)=>_0x38484c[_0x36865f(0x120)](_0x4cc922)),_0x297b7f[_0x36865f(0x108)](_0x297b7f[_0x36865f(0xd9)],_0x5df9cf),_0x297b7f[_0x36865f(0xd1)](_0x297b7f[_0x36865f(0xd9)],0x0,_0x297b7f[_0x36865f(0x12d)],_0x2e1f5d,_0x259b0f,0x0,_0x297b7f['RGBA'],_0x297b7f[_0x36865f(0xff)],null),_0x297b7f[_0x36865f(0x118)](_0x297b7f[_0x36865f(0xd9)],_0x297b7f['TEXTURE_MIN_FILTER'],_0x297b7f[_0x36865f(0xb4)]),_0x297b7f[_0x36865f(0x118)](_0x297b7f[_0x36865f(0xd9)],_0x297b7f[_0x36865f(0xd0)],_0x297b7f['LINEAR']),_0x297b7f[_0x36865f(0x118)](_0x297b7f[_0x36865f(0xd9)],_0x297b7f[_0x36865f(0xfd)],_0x297b7f[_0x36865f(0xac)]),_0x297b7f[_0x36865f(0x118)](_0x297b7f['TEXTURE_2D'],_0x297b7f[_0x36865f(0x117)],_0x297b7f[_0x36865f(0xac)]),_0x297b7f[_0x36865f(0xba)](_0x297b7f[_0x36865f(0x13d)],_0x8a23b5),_0x297b7f[_0x36865f(0x14a)](_0x297b7f[_0x36865f(0x13d)],_0x297b7f[_0x36865f(0xde)],_0x297b7f[_0x36865f(0xd9)],_0x5df9cf,0x0);if(_0x297b7f[_0x36865f(0x14e)](_0x297b7f[_0x36865f(0x13d)])!==_0x297b7f[_0x36865f(0xc5)])throw _0x297b7f[_0x36865f(0xba)](_0x297b7f[_0x36865f(0x13d)],null),_0x297b7f[_0x36865f(0x108)](_0x297b7f[_0x36865f(0xd9)],null),new Error(_0x36865f(0xbe));return _0x297b7f[_0x36865f(0xba)](_0x297b7f[_0x36865f(0x13d)],null),_0x297b7f[_0x36865f(0x108)](_0x297b7f[_0x36865f(0xd9)],null),{'texture':_0x5df9cf,'fbo':_0x8a23b5,'width':_0x2e1f5d,'height':_0x259b0f};}[_0x4e15c7(0x12c)](_0x40ed33){const _0x3b0f52=_0x4e15c7;_0x40ed33&&(this[_0x3b0f52(0xcc)](_0x40ed33[_0x3b0f52(0x123)]),this['releaseGLResource'](_0x40ed33[_0x3b0f52(0xef)]));}[_0x4e15c7(0x152)](){const _0x31c12b=_0x4e15c7,_0x5d70ec=this[_0x31c12b(0xd7)];this[_0x31c12b(0xd7)]=this[_0x31c12b(0xe0)],this[_0x31c12b(0xe0)]=_0x5d70ec;}['_updateVolumeHistory'](_0x4d4b27){const _0x3e742f=_0x4e15c7,_0x32cf7e=this[_0x3e742f(0x100)];if(_0x32cf7e[_0x3e742f(0xf6)][_0x3e742f(0xb3)](_0x4d4b27),_0x32cf7e[_0x3e742f(0x148)]+=_0x4d4b27,_0x32cf7e[_0x3e742f(0xf6)][_0x3e742f(0xb7)]>_0x32cf7e[_0x3e742f(0x115)]){const _0x35cc75=_0x32cf7e[_0x3e742f(0xf6)][_0x3e742f(0xe9)]();_0x32cf7e['sum']-=_0x35cc75??0x0;}}}_0x5ec06f(_0x4e15c7(0x14d),a,{'meta':a[_0x4e15c7(0xf8)]});
