const _0x21fed2=_0x1c29;function _0x4ccb(){const _0x18c55a=['_mesh','clamp','dpr','1302862dxHusV','_jellyfishCount','birthTime','onResize','_spawnRate','1879380HrWZEG','_scene','xOffset','now','TEMPO','size','18COfrkS','109908TqHOIe','Electric\x20bioluminescent\x20jellyfish\x20ascending\x20through\x20a\x20cathedral\x20of\x20light.\x20Neon\x20blooms\x20pulse\x20with\x20bass\x20drops\x20and\x20shimmer\x20with\x20treble.','_maxJellyfish','trebleEnergy','VIBE','uMid','TECH','uResolution','dispose','push','_spawnTimer','DREAMY','_renderer','high-performance','_setupThree','random','set','midEnergy','_jellyfishSeeds','destroy','value','setSize','MID','bassEnergy','autoClear','uDrop','speed','272408OisFfq','seed','_startTime','uBass','uStereo','precision\x20highp\x20float;\x0a\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uTime;\x0a\x0a//\x20Audio\x20uniforms\x0auniform\x20float\x20uBass;\x0auniform\x20float\x20uMid;\x0auniform\x20float\x20uTreble;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uStereo;\x0auniform\x20float\x20uDrop;\x0a\x0a//\x20Jellyfish\x20data\x0auniform\x20float\x20uJellyfishCount;\x0auniform\x20vec4\x20uJellyfishData[40];\x20//\x20xOffset,\x20birthTime,\x20zOffset,\x20seed\x0auniform\x20vec4\x20uJellyfishParams[40];\x20//\x20size,\x20hueOffset,\x20speed,\x20active\x0a\x0a//\x20Camera\x0auniform\x20vec2\x20uCameraOffset;\x0auniform\x20float\x20uGodRayIntensity;\x0a\x0a//\x20Constants\x0a#define\x20PI\x203.14159265359\x0a#define\x20TAU\x206.28318530718\x0a#define\x20MAX_STEPS\x2064\x0a#define\x20EPSILON\x200.001\x0a\x0a//\x20============================================\x0a//\x20UTILITY\x20FUNCTIONS\x0a//\x20============================================\x0a\x0a//\x20Hash\x20function\x20for\x20pseudo-random\x20numbers\x0afloat\x20hash(float\x20n)\x20{\x0a\x20\x20\x20\x20return\x20fract(sin(n)\x20*\x2043758.5453123);\x0a}\x0a\x0afloat\x20hash2(vec2\x20p)\x20{\x0a\x20\x20\x20\x20return\x20fract(sin(dot(p,\x20vec2(127.1,\x20311.7)))\x20*\x2043758.5453123);\x0a}\x0a\x0avec2\x20hash22(vec2\x20p)\x20{\x0a\x20\x20\x20\x20p\x20=\x20vec2(dot(p,\x20vec2(127.1,\x20311.7)),\x20dot(p,\x20vec2(269.5,\x20183.3)));\x0a\x20\x20\x20\x20return\x20-1.0\x20+\x202.0\x20*\x20fract(sin(p)\x20*\x2043758.5453123);\x0a}\x0a\x0a//\x20Smooth\x20noise\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20\x20\x20f\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x0a\x20\x20\x20\x20float\x20a\x20=\x20hash2(i);\x0a\x20\x20\x20\x20float\x20b\x20=\x20hash2(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20\x20\x20float\x20c\x20=\x20hash2(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20\x20\x20float\x20d\x20=\x20hash2(i\x20+\x20vec2(1.0,\x201.0));\x0a\x0a\x20\x20\x20\x20return\x20mix(mix(a,\x20b,\x20f.x),\x20mix(c,\x20d,\x20f.x),\x20f.y);\x0a}\x0a\x0a//\x20Fractal\x20Brownian\x20Motion\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20\x20\x20float\x20value\x20=\x200.0;\x0a\x20\x20\x20\x20float\x20amplitude\x20=\x200.5;\x0a\x20\x20\x20\x20float\x20frequency\x20=\x201.0;\x0a\x0a\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x205;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20value\x20+=\x20amplitude\x20*\x20noise(p\x20*\x20frequency);\x0a\x20\x20\x20\x20\x20\x20\x20\x20frequency\x20*=\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20amplitude\x20*=\x200.5;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20return\x20value;\x0a}\x0a\x0a//\x20Smooth\x20min\x20for\x20blending\x20shapes\x0afloat\x20smin(float\x20a,\x20float\x20b,\x20float\x20k)\x20{\x0a\x20\x20\x20\x20float\x20h\x20=\x20clamp(0.5\x20+\x200.5\x20*\x20(b\x20-\x20a)\x20/\x20k,\x200.0,\x201.0);\x0a\x20\x20\x20\x20return\x20mix(b,\x20a,\x20h)\x20-\x20k\x20*\x20h\x20*\x20(1.0\x20-\x20h);\x0a}\x0a\x0a//\x20============================================\x0a//\x20COLOR\x20PALETTE\x0a//\x20============================================\x0a\x0avec3\x20neonPalette(float\x20t,\x20float\x20hueOffset)\x20{\x0a\x20\x20\x20\x20//\x20Neon\x20electric\x20palette:\x20cyan\x20->\x20magenta\x20->\x20electric\x20blue\x20->\x20purple\x0a\x20\x20\x20\x20vec3\x20a\x20=\x20vec3(0.5,\x200.5,\x200.5);\x0a\x20\x20\x20\x20vec3\x20b\x20=\x20vec3(0.5,\x200.5,\x200.5);\x0a\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0,\x201.0,\x201.0);\x0a\x20\x20\x20\x20vec3\x20d\x20=\x20vec3(0.0,\x200.33,\x200.67);\x0a\x0a\x20\x20\x20\x20//\x20Shift\x20hue\x0a\x20\x20\x20\x20d.x\x20+=\x20hueOffset\x20/\x20360.0;\x0a\x0a\x20\x20\x20\x20return\x20a\x20+\x20b\x20*\x20cos(TAU\x20*\x20(c\x20*\x20t\x20+\x20d));\x0a}\x0a\x0avec3\x20electricGlow(float\x20t,\x20float\x20intensity,\x20float\x20hueShift)\x20{\x0a\x20\x20\x20\x20//\x20Bright\x20electric\x20colors\x0a\x20\x20\x20\x20vec3\x20col1\x20=\x20vec3(0.0,\x201.0,\x201.0);\x20//\x20Cyan\x0a\x20\x20\x20\x20vec3\x20col2\x20=\x20vec3(1.0,\x200.0,\x201.0);\x20//\x20Magenta\x0a\x20\x20\x20\x20vec3\x20col3\x20=\x20vec3(0.2,\x200.5,\x201.0);\x20//\x20Electric\x20blue\x0a\x20\x20\x20\x20vec3\x20col4\x20=\x20vec3(0.5,\x200.0,\x201.0);\x20//\x20Purple\x0a\x0a\x20\x20\x20\x20float\x20wrapped\x20=\x20fract(t\x20+\x20hueShift);\x0a\x20\x20\x20\x20vec3\x20color;\x0a\x0a\x20\x20\x20\x20if(wrapped\x20<\x200.33)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(col1,\x20col2,\x20wrapped\x20*\x203.0);\x0a\x20\x20\x20\x20}\x20else\x20if(wrapped\x20<\x200.66)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(col2,\x20col3,\x20(wrapped\x20-\x200.33)\x20*\x203.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20mix(col3,\x20col4,\x20(wrapped\x20-\x200.66)\x20*\x203.0);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20return\x20color\x20*\x20intensity;\x0a}\x0a\x0a//\x20============================================\x0a//\x20JELLYFISH\x20SHAPE\x20FUNCTIONS\x0a//\x20============================================\x0a\x0a//\x20Jellyfish\x20bell\x20(dome\x20shape)\x0afloat\x20sdJellyfishBell(vec3\x20p,\x20float\x20size,\x20float\x20pulse)\x20{\x0a\x20\x20\x20\x20//\x20Elongated\x20sphere\x20for\x20the\x20bell\x0a\x20\x20\x20\x20vec3\x20bp\x20=\x20p;\x0a\x20\x20\x20\x20bp.y\x20*=\x201.3\x20+\x20pulse\x20*\x200.2;\x20//\x20Pulse\x20vertically\x0a\x20\x20\x20\x20bp.xz\x20*=\x201.0\x20-\x20pulse\x20*\x200.1;\x20//\x20Squeeze\x20horizontally\x20on\x20pulse\x0a\x0a\x20\x20\x20\x20float\x20sphere\x20=\x20length(bp)\x20-\x20size;\x0a\x0a\x20\x20\x20\x20//\x20Cut\x20off\x20bottom\x20half\x20to\x20make\x20dome\x0a\x20\x20\x20\x20float\x20plane\x20=\x20p.y\x20+\x20size\x20*\x200.2;\x0a\x0a\x20\x20\x20\x20return\x20max(sphere,\x20-plane);\x0a}\x0a\x0a//\x20Single\x20tentacle\x0afloat\x20sdTentacle(vec3\x20p,\x20float\x20seed,\x20float\x20time,\x20float\x20shimmer)\x20{\x0a\x20\x20\x20\x20//\x20Flow\x20downward\x20with\x20sine\x20wave\x20motion\x0a\x20\x20\x20\x20float\x20flow\x20=\x20sin(p.y\x20*\x203.0\x20+\x20time\x20*\x202.0\x20+\x20seed\x20*\x20TAU)\x20*\x200.2;\x0a\x20\x20\x20\x20flow\x20+=\x20sin(p.y\x20*\x205.0\x20-\x20time\x20*\x201.5\x20+\x20seed\x20*\x2010.0)\x20*\x200.1;\x0a\x0a\x20\x20\x20\x20//\x20Electric\x20shimmer\x0a\x20\x20\x20\x20flow\x20+=\x20shimmer\x20*\x20sin(p.y\x20*\x2010.0\x20+\x20time\x20*\x208.0)\x20*\x200.05;\x0a\x0a\x20\x20\x20\x20vec2\x20offset\x20=\x20vec2(flow,\x200.0);\x0a\x20\x20\x20\x20vec2\x20q\x20=\x20p.xz\x20-\x20offset;\x0a\x0a\x20\x20\x20\x20//\x20Taper\x20as\x20it\x20goes\x20down\x0a\x20\x20\x20\x20float\x20taper\x20=\x20exp(-p.y\x20*\x200.5)\x20*\x200.02;\x0a\x0a\x20\x20\x20\x20return\x20length(q)\x20-\x20taper;\x0a}\x0a\x0a//\x20Full\x20jellyfish\x20with\x20tentacles\x0afloat\x20sdJellyfish(vec3\x20p,\x20float\x20size,\x20float\x20seed,\x20float\x20time,\x20float\x20bass,\x20float\x20treble)\x20{\x0a\x20\x20\x20\x20float\x20pulse\x20=\x20bass\x20*\x200.3;\x0a\x20\x20\x20\x20float\x20shimmer\x20=\x20treble;\x0a\x0a\x20\x20\x20\x20//\x20Bell\x0a\x20\x20\x20\x20float\x20bell\x20=\x20sdJellyfishBell(p,\x20size,\x20pulse);\x0a\x0a\x20\x20\x20\x20//\x20Tentacles\x20(radial\x20array)\x0a\x20\x20\x20\x20float\x20tentacles\x20=\x201000.0;\x0a\x20\x20\x20\x20int\x20tentacleCount\x20=\x208;\x0a\x0a\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x208;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(i\x20>=\x20tentacleCount)\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20float(i)\x20/\x20float(tentacleCount)\x20*\x20TAU\x20+\x20seed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20radius\x20=\x20size\x20*\x200.6;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20tentaclePos\x20=\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20tentaclePos.x\x20-=\x20cos(angle)\x20*\x20radius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20tentaclePos.z\x20-=\x20sin(angle)\x20*\x20radius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20tentaclePos.y\x20+=\x20size\x20*\x200.2;\x20//\x20Start\x20from\x20bottom\x20of\x20bell\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20tentacle\x20=\x20sdTentacle(tentaclePos,\x20seed\x20+\x20float(i),\x20time,\x20shimmer);\x0a\x20\x20\x20\x20\x20\x20\x20\x20tentacles\x20=\x20min(tentacles,\x20tentacle);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20return\x20smin(bell,\x20tentacles,\x200.1);\x0a}\x0a\x0a//\x20============================================\x0a//\x20RENDERING\x0a//\x20============================================\x0a\x0a//\x20Get\x20jellyfish\x20data\x20from\x20uniforms\x0avoid\x20getJellyfishData(int\x20idx,\x20out\x20vec3\x20position,\x20out\x20float\x20size,\x20out\x20float\x20hueOffset,\x20out\x20float\x20speed,\x20out\x20float\x20seed,\x20out\x20float\x20birthTime,\x20out\x20bool\x20active)\x20{\x0a\x20\x20\x20\x20vec4\x20data\x20=\x20uJellyfishData[idx];\x0a\x20\x20\x20\x20vec4\x20params\x20=\x20uJellyfishParams[idx];\x0a\x0a\x20\x20\x20\x20float\x20xOffset\x20=\x20data.x;\x0a\x20\x20\x20\x20birthTime\x20=\x20data.y;\x0a\x20\x20\x20\x20float\x20zOffset\x20=\x20data.z;\x0a\x20\x20\x20\x20seed\x20=\x20data.w;\x0a\x0a\x20\x20\x20\x20size\x20=\x20params.x;\x0a\x20\x20\x20\x20hueOffset\x20=\x20params.y;\x0a\x20\x20\x20\x20speed\x20=\x20params.z;\x0a\x20\x20\x20\x20active\x20=\x20params.w\x20>\x200.5;\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20vertical\x20position\x20based\x20on\x20time\x20since\x20birth\x0a\x20\x20\x20\x20float\x20age\x20=\x20uTime\x20-\x20birthTime;\x0a\x20\x20\x20\x20float\x20riseSpeed\x20=\x200.3\x20*\x20speed\x20*\x20(1.0\x20+\x20uMid\x20*\x200.5);\x0a\x20\x20\x20\x20float\x20yPos\x20=\x20age\x20*\x20riseSpeed;\x0a\x0a\x20\x20\x20\x20//\x20Loop\x20jellyfish\x20back\x20to\x20bottom\x20when\x20they\x20reach\x20top\x0a\x20\x20\x20\x20yPos\x20=\x20mod(yPos,\x208.0)\x20-\x204.0;\x0a\x0a\x20\x20\x20\x20//\x20Apply\x20stereo\x20current\x0a\x20\x20\x20\x20xOffset\x20+=\x20uStereo\x20*\x20age\x20*\x200.1;\x0a\x0a\x20\x20\x20\x20position\x20=\x20vec3(xOffset,\x20yPos,\x20zOffset\x20-\x205.0);\x0a}\x0a\x0a//\x20Scene\x20SDF\x20-\x20all\x20jellyfish\x0afloat\x20mapScene(vec3\x20p,\x20out\x20vec3\x20color,\x20out\x20float\x20glow)\x20{\x0a\x20\x20\x20\x20float\x20minDist\x20=\x201000.0;\x0a\x20\x20\x20\x20color\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20glow\x20=\x200.0;\x0a\x0a\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x2040;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(float(i)\x20>=\x20uJellyfishCount)\x20break;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20size,\x20hueOffset,\x20speed,\x20seed,\x20birthTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20bool\x20active;\x0a\x20\x20\x20\x20\x20\x20\x20\x20getJellyfishData(i,\x20pos,\x20size,\x20hueOffset,\x20speed,\x20seed,\x20birthTime,\x20active);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(!active)\x20continue;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20jellyfishP\x20=\x20p\x20-\x20pos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20age\x20=\x20uTime\x20-\x20birthTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20localTime\x20=\x20uTime\x20*\x20speed\x20+\x20seed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x20sdJellyfish(jellyfishP,\x20size,\x20seed,\x20localTime,\x20uBass,\x20uTreble);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(dist\x20<\x20minDist)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20minDist\x20=\x20dist;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Color\x20based\x20on\x20position\x20and\x20audio\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20colorT\x20=\x20fract(seed\x20*\x200.1\x20+\x20age\x20*\x200.05\x20+\x20uBass\x20*\x200.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hueShift\x20=\x20hueOffset\x20/\x20100.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20electricGlow(colorT,\x201.0\x20+\x20uTreble\x20*\x200.5,\x20hueShift);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Glow\x20intensity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20glow\x20=\x201.0\x20+\x20uTreble\x20*\x202.0\x20+\x20uDrop\x20*\x203.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20return\x20minDist;\x0a}\x0a\x0a//\x20Raymarch\x20through\x20the\x20scene\x0avec4\x20raymarch(vec3\x20ro,\x20vec3\x20rd)\x20{\x0a\x20\x20\x20\x20float\x20t\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20color\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20float\x20glow\x20=\x200.0;\x0a\x20\x20\x20\x20float\x20totalGlow\x20=\x200.0;\x0a\x0a\x20\x20\x20\x20for(int\x20i\x20=\x200;\x20i\x20<\x20MAX_STEPS;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20ro\x20+\x20rd\x20*\x20t;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20hitColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hitGlow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20mapScene(p,\x20hitColor,\x20hitGlow);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(d\x20<\x20EPSILON)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Hit!\x20Accumulate\x20glow\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20+=\x20hitColor\x20*\x20hitGlow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalGlow\x20+=\x20hitGlow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Accumulate\x20volumetric\x20glow\x20as\x20we\x20pass\x20near\x20jellyfish\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(d\x20<\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20proximity\x20=\x201.0\x20-\x20(d\x20/\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalGlow\x20+=\x20proximity\x20*\x20proximity\x20*\x200.02\x20*\x20hitGlow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20+=\x20hitColor\x20*\x20proximity\x20*\x20proximity\x20*\x200.02\x20*\x20hitGlow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20t\x20+=\x20d\x20*\x200.5;\x20//\x20March\x20with\x20smaller\x20steps\x20for\x20better\x20quality\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(t\x20>\x2020.0)\x20break;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20return\x20vec4(color,\x20totalGlow);\x0a}\x0a\x0a//\x20Cathedral\x20god\x20rays\x20(volumetric\x20light\x20shafts)\x0avec3\x20godRays(vec2\x20uv,\x20vec3\x20baseColor)\x20{\x0a\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,\x200.8);\x20//\x20Light\x20source\x20above\x0a\x20\x20\x20\x20vec2\x20delta\x20=\x20uv\x20-\x20center;\x0a\x20\x20\x20\x20float\x20dist\x20=\x20length(delta);\x0a\x20\x20\x20\x20vec2\x20dir\x20=\x20normalize(delta);\x0a\x0a\x20\x20\x20\x20//\x20Raymarch\x20toward\x20light\x0a\x20\x20\x20\x20float\x20rayGlow\x20=\x200.0;\x0a\x20\x20\x20\x20float\x20steps\x20=\x2016.0;\x0a\x0a\x20\x20\x20\x20for(float\x20i\x20=\x200.0;\x20i\x20<\x20steps;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20i\x20/\x20steps;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20samplePos\x20=\x20mix(uv,\x20center,\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Use\x20noise\x20to\x20create\x20volumetric\x20shafts\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20shaft\x20=\x20fbm(samplePos\x20*\x203.0\x20+\x20vec2(uTime\x20*\x200.1,\x200.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20shaft\x20=\x20pow(shaft,\x202.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20rayGlow\x20+=\x20shaft\x20*\x20(1.0\x20-\x20t)\x20*\x200.05;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20Radial\x20gradient\x20from\x20light\x20source\x0a\x20\x20\x20\x20float\x20radial\x20=\x201.0\x20-\x20smoothstep(0.0,\x201.5,\x20dist);\x0a\x20\x20\x20\x20rayGlow\x20*=\x20radial;\x0a\x0a\x20\x20\x20\x20vec3\x20rayColor\x20=\x20vec3(0.4,\x200.6,\x201.0)\x20*\x20uGodRayIntensity;\x20//\x20Blue-tinted\x20cathedral\x20light\x0a\x0a\x20\x20\x20\x20return\x20baseColor\x20+\x20rayColor\x20*\x20rayGlow;\x0a}\x0a\x0a//\x20============================================\x0a//\x20MAIN\x0a//\x20============================================\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20Normalized\x20coordinates\x0a\x20\x20\x20\x20vec2\x20uv\x20=\x20gl_FragCoord.xy\x20/\x20uResolution.xy;\x0a\x20\x20\x20\x20vec2\x20p\x20=\x20(2.0\x20*\x20gl_FragCoord.xy\x20-\x20uResolution.xy)\x20/\x20min(uResolution.x,\x20uResolution.y);\x0a\x0a\x20\x20\x20\x20//\x20Cathedral\x20background\x20(dark\x20blue-purple\x20gradient)\x0a\x20\x20\x20\x20vec3\x20bgColor\x20=\x20mix(\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3(0.02,\x200.01,\x200.05),\x20//\x20Deep\x20purple-black\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3(0.05,\x200.08,\x200.15),\x20//\x20Dark\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x0a\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20//\x20Camera\x20setup\x0a\x20\x20\x20\x20vec3\x20ro\x20=\x20vec3(uCameraOffset.x,\x20uCameraOffset.y,\x202.0);\x20//\x20Camera\x20position\x0a\x20\x20\x20\x20vec3\x20target\x20=\x20vec3(uCameraOffset.x\x20*\x200.5,\x20uCameraOffset.y\x20*\x200.5,\x200.0);\x0a\x20\x20\x20\x20vec3\x20forward\x20=\x20normalize(target\x20-\x20ro);\x0a\x20\x20\x20\x20vec3\x20right\x20=\x20normalize(cross(vec3(0.0,\x201.0,\x200.0),\x20forward));\x0a\x20\x20\x20\x20vec3\x20up\x20=\x20cross(forward,\x20right);\x0a\x0a\x20\x20\x20\x20//\x20Ray\x20direction\x0a\x20\x20\x20\x20vec3\x20rd\x20=\x20normalize(forward\x20+\x20p.x\x20*\x20right\x20+\x20p.y\x20*\x20up);\x0a\x0a\x20\x20\x20\x20//\x20Raymarch\x0a\x20\x20\x20\x20vec4\x20result\x20=\x20raymarch(ro,\x20rd);\x0a\x20\x20\x20\x20vec3\x20color\x20=\x20result.rgb;\x0a\x20\x20\x20\x20float\x20alpha\x20=\x20result.a;\x0a\x0a\x20\x20\x20\x20//\x20Blend\x20with\x20background\x0a\x20\x20\x20\x20color\x20=\x20mix(bgColor,\x20color,\x20min(alpha,\x201.0));\x0a\x0a\x20\x20\x20\x20//\x20Add\x20cathedral\x20god\x20rays\x0a\x20\x20\x20\x20color\x20=\x20godRays(uv,\x20color);\x0a\x0a\x20\x20\x20\x20//\x20Electric\x20pulse\x20on\x20bass\x20drops\x0a\x20\x20\x20\x20float\x20dropPulse\x20=\x20uDrop\x20*\x200.3;\x0a\x20\x20\x20\x20color\x20+=\x20electricGlow(uTime\x20*\x200.5,\x20dropPulse,\x200.0);\x0a\x0a\x20\x20\x20\x20//\x20Vignette\x20for\x20depth\x0a\x20\x20\x20\x20float\x20vignette\x20=\x201.0\x20-\x20dot(p\x20*\x200.5,\x20p\x20*\x200.5)\x20*\x200.3;\x0a\x20\x20\x20\x20color\x20*=\x20vignette;\x0a\x0a\x20\x20\x20\x20//\x20Subtle\x20bloom\x0a\x20\x20\x20\x20color\x20=\x20pow(color,\x20vec3(0.9))\x20*\x201.1;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','uGodRayIntensity','uJellyfishParams','_material','568971qZPyUt','onRender','uEnergy','void\x20main()\x20{\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0a}\x0a','dropIntensity','hueOffset','onUpdate','731059UXZKJU','1160djyYLc','202660GhflcF','canvas','setPixelRatio','add','render','_initializeJellyfish','width','uniforms','zOffset','_spawnJellyfish','jellyfish-bloom-cathedral','GROOVY','stereoBalance','uCameraOffset','init','meta','sin','rms','uJellyfishCount','time','110olXGAJ','_camera','height'];_0x4ccb=function(){return _0x18c55a;};return _0x4ccb();}(function(_0xebb06d,_0x70199a){const _0x5c4683=_0x1c29,_0x12e183=_0xebb06d();while(!![]){try{const _0x569b74=parseInt(_0x5c4683(0x1c8))/0x1+-parseInt(_0x5c4683(0x1eb))/0x2+parseInt(_0x5c4683(0x19d))/0x3+parseInt(_0x5c4683(0x1d1))/0x4*(-parseInt(_0x5c4683(0x1e5))/0x5)+-parseInt(_0x5c4683(0x1a3))/0x6*(parseInt(_0x5c4683(0x1cf))/0x7)+parseInt(_0x5c4683(0x1bf))/0x8+parseInt(_0x5c4683(0x1a4))/0x9*(parseInt(_0x5c4683(0x1d0))/0xa);if(_0x569b74===_0x70199a)break;else _0x12e183['push'](_0x12e183['shift']());}catch(_0x289827){_0x12e183['push'](_0x12e183['shift']());}}}(_0x4ccb,0x8a5ae));import{W as _0x5036ea,S as _0x14c57e,O as _0x27537f,m as _0x538386,a as _0x427f33,V as _0x1e78e1,M as _0x591f0f,P as _0x42bc71}from'./three.module.min.js';import{W as _0x3c4eab,V as _0x4f680c,r as _0xf965e0}from'./main.min.js';class u extends _0x3c4eab{static ['meta']={'savedAt':0x19c5e23bdb9,'name':'Jellyfish\x20Bloom\x20Cathedral','description':_0x21fed2(0x1a5),'tags':[_0x4f680c['VIBE']['TRIPPY'],_0x4f680c[_0x21fed2(0x1a8)][_0x21fed2(0x1af)],_0x4f680c['ENERGY'][_0x21fed2(0x1ba)],_0x4f680c[_0x21fed2(0x1a1)][_0x21fed2(0x1dc)],_0x4f680c[_0x21fed2(0x1aa)]['HD']]};constructor(_0x4bbe12){const _0x4ee218=_0x21fed2;super(_0x4bbe12),this[_0x4ee218(0x1b0)]=null,this[_0x4ee218(0x19e)]=null,this[_0x4ee218(0x1e6)]=null,this[_0x4ee218(0x1e8)]=null,this[_0x4ee218(0x1c7)]=null,this[_0x4ee218(0x1c1)]=Date[_0x4ee218(0x1a0)](),this[_0x4ee218(0x199)]=0x19,this[_0x4ee218(0x1ae)]=0x0,this[_0x4ee218(0x19c)]=0.5,this[_0x4ee218(0x1a6)]=0x28,this['_jellyfishSeeds']=[],this[_0x4ee218(0x1d6)]();}[_0x21fed2(0x1d6)](){const _0x30cff0=_0x21fed2;this[_0x30cff0(0x1b6)]=[];for(let _0x2bf4d4=0x0;_0x2bf4d4<this['_jellyfishCount'];_0x2bf4d4++)this[_0x30cff0(0x1b6)][_0x30cff0(0x1ad)]({'seed':0x3e8*Math[_0x30cff0(0x1b3)](),'birthTime':0xa*-Math[_0x30cff0(0x1b3)](),'xOffset':0x2*(Math[_0x30cff0(0x1b3)]()-0.5),'zOffset':0x2*(Math[_0x30cff0(0x1b3)]()-0.5),'size':0.5+0.7*Math[_0x30cff0(0x1b3)](),'hueOffset':0x3c*Math[_0x30cff0(0x1b3)]()-0x1e,'speed':0.8+0.4*Math[_0x30cff0(0x1b3)]()});}[_0x21fed2(0x1df)](){this['gl']&&this['_setupThree']();}[_0x21fed2(0x1b2)](){const _0x3f92a8=_0x21fed2;this['_renderer']=new _0x5036ea({'canvas':this[_0x3f92a8(0x1d2)],'context':this['gl'],'antialias':!0x0,'powerPreference':_0x3f92a8(0x1b1)}),this[_0x3f92a8(0x1b0)][_0x3f92a8(0x1bc)]=!0x1,this[_0x3f92a8(0x1b0)][_0x3f92a8(0x1d3)](this[_0x3f92a8(0x1ea)]),this[_0x3f92a8(0x19e)]=new _0x14c57e(),this['_camera']=new _0x27537f(-0x1,0x1,0x1,-0x1,0x0,0x1);const _0x43acdd=[],_0x584e17=[];for(let _0x129a1d=0x0;_0x129a1d<this['_maxJellyfish'];_0x129a1d++)if(_0x129a1d<this['_jellyfishSeeds']['length']){const _0x5eea01=this[_0x3f92a8(0x1b6)][_0x129a1d];_0x43acdd[_0x3f92a8(0x1ad)](new _0x538386(_0x5eea01['xOffset'],_0x5eea01[_0x3f92a8(0x19a)],_0x5eea01[_0x3f92a8(0x1d9)],_0x5eea01['seed'])),_0x584e17[_0x3f92a8(0x1ad)](new _0x538386(_0x5eea01[_0x3f92a8(0x1a2)],_0x5eea01[_0x3f92a8(0x1cd)],_0x5eea01[_0x3f92a8(0x1be)],0x1));}else _0x43acdd[_0x3f92a8(0x1ad)](new _0x538386(0x0,0x0,0x0,0x0)),_0x584e17['push'](new _0x538386(0x0,0x0,0x0,0x0));this[_0x3f92a8(0x1c7)]=new _0x427f33({'uniforms':{'uTime':{'value':0x0},'uResolution':{'value':new _0x1e78e1(this[_0x3f92a8(0x1d7)],this[_0x3f92a8(0x1e7)])},'uBass':{'value':0x0},'uMid':{'value':0x0},'uTreble':{'value':0x0},'uEnergy':{'value':0x0},'uStereo':{'value':0x0},'uDrop':{'value':0x0},'uJellyfishCount':{'value':this[_0x3f92a8(0x199)]},'uJellyfishData':{'value':_0x43acdd},'uJellyfishParams':{'value':_0x584e17},'uCameraOffset':{'value':new _0x1e78e1(0x0,0x0)},'uGodRayIntensity':{'value':0.5}},'vertexShader':_0x3f92a8(0x1cb),'fragmentShader':_0x3f92a8(0x1c4),'transparent':!0x0}),this[_0x3f92a8(0x1e8)]=new _0x591f0f(new _0x42bc71(0x2,0x2),this['_material']),this[_0x3f92a8(0x19e)][_0x3f92a8(0x1d4)](this[_0x3f92a8(0x1e8)]);}[_0x21fed2(0x19b)](){const _0x3039d4=_0x21fed2;this[_0x3039d4(0x1b0)]&&this[_0x3039d4(0x1c7)]&&(this[_0x3039d4(0x1b0)][_0x3039d4(0x1b9)](this[_0x3039d4(0x1d7)],this[_0x3039d4(0x1e7)],!0x1),this[_0x3039d4(0x1c7)][_0x3039d4(0x1d8)][_0x3039d4(0x1ab)]['value'][_0x3039d4(0x1b4)](this[_0x3039d4(0x1d7)],this[_0x3039d4(0x1e7)]));}[_0x21fed2(0x1ce)](_0x19841e){const _0x2de3a4=_0x21fed2;if(!_0x19841e||!this['_renderer']||!this['_material'])return;const _0x3f9322=_0x19841e[_0x2de3a4(0x1e4)],_0x3c478b=_0x19841e['dt']??0.016,_0x501af6=this['clamp'](_0x19841e[_0x2de3a4(0x1bb)]??0x0,0x0,0x1),_0x466257=this['clamp'](_0x19841e[_0x2de3a4(0x1b5)]??0x0,0x0,0x1),_0x176935=this[_0x2de3a4(0x1e9)](_0x19841e[_0x2de3a4(0x1a7)]??0x0,0x0,0x1),_0xec11b9=this[_0x2de3a4(0x1e9)](_0x19841e['energy']??_0x19841e[_0x2de3a4(0x1e2)]??0x0,0x0,0x1),_0x5b3c71=this[_0x2de3a4(0x1e9)](_0x19841e[_0x2de3a4(0x1dd)]??0x0,-0x1,0x1),_0x2956c5=this[_0x2de3a4(0x1e9)](_0x19841e[_0x2de3a4(0x1cc)]??0x0,0x0,0x1);_0x501af6>0.7&&this[_0x2de3a4(0x199)]<this[_0x2de3a4(0x1a6)]&&(this[_0x2de3a4(0x1ae)]+=_0x3c478b,this['_spawnTimer']>=this['_spawnRate']&&(this['_spawnTimer']=0x0,this[_0x2de3a4(0x1da)](_0x3f9322)));const _0xc8b086=0.3*_0x5b3c71+0.1*Math['sin'](0.3*_0x3f9322),_0x707c2f=0.15*Math[_0x2de3a4(0x1e1)](0.2*_0x3f9322)*_0xec11b9;this['_material'][_0x2de3a4(0x1d8)]['uTime'][_0x2de3a4(0x1b8)]=_0x3f9322,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)][_0x2de3a4(0x1c2)][_0x2de3a4(0x1b8)]=_0x501af6,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)][_0x2de3a4(0x1a9)]['value']=_0x466257,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)]['uTreble'][_0x2de3a4(0x1b8)]=_0x176935,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)][_0x2de3a4(0x1ca)][_0x2de3a4(0x1b8)]=_0xec11b9,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)][_0x2de3a4(0x1c3)]['value']=_0x5b3c71,this[_0x2de3a4(0x1c7)][_0x2de3a4(0x1d8)][_0x2de3a4(0x1bd)]['value']=_0x2956c5,this[_0x2de3a4(0x1c7)]['uniforms'][_0x2de3a4(0x1de)][_0x2de3a4(0x1b8)][_0x2de3a4(0x1b4)](_0xc8b086,_0x707c2f),this[_0x2de3a4(0x1c7)]['uniforms'][_0x2de3a4(0x1c5)][_0x2de3a4(0x1b8)]=0.3+0.4*_0xec11b9;}[_0x21fed2(0x1da)](_0x5224ac){const _0x293f18=_0x21fed2;if(this[_0x293f18(0x199)]>=this[_0x293f18(0x1a6)])return;const _0x4d9b98={'seed':0x3e8*Math[_0x293f18(0x1b3)](),'birthTime':_0x5224ac,'xOffset':0x2*(Math[_0x293f18(0x1b3)]()-0.5),'zOffset':0x2*(Math[_0x293f18(0x1b3)]()-0.5),'size':0.5+0.7*Math[_0x293f18(0x1b3)](),'hueOffset':0x3c*Math[_0x293f18(0x1b3)]()-0x1e,'speed':0.8+0.4*Math[_0x293f18(0x1b3)]()};this['_jellyfishSeeds'][_0x293f18(0x1ad)](_0x4d9b98),this[_0x293f18(0x199)]++;const _0x3af62d=this['_material'][_0x293f18(0x1d8)]['uJellyfishData'][_0x293f18(0x1b8)],_0x578eff=this[_0x293f18(0x1c7)]['uniforms'][_0x293f18(0x1c6)]['value'],_0x358dec=this['_jellyfishCount']-0x1;_0x3af62d[_0x358dec][_0x293f18(0x1b4)](_0x4d9b98[_0x293f18(0x19f)],_0x4d9b98[_0x293f18(0x19a)],_0x4d9b98[_0x293f18(0x1d9)],_0x4d9b98[_0x293f18(0x1c0)]),_0x578eff[_0x358dec]['set'](_0x4d9b98[_0x293f18(0x1a2)],_0x4d9b98[_0x293f18(0x1cd)],_0x4d9b98[_0x293f18(0x1be)],0x1),this[_0x293f18(0x1c7)][_0x293f18(0x1d8)][_0x293f18(0x1e3)][_0x293f18(0x1b8)]=this[_0x293f18(0x199)];}[_0x21fed2(0x1c9)](){const _0x507d2d=_0x21fed2;this[_0x507d2d(0x1b0)]&&this[_0x507d2d(0x19e)]&&this['_camera']&&(this[_0x507d2d(0x1b0)]['resetState'](),this['_renderer'][_0x507d2d(0x1d5)](this[_0x507d2d(0x19e)],this[_0x507d2d(0x1e6)]));}[_0x21fed2(0x1b7)](){const _0x51ad6c=_0x21fed2;this[_0x51ad6c(0x1b0)]&&this[_0x51ad6c(0x1b0)][_0x51ad6c(0x1ac)](),this['_material']&&this[_0x51ad6c(0x1c7)][_0x51ad6c(0x1ac)](),super[_0x51ad6c(0x1b7)]();}}function _0x1c29(_0xe0bc43,_0x29a81e){const _0x4ccb8f=_0x4ccb();return _0x1c29=function(_0x1c2935,_0x5c903a){_0x1c2935=_0x1c2935-0x199;let _0x159e76=_0x4ccb8f[_0x1c2935];return _0x159e76;},_0x1c29(_0xe0bc43,_0x29a81e);}_0xf965e0(_0x21fed2(0x1db),u,{'meta':u[_0x21fed2(0x1e0)]});
