const _0x48081e=_0x3a7e;function _0x4952(){const _0x25c022=['viewport','877408TaDfaz','max','uniform1f','_time','_smoothedFlux','_fogDensity','clamp','dropIntensity','trebleEnergy','RAYMARCHING','MYSTERIOUS','uFoldSpeed','_smoothedDrop','createProgram','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','_foldSpeed','_travelSpeed','_lastRenderAt','uFogDensity','onUpdate','5400520AKdzhT','rmsTime','TECH','uResolution','mediaPaused','cues','overallEnergy','autoDispose','349130SMytNv','18808ehGbxx','9FtbYEL','DEPTH_TEST','_program','_smoothedEnergy','getViewportSize','flux','_uniforms','useProgram','147020aRCIZs','_paused','917034ZPeGXe','disable','attackRelease','1NmBhcF','uTime','onRender','_fullscreenBuffer','558OwwUKQ','getUniformLocation','dropStart','uDetailBoost','liminal-space-folding','map','253980lAAMlH','uNeonIntensity','VIBE','_smoothedNeon'];_0x4952=function(){return _0x25c022;};return _0x4952();}(function(_0x4cf309,_0xa95ec){const _0x1623f9=_0x3a7e,_0x22b0b9=_0x4cf309();while(!![]){try{const _0x4f539f=parseInt(_0x1623f9(0x1a7))/0x1*(-parseInt(_0x1623f9(0x198))/0x2)+parseInt(_0x1623f9(0x19a))/0x3*(-parseInt(_0x1623f9(0x1a2))/0x4)+parseInt(_0x1623f9(0x177))/0x5+-parseInt(_0x1623f9(0x1a4))/0x6+parseInt(_0x1623f9(0x17c))/0x7+-parseInt(_0x1623f9(0x199))/0x8*(parseInt(_0x1623f9(0x1ab))/0x9)+parseInt(_0x1623f9(0x190))/0xa;if(_0x4f539f===_0xa95ec)break;else _0x22b0b9['push'](_0x22b0b9['shift']());}catch(_0x5288b7){_0x22b0b9['push'](_0x22b0b9['shift']());}}}(_0x4952,0x20699));import{W as _0x35fc64,V as _0x39b270,r as _0x3cab5d}from'./main.min.js';import{c as _0x48f2d7,b as _0x2dbe0c,d as _0x36f910}from'./fullscreen-quad.min.js';function _0x3a7e(_0x18b399,_0x465337){const _0x4952f7=_0x4952();return _0x3a7e=function(_0x3a7e42,_0x6e25c2){_0x3a7e42=_0x3a7e42-0x176;let _0x246292=_0x4952f7[_0x3a7e42];return _0x246292;},_0x3a7e(_0x18b399,_0x465337);}import{s as _0x132ce3}from'./time.min.js';class r extends _0x35fc64{static ['meta']={'savedAt':0x19c4ecec384,'createdBy':'vvavy','description':'Liminal\x20space\x20folding\x20corridor\x20with\x20recursive\x20frames\x20and\x20neon\x20fog\x20drift.','tags':[_0x39b270['TECH']['HD'],_0x39b270[_0x48081e(0x192)][_0x48081e(0x185)],_0x39b270[_0x48081e(0x179)][_0x48081e(0x186)],_0x39b270['ENERGY']['MID']]};constructor(_0x222e81){const _0x3dfbed=_0x48081e;super(_0x222e81),this[_0x3dfbed(0x19c)]=null,this['_uniforms']=null,this[_0x3dfbed(0x1aa)]=null,this[_0x3dfbed(0x17f)]=0x0,this['_lastRenderAt']=null,this[_0x3dfbed(0x1a3)]=!0x1,this[_0x3dfbed(0x180)]=0x0,this[_0x3dfbed(0x18b)]=0.08,this['_smoothedEnergy']=0x0,this[_0x3dfbed(0x18c)]=0.8,this['_smoothedNeon']=0x0,this[_0x3dfbed(0x188)]=0x0,this[_0x3dfbed(0x181)]=0.1;}['init'](){const _0x39c3e9=_0x48081e,_0xb7702f=this['gl'];_0xb7702f&&(_0xb7702f[_0x39c3e9(0x1a5)](_0xb7702f[_0x39c3e9(0x19b)]),this[_0x39c3e9(0x19c)]=this[_0x39c3e9(0x189)](_0x39c3e9(0x18a),'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0auniform\x20float\x20uTime;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uFoldSpeed;\x0auniform\x20float\x20uNeonIntensity;\x0auniform\x20float\x20uFogDensity;\x0auniform\x20float\x20uDetailBoost;\x0a\x0a#define\x20MAX_STEPS\x2064\x0a#define\x20SURFACE_DIST\x200.01\x0a#define\x20MAX_DIST\x2040.0\x0a\x0amat2\x20rot(float\x20a)\x20{\x0a\x20\x20float\x20s\x20=\x20sin(a);\x0a\x20\x20float\x20c\x20=\x20cos(a);\x0a\x20\x20return\x20mat2(c,\x20-s,\x20s,\x20c);\x0a}\x0a\x0avec3\x20getPath(float\x20t)\x20{\x0a\x20\x20return\x20vec3(\x0a\x20\x20\x20\x20sin(t\x20*\x200.5)\x20*\x202.0,\x0a\x20\x20\x20\x20cos(t\x20*\x200.3)\x20*\x201.5,\x0a\x20\x20\x20\x20t\x0a\x20\x20);\x0a}\x0a\x0afloat\x20sdBoxFrame(vec3\x20p,\x20vec3\x20b,\x20float\x20e)\x20{\x0a\x20\x20p\x20=\x20abs(p)\x20-\x20b;\x0a\x20\x20vec3\x20q\x20=\x20abs(p\x20+\x20e)\x20-\x20e;\x0a\x20\x20return\x20min(min(\x0a\x20\x20\x20\x20length(max(vec3(p.x,\x20q.y,\x20q.z),\x200.0))\x20+\x20min(max(p.x,\x20max(q.y,\x20q.z)),\x200.0),\x0a\x20\x20\x20\x20length(max(vec3(q.x,\x20p.y,\x20q.z),\x200.0))\x20+\x20min(max(q.x,\x20max(p.y,\x20q.z)),\x200.0)\x0a\x20\x20),\x0a\x20\x20length(max(vec3(q.x,\x20q.y,\x20p.z),\x200.0))\x20+\x20min(max(q.x,\x20max(q.y,\x20p.z)),\x200.0));\x0a}\x0a\x0afloat\x20smin(float\x20a,\x20float\x20b,\x20float\x20k)\x20{\x0a\x20\x20float\x20h\x20=\x20clamp(0.5\x20+\x200.5\x20*\x20(b\x20-\x20a)\x20/\x20k,\x200.0,\x201.0);\x0a\x20\x20return\x20mix(b,\x20a,\x20h)\x20-\x20k\x20*\x20h\x20*\x20(1.0\x20-\x20h);\x0a}\x0a\x0afloat\x20map(vec3\x20p)\x20{\x0a\x20\x20vec3\x20path\x20=\x20getPath(p.z);\x0a\x20\x20float\x20dPath\x20=\x20length(p.xy\x20-\x20path.xy)\x20-\x201.5;\x0a\x0a\x20\x20vec3\x20q\x20=\x20p;\x0a\x20\x20q.xy\x20-=\x20path.xy;\x0a\x20\x20q.z\x20=\x20mod(q.z,\x206.0)\x20-\x203.0;\x0a\x20\x20q.xy\x20=\x20mod(q.xy\x20+\x203.0,\x206.0)\x20-\x203.0;\x0a\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x204;\x20i++)\x20{\x0a\x20\x20\x20\x20q\x20=\x20abs(q)\x20-\x200.6;\x0a\x20\x20\x20\x20q.xy\x20*=\x20rot(0.3\x20+\x20uTime\x20*\x20uFoldSpeed);\x0a\x20\x20\x20\x20q.yz\x20*=\x20rot(0.2);\x0a\x20\x20\x20\x20if\x20(q.x\x20<\x20q.y)\x20{\x0a\x20\x20\x20\x20\x20\x20q.xy\x20=\x20q.yx;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20if\x20(q.x\x20<\x20q.z)\x20{\x0a\x20\x20\x20\x20\x20\x20q.xz\x20=\x20q.zx;\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a\x0a\x20\x20float\x20dGeo\x20=\x20sdBoxFrame(q,\x20vec3(0.8,\x200.6,\x200.8),\x200.05);\x0a\x20\x20return\x20-smin(-dGeo,\x20dPath,\x200.5);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20(gl_FragCoord.xy\x20-\x200.5\x20*\x20uResolution.xy)\x20/\x20min(uResolution.y,\x20uResolution.x);\x0a\x0a\x20\x20float\x20t\x20=\x20uTime\x20*\x201.2;\x0a\x20\x20vec3\x20ro\x20=\x20getPath(t);\x0a\x20\x20ro.y\x20+=\x200.1;\x0a\x0a\x20\x20vec3\x20target\x20=\x20getPath(t\x20+\x201.0);\x0a\x20\x20vec3\x20fwd\x20=\x20normalize(target\x20-\x20ro);\x0a\x20\x20vec3\x20right\x20=\x20normalize(cross(vec3(0.0,\x201.0,\x200.0),\x20fwd));\x0a\x20\x20vec3\x20up\x20=\x20cross(fwd,\x20right);\x0a\x20\x20vec3\x20rd\x20=\x20normalize(fwd\x20+\x20uv.x\x20*\x20right\x20+\x20uv.y\x20*\x20up);\x0a\x0a\x20\x20float\x20d\x20=\x200.0;\x0a\x20\x20float\x20total\x20=\x200.0;\x0a\x20\x20int\x20steps\x20=\x200;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20MAX_STEPS;\x20i++)\x20{\x0a\x20\x20\x20\x20d\x20=\x20map(ro\x20+\x20rd\x20*\x20total);\x0a\x20\x20\x20\x20if\x20(d\x20<\x20SURFACE_DIST\x20||\x20total\x20>\x20MAX_DIST)\x20{\x0a\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20total\x20+=\x20d;\x0a\x20\x20\x20\x20steps\x20=\x20i;\x0a\x20\x20}\x0a\x0a\x20\x20vec3\x20color\x20=\x20vec3(0.02,\x200.0,\x200.05);\x0a\x20\x20if\x20(total\x20<\x20MAX_DIST)\x20{\x0a\x20\x20\x20\x20float\x20l\x20=\x20float(steps)\x20/\x20float(MAX_STEPS);\x0a\x20\x20\x20\x20l\x20*=\x20uDetailBoost;\x0a\x20\x20\x20\x20vec3\x20neon\x20=\x20mix(\x0a\x20\x20\x20\x20\x20\x20vec3(0.5,\x200.0,\x201.0),\x0a\x20\x20\x20\x20\x20\x20vec3(0.0,\x201.0,\x200.5),\x0a\x20\x20\x20\x20\x20\x20sin(total\x20*\x200.2\x20+\x20uTime)\x20*\x200.5\x20+\x200.5\x0a\x20\x20\x20\x20);\x0a\x20\x20\x20\x20color\x20=\x20neon\x20*\x20l\x20*\x20(2.0\x20*\x20uNeonIntensity);\x0a\x20\x20}\x0a\x0a\x20\x20color\x20*=\x20exp(-uFogDensity\x20*\x20total);\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a',{'aPosition':0x0}),this[_0x39c3e9(0x1a0)]={'uTime':_0xb7702f[_0x39c3e9(0x1ac)](this['_program'],_0x39c3e9(0x1a8)),'uResolution':_0xb7702f[_0x39c3e9(0x1ac)](this[_0x39c3e9(0x19c)],_0x39c3e9(0x193)),'uFoldSpeed':_0xb7702f[_0x39c3e9(0x1ac)](this['_program'],_0x39c3e9(0x187)),'uNeonIntensity':_0xb7702f[_0x39c3e9(0x1ac)](this[_0x39c3e9(0x19c)],_0x39c3e9(0x178)),'uFogDensity':_0xb7702f[_0x39c3e9(0x1ac)](this[_0x39c3e9(0x19c)],_0x39c3e9(0x18e)),'uDetailBoost':_0xb7702f['getUniformLocation'](this[_0x39c3e9(0x19c)],'uDetailBoost')},this[_0x39c3e9(0x1aa)]=_0x48f2d7(_0xb7702f,{'autoDispose':(_0x3e99d8,_0x23b412)=>this[_0x39c3e9(0x197)](_0x3e99d8,_0x23b412)}));}[_0x48081e(0x18f)](_0x1d67b0){const _0x17257c=_0x48081e;if(this['_paused']=Boolean(_0x1d67b0?.[_0x17257c(0x194)]),!_0x1d67b0)return;const _0xebe533=this['clamp'](_0x1d67b0['dt']??0x1/0x3c,0x1/0xf0,0.2),_0x3d86fe=this['clamp'](_0x1d67b0[_0x17257c(0x196)]??_0x1d67b0[_0x17257c(0x191)]??0x0,0x0,0x1);this[_0x17257c(0x19d)]=this['attackRelease'](this[_0x17257c(0x19d)],_0x3d86fe,_0xebe533,0.2,1.4);const _0x171b3b=this[_0x17257c(0x176)](this['_smoothedEnergy'],0x0,0x1,0.6,1.4);this[_0x17257c(0x18c)]=this[_0x17257c(0x1a6)](this[_0x17257c(0x18c)],_0x171b3b,_0xebe533,0.25,1.2);const _0x879281=this[_0x17257c(0x182)](_0x1d67b0['spectralFlux']??_0x1d67b0[_0x17257c(0x19f)]??0x0,0x0,0x1);this[_0x17257c(0x180)]=this['attackRelease'](this[_0x17257c(0x180)],_0x879281,_0xebe533,0.2,0.6);const _0x379001=this[_0x17257c(0x176)](this[_0x17257c(0x180)],0x0,0x1,0.06,0.14);this['_foldSpeed']=this['attackRelease'](this[_0x17257c(0x18b)],_0x379001,_0xebe533,0.3,0.8);const _0x5366e6=Math[_0x17257c(0x17d)](_0x1d67b0[_0x17257c(0x184)]??0x0,_0x1d67b0['spectralKurtosis']??0x0);this[_0x17257c(0x17a)]=this[_0x17257c(0x1a6)](this['_smoothedNeon'],this['clamp'](_0x5366e6,0x0,0x1),_0xebe533,0.2,0.7);const _0xd305c3=this['clamp'](_0x1d67b0[_0x17257c(0x195)]?.[_0x17257c(0x183)]??(_0x1d67b0[_0x17257c(0x195)]?.[_0x17257c(0x1ad)]?0x1:0x0),0x0,0x1);this[_0x17257c(0x188)]=this[_0x17257c(0x1a6)](this[_0x17257c(0x188)],_0xd305c3,_0xebe533,0.5,1.6),this[_0x17257c(0x181)]=this[_0x17257c(0x176)](this[_0x17257c(0x188)],0x0,0x1,0.1,0.24);}[_0x48081e(0x1a9)](_0x45c3c2){const _0x258a2e=_0x48081e;if(!_0x45c3c2||!this[_0x258a2e(0x19c)]||!this[_0x258a2e(0x1aa)])return;const {now:_0x1bad77,dt:_0x41cad2}=_0x132ce3(this[_0x258a2e(0x18d)],0.2);this[_0x258a2e(0x18d)]=_0x1bad77,this[_0x258a2e(0x1a3)]||(this[_0x258a2e(0x17f)]+=_0x41cad2*this[_0x258a2e(0x18c)]);const {width:_0x5cd117,height:_0x31d9ac}=this[_0x258a2e(0x19e)](_0x45c3c2);_0x45c3c2[_0x258a2e(0x17b)](0x0,0x0,_0x5cd117,_0x31d9ac),_0x45c3c2[_0x258a2e(0x1a1)](this['_program']),_0x2dbe0c(_0x45c3c2,this[_0x258a2e(0x1aa)],0x0),_0x45c3c2[_0x258a2e(0x17e)](this[_0x258a2e(0x1a0)][_0x258a2e(0x1a8)],this['_time']),_0x45c3c2['uniform2f'](this['_uniforms'][_0x258a2e(0x193)],_0x5cd117,_0x31d9ac),_0x45c3c2[_0x258a2e(0x17e)](this[_0x258a2e(0x1a0)][_0x258a2e(0x187)],this[_0x258a2e(0x18b)]),_0x45c3c2['uniform1f'](this['_uniforms'][_0x258a2e(0x178)],this[_0x258a2e(0x176)](this[_0x258a2e(0x17a)],0x0,0x1,0.8,1.6)),_0x45c3c2[_0x258a2e(0x17e)](this[_0x258a2e(0x1a0)]['uFogDensity'],this[_0x258a2e(0x181)]),_0x45c3c2[_0x258a2e(0x17e)](this[_0x258a2e(0x1a0)][_0x258a2e(0x1ae)],this['map'](this[_0x258a2e(0x19d)],0x0,0x1,0.7,1.2)),_0x36f910(_0x45c3c2);}['resetState'](){const _0x56ca41=_0x48081e;this['_time']=0x0,this[_0x56ca41(0x18d)]=null,this[_0x56ca41(0x180)]=0x0,this[_0x56ca41(0x18b)]=0.08,this['_smoothedEnergy']=0x0,this['_travelSpeed']=0.8,this['_smoothedNeon']=0x0,this['_smoothedDrop']=0x0,this[_0x56ca41(0x181)]=0.1;}}_0x3cab5d(_0x48081e(0x1af),r,{'meta':r['meta']});
