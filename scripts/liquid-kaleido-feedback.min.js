const _0x2985a6=_0x3ff0;(function(_0x36f174,_0x57be1c){const _0xfd753f=_0x3ff0,_0x5586f7=_0x36f174();while(!![]){try{const _0x1eed67=-parseInt(_0xfd753f(0x173))/0x1+-parseInt(_0xfd753f(0x1c1))/0x2*(-parseInt(_0xfd753f(0x180))/0x3)+parseInt(_0xfd753f(0x1dd))/0x4*(parseInt(_0xfd753f(0x193))/0x5)+-parseInt(_0xfd753f(0x18d))/0x6+parseInt(_0xfd753f(0x147))/0x7+parseInt(_0xfd753f(0x13e))/0x8*(parseInt(_0xfd753f(0x18a))/0x9)+parseInt(_0xfd753f(0x1c8))/0xa*(parseInt(_0xfd753f(0x133))/0xb);if(_0x1eed67===_0x57be1c)break;else _0x5586f7['push'](_0x5586f7['shift']());}catch(_0x5381b8){_0x5586f7['push'](_0x5586f7['shift']());}}}(_0x5e2f,0xd821e));function _0x5e2f(){const _0x326548=['TRIANGLES','texParameteri','12927830lmCvui','uDissolve','VIBE','uLean','energyChange','createFramebuffer','beatConfidence','uContour','autoDispose','CLAMP_TO_EDGE','_beatCooldown','bassEnergy','width','drawingBufferWidth','resetState','centroid','uSlices','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUV;\x0a\x0auniform\x20sampler2D\x20uScene;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uBloom;\x0auniform\x20float\x20uGrain;\x0auniform\x20float\x20uHue;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uChromatic;\x0auniform\x20float\x20uSeed;\x0a\x0afloat\x20hash12(vec2\x20p)\x20{\x0a\x20\x20float\x20h\x20=\x20dot(p,\x20vec2(127.1,\x20311.7));\x0a\x20\x20return\x20fract(sin(h)\x20*\x2043758.5453123);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20vec2\x20centered\x20=\x20uv\x20-\x200.5;\x0a\x20\x20float\x20aspect\x20=\x20uResolution.x\x20/\x20max(1.0,\x20uResolution.y);\x0a\x20\x20centered.x\x20*=\x20aspect;\x0a\x0a\x20\x20float\x20chroma\x20=\x20(0.0012\x20+\x20uChromatic\x20*\x200.004\x20+\x20uBloom\x20*\x200.0025);\x0a\x20\x20vec2\x20offset\x20=\x20centered\x20*\x20chroma;\x0a\x0a\x20\x20vec3\x20mainSample\x20=\x20texture2D(uScene,\x20uv).rgb;\x0a\x20\x20vec3\x20col;\x0a\x20\x20col.r\x20=\x20texture2D(uScene,\x20uv\x20+\x20offset).r;\x0a\x20\x20col.g\x20=\x20mainSample.g;\x0a\x20\x20col.b\x20=\x20texture2D(uScene,\x20uv\x20-\x20offset).b;\x0a\x0a\x20\x20float\x20vignette\x20=\x20smoothstep(0.95,\x200.35,\x20length(centered));\x0a\x20\x20float\x20vignetteStrength\x20=\x200.18\x20+\x20uBloom\x20*\x200.2\x20+\x20uEnergy\x20*\x200.1;\x0a\x20\x20col\x20*=\x20(1.0\x20-\x20vignette\x20*\x20vignetteStrength);\x0a\x0a\x20\x20vec3\x20glow\x20=\x20pow(mainSample,\x20vec3(1.2))\x20*\x20(0.35\x20+\x20uBloom\x20*\x200.6\x20+\x20uDrop\x20*\x200.35);\x0a\x20\x20col\x20+=\x20glow\x20*\x200.35;\x0a\x0a\x20\x20float\x20grain\x20=\x20(hash12(uv\x20*\x20(uResolution.x\x20+\x20uResolution.y)\x20+\x20uSeed\x20*\x201.7\x20+\x20uTime\x20*\x2060.0)\x20-\x200.5);\x0a\x20\x20col\x20+=\x20grain\x20*\x200.09\x20*\x20uGrain;\x0a\x0a\x20\x20col\x20=\x20mix(col,\x20pow(max(col,\x20vec3(0.0)),\x20vec3(0.95\x20+\x20uHue\x20*\x200.1)),\x200.28);\x0a\x20\x20gl_FragColor\x20=\x20vec4(clamp(col,\x200.0,\x201.4),\x201.0);\x0a}\x0a','_targetScale','TEXTURE_MIN_FILTER','TEXTURE0','8kXonKX','random','present','drawingBufferHeight','_targetHeight','TEXTURE_WRAP_S','TEXTURE_2D','deleteFramebuffer','uBloom','_writeTarget','dropIntensity','contour','canvas','disable','uSwirl','beat','rms','_targetWidth','drop','_patternSeed','STENCIL_TEST','createProgram','22tmVGxD','abs','FLOAT','uBeat','_quadBuffer','chromatic','uTime','aPosition','onUpdate','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20vec2\x20aPosition;\x0avarying\x20vec2\x20vUV;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUV\x20=\x20aPosition\x20*\x200.5\x20+\x200.5;\x0a\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a}\x0a','viewport','158568EfeKEH','floor','releaseGLResource','height','_attributes','max','texImage2D','zoom','uResolution','2760849GgtxFe','feedback','useProgram','_readTarget','now','uniform1i','drawArrays','liquid-kaleido-feedback','energy','lerp','disableVertexAttribArray','bindFramebuffer','TEXTURE_MAG_FILTER','_createTarget','_updateResolutionUniforms','vertexAttribPointer','BLEND','uDrop','tempoConfidence','spectralFlux','bindBuffer','deleteTexture','loudnessShortDb','_swapTargets','uFlux','uGrain','isBeatSpike','uPrev','TEXTURE_WRAP_T','_buildResources','ONE','Liquid\x20kaleidoscopic\x20feedback\x20tunnel\x20with\x20mirrored\x20shards,\x20dye\x20trails,\x20and\x20drop-driven\x20bloomsâ€”built\x20to\x20scratch\x20the\x20Butterchurn\x20itch.','slices','subBassEnergy','uScene','bindTexture','uRayMix','FRAMEBUFFER_COMPLETE','_state','_createDefaultState','RGBA','uRayPhase','destroy','onRender','1639471qVLzHr','timeScale','_computeTargetScale','fbo','dissolve','attackRelease','createTexture','_uniforms','isFinite','energyChangeIntensity','getViewportProfile','_ensureTargets','bufferData','84MYRpiF','_destroyTarget','onResize','uRayDensity','deleteBuffer','stereoBalance','_feedbackProgram','ONE_MINUS_SRC_ALPHA','stereoLean','uHue','81DgsfWI','flushTrackedGLResources','getAttribLocation','9068574UlxAAV','enable','LINEAR','uniform2f','bass','uBass','1745210zQJcne','texture','uSeed','swirl','FRAMEBUFFER','_lastRenderAt','_grainSeed','bloom','uChromatic','DEPTH_TEST','dbTo01','uCenterFocus','GROOVY','rayDensity','centerFocus','clamp','cues','ARRAY_BUFFER','getUniformLocation','_presentProgram','uPatternSeed','flux','uHueShift','feedbackStrength','lowMidEnergy','uFeedbackFade','TRIPPY','hueShift','createBuffer','rayPhase','COLOR_ATTACHMENT0','feedbackFade','uCentroid','dominantFreq','meta','uniform1f','uFeedbackMix','TEMPO','activeTexture','_resizeTargets','_time','Failed\x20to\x20create\x20fullscreen\x20buffer\x20for\x20liquid-kaleido-feedback','beatPulse','Failed\x20to\x20allocate\x20framebuffer\x20for\x20liquid-kaleido-feedback','SRC_ALPHA','midSideRatio','12838jguRfX','trebleEnergy','grain','uEnergy','rayMix'];_0x5e2f=function(){return _0x326548;};return _0x5e2f();}import{W as _0x3c49ac,V as _0x45d689,r as _0x5926d0}from'./main.min.js';var i=_0x2985a6(0x13c);class s extends _0x3c49ac{static [_0x2985a6(0x1b5)]={'savedAt':0x19c4ecec384,'createdBy':'vvavy','description':_0x2985a6(0x166),'tags':[_0x45d689['TECH']['HD'],_0x45d689[_0x2985a6(0x1ca)][_0x2985a6(0x1ad)],_0x45d689['ENERGY']['PUNCHY'],_0x45d689[_0x2985a6(0x1b8)][_0x2985a6(0x19f)]]};constructor(_0x40c371){const _0xc69ad4=_0x2985a6;super(_0x40c371),this['_feedbackProgram']=null,this[_0xc69ad4(0x1a6)]=null,this['_uniforms']={'feedback':null,'present':null},this['_attributes']={'aPosition':0x0},this[_0xc69ad4(0x137)]=null,this[_0xc69ad4(0x14a)]=null,this[_0xc69ad4(0x1e6)]=null,this[_0xc69ad4(0x12e)]=0x0,this[_0xc69ad4(0x1e1)]=0x0,this['_targetScale']=0.8,this[_0xc69ad4(0x1bb)]=0x0,this['_lastRenderAt']=null,this[_0xc69ad4(0x199)]=0x3e8*Math['random'](),this[_0xc69ad4(0x130)]=0x3e8*Math[_0xc69ad4(0x1de)](),this['_beatCooldown']=0x0,this[_0xc69ad4(0x16d)]=this[_0xc69ad4(0x16e)]();}['init'](){const _0x86ecf3=_0x2985a6,_0x29b34d=this['gl'];if(!_0x29b34d)return;_0x29b34d[_0x86ecf3(0x12a)](_0x29b34d[_0x86ecf3(0x19c)]),_0x29b34d[_0x86ecf3(0x12a)](_0x29b34d['CULL_FACE']),_0x29b34d[_0x86ecf3(0x12a)](_0x29b34d[_0x86ecf3(0x131)]),_0x29b34d[_0x86ecf3(0x18e)](_0x29b34d[_0x86ecf3(0x157)]),_0x29b34d['blendFuncSeparate'](_0x29b34d[_0x86ecf3(0x1bf)],_0x29b34d[_0x86ecf3(0x187)],_0x29b34d[_0x86ecf3(0x165)],_0x29b34d[_0x86ecf3(0x187)]),this['_buildResources'](_0x29b34d),this['_targetScale']=this[_0x86ecf3(0x175)]();const _0x424aec=_0x29b34d[_0x86ecf3(0x1d5)]||this[_0x86ecf3(0x1d4)]||this[_0x86ecf3(0x129)]?.[_0x86ecf3(0x1d4)]||0x1,_0x1fbd15=_0x29b34d[_0x86ecf3(0x1e0)]||this[_0x86ecf3(0x141)]||this[_0x86ecf3(0x129)]?.[_0x86ecf3(0x141)]||0x1;this[_0x86ecf3(0x12e)]=Math[_0x86ecf3(0x143)](0x8,Math[_0x86ecf3(0x13f)](_0x424aec*this[_0x86ecf3(0x1da)])),this[_0x86ecf3(0x1e1)]=Math[_0x86ecf3(0x143)](0x8,Math[_0x86ecf3(0x13f)](_0x1fbd15*this['_targetScale'])),this[_0x86ecf3(0x1ba)](!0x0),this[_0x86ecf3(0x1bb)]=0x0,this['_lastRenderAt']=null;}['destroy'](){const _0x56a095=_0x2985a6;this[_0x56a095(0x18b)](),this['_readTarget']=null,this[_0x56a095(0x1e6)]=null,super[_0x56a095(0x171)]();}[_0x2985a6(0x1d6)](){const _0x322be6=_0x2985a6;this[_0x322be6(0x1bb)]=0x0,this[_0x322be6(0x198)]=null,this[_0x322be6(0x199)]=0x3e8*Math[_0x322be6(0x1de)](),this['_patternSeed']=0x3e8*Math['random'](),this[_0x322be6(0x1d2)]=0x0,this[_0x322be6(0x18b)](),this[_0x322be6(0x14a)]=null,this[_0x322be6(0x1e6)]=null,this['_feedbackProgram']=null,this['_presentProgram']=null,this['_quadBuffer']=null,this[_0x322be6(0x16d)]=this[_0x322be6(0x16e)](),this['gl']&&this['_resizeTargets'](!0x0);}[_0x2985a6(0x182)](){const _0x2cde9b=_0x2985a6;super[_0x2cde9b(0x182)]?.(),this['_targetScale']=this['_computeTargetScale']();const _0x5804af=this['gl'],_0x3ee2ed=_0x5804af?.['drawingBufferWidth']||this[_0x2cde9b(0x1d4)]||this[_0x2cde9b(0x129)]?.[_0x2cde9b(0x1d4)]||0x1,_0x2e816e=_0x5804af?.[_0x2cde9b(0x1e0)]||this[_0x2cde9b(0x141)]||this[_0x2cde9b(0x129)]?.['height']||0x1;this[_0x2cde9b(0x12e)]=Math[_0x2cde9b(0x143)](0x8,Math[_0x2cde9b(0x13f)](_0x3ee2ed*this[_0x2cde9b(0x1da)])),this[_0x2cde9b(0x1e1)]=Math[_0x2cde9b(0x143)](0x8,Math[_0x2cde9b(0x13f)](_0x2e816e*this[_0x2cde9b(0x1da)])),this[_0x2cde9b(0x1ba)](!0x0),this['_updateResolutionUniforms']();}[_0x2985a6(0x13b)](_0x3715b5){const _0x3b8966=_0x2985a6;if(!_0x3715b5)return;const _0x4b9fdd=this['clamp'](_0x3715b5['dt']??0x1/0x3c,0x1/0xf0,0.25),_0x5e9368=Number[_0x3b8966(0x17b)](_0x4b9fdd)?_0x4b9fdd:0x1/0x3c,_0x1b4b95=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x14f)]??_0x3715b5[_0x3b8966(0x12d)]??this[_0x3b8966(0x19d)](_0x3715b5[_0x3b8966(0x15d)]??-0x32),0x0,1.4),_0x41f6c5=this[_0x3b8966(0x1a2)](0.75*(_0x3715b5[_0x3b8966(0x15a)]??0x0)+0.35*Math[_0x3b8966(0x134)](_0x3715b5[_0x3b8966(0x17c)]??_0x3715b5[_0x3b8966(0x1cc)]??0x0),0x0,1.4),_0x1b23d6=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x1d7)]??_0x3715b5[_0x3b8966(0x1b4)]??0x5dc,0x50,0x1f40),_0x26a2c0=this['map'](_0x1b23d6,0x50,0x1f40,0x0,0x1),_0x1a666a=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x1c0)]??_0x3715b5[_0x3b8966(0x185)]??0x0,-0x1,0x1),_0xa641eb=this[_0x3b8966(0x1a2)](Math['max'](_0x3715b5[_0x3b8966(0x168)]??0x0,_0x3715b5[_0x3b8966(0x1d3)]??0x0,0.65*(_0x3715b5[_0x3b8966(0x1ab)]??0x0)),0x0,1.4),_0x3ec222=this['clamp'](Math[_0x3b8966(0x143)](_0x3715b5['dropPulse']??0x0,_0x3715b5[_0x3b8966(0x1a3)]?.[_0x3b8966(0x1e7)]??0x0,_0x3715b5[_0x3b8966(0x1e7)]??0x0),0x0,1.2),_0x96b262=this[_0x3b8966(0x1a2)](_0x3715b5['flatness']??0.6,0x0,0x1),_0x240bca=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x159)]??_0x3715b5[_0x3b8966(0x1ce)]??0x0,0x0,0x1),_0x178f77=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x1bd)]??(_0x3715b5[_0x3b8966(0x161)]?0x1:0x0),0x0,0x1),_0x1a4010=this[_0x3b8966(0x1a2)](_0x3715b5[_0x3b8966(0x1cc)]??0x0,-0x1,0x1);this[_0x3b8966(0x16d)][_0x3b8966(0x14f)]=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x14f)],_0x1b4b95,_0x5e9368,0.08,0.35),this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)]=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)],_0x41f6c5,_0x5e9368,0.12,0.5),this[_0x3b8966(0x16d)][_0x3b8966(0x1d7)]=this['lerp'](this[_0x3b8966(0x16d)][_0x3b8966(0x1d7)],_0x26a2c0,0.05),this[_0x3b8966(0x16d)][_0x3b8966(0x1ae)]=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x1ae)],0.1*_0x26a2c0+0.15*(_0x3715b5['presenceEnergy']??_0x3715b5[_0x3b8966(0x1c2)]??0x0),0.045),this[_0x3b8966(0x16d)][_0x3b8966(0x12f)]=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x12f)],_0x3ec222,_0x5e9368,0.05,0.8),this[_0x3b8966(0x16d)][_0x3b8966(0x188)]=this['attackRelease'](this['_state']['stereoLean'],_0x1a666a,_0x5e9368,0.22,0.7),this[_0x3b8966(0x16d)][_0x3b8966(0x191)]=this['attackRelease'](this['_state']['bass'],_0xa641eb,_0x5e9368,0.09,0.4);const _0xfea095=this[_0x3b8966(0x1a2)](0.35+0.4*_0x240bca+0.25*_0x26a2c0,0.2,0x1);this['_state'][_0x3b8966(0x167)]=this[_0x3b8966(0x150)](this['_state'][_0x3b8966(0x167)],_0xfea095,0.08);const _0x4b5c43=this['clamp'](0.2+0.35*this[_0x3b8966(0x16d)][_0x3b8966(0x14f)]+0.25*this['_state'][_0x3b8966(0x1a8)],0.12,0.9);this['_state'][_0x3b8966(0x196)]=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x196)],_0x4b5c43,0.05);const _0x5946d5=this[_0x3b8966(0x1a2)](1.18+0.3*this['_state'][_0x3b8966(0x14f)]+0.35*this[_0x3b8966(0x16d)][_0x3b8966(0x12f)]+0.2*this['_state'][_0x3b8966(0x191)]-0.35*Math['max'](0x0,-_0x1a4010),0x1,1.95);this['_state']['zoom']=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x145)],_0x5946d5,0.1);const _0x293698=this[_0x3b8966(0x1a2)](0.08+0.5*Math[_0x3b8966(0x143)](0x0,-_0x1a4010),0.06,0.72);this[_0x3b8966(0x16d)][_0x3b8966(0x1b2)]=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)]['feedbackFade'],_0x293698,0.12);const _0x1afda5=this['clamp'](0.7*_0x96b262+0.25*_0x41f6c5,0x0,0x1);this[_0x3b8966(0x16d)][_0x3b8966(0x1c3)]=this[_0x3b8966(0x150)](this['_state'][_0x3b8966(0x1c3)],_0x1afda5,0.08);const _0x4fbd35=this[_0x3b8966(0x1a2)](0.35*this['_state'][_0x3b8966(0x14f)]+0.4*this[_0x3b8966(0x16d)][_0x3b8966(0x12f)]+0.25*this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)],0x0,0x1);this[_0x3b8966(0x16d)][_0x3b8966(0x138)]=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)]['chromatic'],_0x4fbd35,0.08);const _0x1ef72a=this[_0x3b8966(0x1a2)](0.8*this['_state']['drop']+0.3*this[_0x3b8966(0x16d)]['energy']+Math['max'](_0x3715b5[_0x3b8966(0x17c)]??0x0,0.6*this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)]),0x0,0x1);this[_0x3b8966(0x16d)]['bloom']=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x19a)],_0x1ef72a,_0x5e9368,0.08,0.5);const _0x5400fd=this[_0x3b8966(0x1a2)](0.85+0.05*this[_0x3b8966(0x16d)]['energy']+0.08*this['_state'][_0x3b8966(0x12f)]-0.35*this[_0x3b8966(0x16d)]['feedbackFade'],0.6,0.98);this[_0x3b8966(0x16d)][_0x3b8966(0x1aa)]=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x1aa)],_0x5400fd,0.08);const _0x456853=0.9+0.8*this[_0x3b8966(0x16d)][_0x3b8966(0x14f)]+0.4*this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)]+0.35*this[_0x3b8966(0x16d)][_0x3b8966(0x12f)];this[_0x3b8966(0x16d)]['timeScale']=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x174)],_0x456853,0.08),this['_state'][_0x3b8966(0x12c)]=this[_0x3b8966(0x178)](this['_state'][_0x3b8966(0x12c)],_0x178f77,_0x5e9368,0.08,0.55),(_0x178f77>0.72&&this['_beatCooldown']<=0x0&&this[_0x3b8966(0x16d)]['drop']<0.85&&(this['_grainSeed']=0x3e8*Math[_0x3b8966(0x1de)](),this[_0x3b8966(0x130)]=0x3e8*Math[_0x3b8966(0x1de)](),this['_beatCooldown']=0.3),this[_0x3b8966(0x1d2)]=Math[_0x3b8966(0x143)](0x0,this[_0x3b8966(0x1d2)]-_0x5e9368));const _0x38358d=this[_0x3b8966(0x1a2)](0.2+0.55*this['_state'][_0x3b8966(0x12f)]+0.35*this['_state'][_0x3b8966(0x12c)]+0.25*this[_0x3b8966(0x16d)]['flux'],0x0,0x1);this[_0x3b8966(0x16d)]['rayMix']=this[_0x3b8966(0x150)](this['_state'][_0x3b8966(0x1c5)],_0x38358d,0.08);const _0x48778c=this['clamp'](0.22+0.4*this[_0x3b8966(0x16d)]['energy']+0.35*this[_0x3b8966(0x16d)][_0x3b8966(0x1a8)]+0.4*this['_state']['drop'],0x0,0x1);this[_0x3b8966(0x16d)][_0x3b8966(0x1a0)]=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x1a0)],_0x48778c,_0x5e9368,0.1,0.6),this[_0x3b8966(0x16d)][_0x3b8966(0x1b0)]+=_0x5e9368*(0.6+0.6*this[_0x3b8966(0x16d)][_0x3b8966(0x14f)]+0.7*this['_state'][_0x3b8966(0x1a8)]+0.5*this[_0x3b8966(0x16d)]['drop']);const _0x272704=this[_0x3b8966(0x1a2)](0.9+0.25*this[_0x3b8966(0x16d)]['energy']+0.45*this['_state'][_0x3b8966(0x12f)],0.8,1.4);this[_0x3b8966(0x16d)]['centerFocus']=this[_0x3b8966(0x150)](this[_0x3b8966(0x16d)][_0x3b8966(0x1a1)],_0x272704,0.08);const _0x18095c=this[_0x3b8966(0x1a2)](0.5*this['_state'][_0x3b8966(0x191)]+0.55*this[_0x3b8966(0x16d)][_0x3b8966(0x12f)]+0.15*this[_0x3b8966(0x16d)][_0x3b8966(0x14f)]+0.28*_0x96b262,0x0,0x1);this[_0x3b8966(0x16d)][_0x3b8966(0x177)]=this[_0x3b8966(0x178)](this[_0x3b8966(0x16d)][_0x3b8966(0x177)],_0x18095c,_0x5e9368,0.08,0.55);const _0x487f7c=this[_0x3b8966(0x1a2)](0.7*this[_0x3b8966(0x16d)][_0x3b8966(0x191)]+0.4*this['_state'][_0x3b8966(0x12f)]+0.3*this[_0x3b8966(0x16d)]['beat']+0.25*this[_0x3b8966(0x16d)]['flux'],0x0,0x1);this['_state'][_0x3b8966(0x1e8)]=this[_0x3b8966(0x150)](this['_state']['contour'],_0x487f7c,0.08);}[_0x2985a6(0x172)](){const _0x110ae8=_0x2985a6,_0x8bb48=this['gl'];if(!_0x8bb48||!this[_0x110ae8(0x129)])return;if(!this[_0x110ae8(0x186)]||!this[_0x110ae8(0x1a6)]||!this[_0x110ae8(0x137)])try{this['_buildResources'](_0x8bb48),this[_0x110ae8(0x1ba)](!0x0);}catch{return;}const _0x1f179a='undefined'!=typeof performance?0.001*performance[_0x110ae8(0x14b)]():Date[_0x110ae8(0x14b)]()/0x3e8,_0x3d6965=this[_0x110ae8(0x198)]?_0x1f179a-this[_0x110ae8(0x198)]:0x1/0x3c,_0x2a7ff1=this[_0x110ae8(0x1a2)](_0x3d6965,0x1/0xf0,0.2);this[_0x110ae8(0x198)]=_0x1f179a,this[_0x110ae8(0x1bb)]+=_0x2a7ff1*(this[_0x110ae8(0x16d)][_0x110ae8(0x174)]??0x1);const _0x15e838=_0x8bb48[_0x110ae8(0x1d5)]||this[_0x110ae8(0x129)]?.[_0x110ae8(0x1d4)]||0x1,_0x29d463=_0x8bb48[_0x110ae8(0x1e0)]||this[_0x110ae8(0x129)]?.[_0x110ae8(0x141)]||0x1;if(_0x15e838<=0x0||_0x29d463<=0x0)return;const _0xc02571=this[_0x110ae8(0x1da)]||0.8,_0x553b75=Math[_0x110ae8(0x143)](0x8,Math[_0x110ae8(0x13f)](_0x15e838*_0xc02571)),_0x1b8c2a=Math[_0x110ae8(0x143)](0x8,Math[_0x110ae8(0x13f)](_0x29d463*_0xc02571));this['_ensureTargets'](_0x553b75,_0x1b8c2a);const _0x3bc255=this[_0x110ae8(0x14a)],_0x3baa59=this['_writeTarget'];if(!_0x3bc255||!_0x3baa59)return;_0x8bb48[_0x110ae8(0x13d)](0x0,0x0,_0x553b75,_0x1b8c2a),_0x8bb48[_0x110ae8(0x152)](_0x8bb48['FRAMEBUFFER'],_0x3baa59[_0x110ae8(0x176)]),_0x8bb48[_0x110ae8(0x149)](this[_0x110ae8(0x186)]);const _0x196a49=this[_0x110ae8(0x142)]['aPosition']??0x0;_0x8bb48[_0x110ae8(0x15b)](_0x8bb48[_0x110ae8(0x1a4)],this[_0x110ae8(0x137)]),_0x8bb48['enableVertexAttribArray'](_0x196a49),_0x8bb48[_0x110ae8(0x156)](_0x196a49,0x2,_0x8bb48[_0x110ae8(0x135)],!0x1,0x0,0x0);const _0x364a38=this[_0x110ae8(0x17a)]['feedback'];_0x364a38?.['uResolution']&&_0x8bb48['uniform2f'](_0x364a38[_0x110ae8(0x146)],_0x553b75,_0x1b8c2a),_0x364a38?.[_0x110ae8(0x139)]&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x139)],this['_time']),_0x364a38?.[_0x110ae8(0x1c4)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1c4)],this[_0x110ae8(0x16d)][_0x110ae8(0x14f)]),_0x364a38?.['uFlux']&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x15f)],this[_0x110ae8(0x16d)][_0x110ae8(0x1a8)]),_0x364a38?.[_0x110ae8(0x1b3)]&&_0x8bb48['uniform1f'](_0x364a38['uCentroid'],this[_0x110ae8(0x16d)][_0x110ae8(0x1d7)]),_0x364a38?.[_0x110ae8(0x1a9)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38['uHueShift'],this['_state']['hueShift']),_0x364a38?.[_0x110ae8(0x158)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x158)],this['_state'][_0x110ae8(0x12f)]),_0x364a38?.[_0x110ae8(0x1b7)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1b7)],this[_0x110ae8(0x16d)][_0x110ae8(0x1aa)]),_0x364a38?.[_0x110ae8(0x1d8)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1d8)],this[_0x110ae8(0x16d)][_0x110ae8(0x167)]),_0x364a38?.['uLean']&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1cb)],this[_0x110ae8(0x16d)][_0x110ae8(0x188)]),_0x364a38?.[_0x110ae8(0x1ac)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38['uFeedbackFade'],this[_0x110ae8(0x16d)][_0x110ae8(0x1b2)]),_0x364a38?.['uSwirl']&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x12b)],this[_0x110ae8(0x16d)][_0x110ae8(0x196)]),_0x364a38?.[_0x110ae8(0x160)]&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x160)],this[_0x110ae8(0x16d)][_0x110ae8(0x1c3)]),_0x364a38?.['uZoom']&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38['uZoom'],this[_0x110ae8(0x16d)][_0x110ae8(0x145)]),_0x364a38?.['uSeed']&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38['uSeed'],this[_0x110ae8(0x199)]),_0x364a38?.[_0x110ae8(0x16b)]&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x16b)],this[_0x110ae8(0x16d)][_0x110ae8(0x1c5)]),_0x364a38?.['uRayDensity']&&_0x8bb48['uniform1f'](_0x364a38[_0x110ae8(0x183)],this[_0x110ae8(0x16d)][_0x110ae8(0x1a0)]),_0x364a38?.['uCenterFocus']&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x19e)],this['_state'][_0x110ae8(0x1a1)]),_0x364a38?.[_0x110ae8(0x170)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x170)],this[_0x110ae8(0x16d)][_0x110ae8(0x1b0)]),_0x364a38?.[_0x110ae8(0x1a7)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1a7)],this['_patternSeed']),_0x364a38?.[_0x110ae8(0x136)]&&_0x8bb48['uniform1f'](_0x364a38['uBeat'],this[_0x110ae8(0x16d)]['beat']),_0x364a38?.[_0x110ae8(0x192)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x192)],this[_0x110ae8(0x16d)]['bass']),_0x364a38?.['uDissolve']&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1c9)],this[_0x110ae8(0x16d)][_0x110ae8(0x177)]),_0x364a38?.[_0x110ae8(0x1cf)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x364a38[_0x110ae8(0x1cf)],this[_0x110ae8(0x16d)][_0x110ae8(0x1e8)]),_0x364a38?.[_0x110ae8(0x162)]&&(_0x8bb48['activeTexture'](_0x8bb48['TEXTURE0']),_0x8bb48[_0x110ae8(0x16a)](_0x8bb48[_0x110ae8(0x1e3)],_0x3bc255[_0x110ae8(0x194)]),_0x8bb48[_0x110ae8(0x14c)](_0x364a38[_0x110ae8(0x162)],0x0)),_0x8bb48['drawArrays'](_0x8bb48['TRIANGLES'],0x0,0x3),_0x8bb48[_0x110ae8(0x152)](_0x8bb48[_0x110ae8(0x197)],null),_0x8bb48[_0x110ae8(0x13d)](0x0,0x0,_0x15e838,_0x29d463),_0x8bb48[_0x110ae8(0x149)](this[_0x110ae8(0x1a6)]);const _0x53d54a=this[_0x110ae8(0x17a)]['present'];_0x53d54a?.[_0x110ae8(0x146)]&&_0x8bb48[_0x110ae8(0x190)](_0x53d54a['uResolution'],_0x15e838,_0x29d463),_0x53d54a?.[_0x110ae8(0x139)]&&_0x8bb48['uniform1f'](_0x53d54a[_0x110ae8(0x139)],this['_time']),_0x53d54a?.[_0x110ae8(0x1e5)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a[_0x110ae8(0x1e5)],this[_0x110ae8(0x16d)]['bloom']),_0x53d54a?.['uGrain']&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a[_0x110ae8(0x160)],this['_state'][_0x110ae8(0x1c3)]);const _0x4e76e5=this[_0x110ae8(0x1a2)](0.6*this['_state']['centroid']+0.6*this['_state'][_0x110ae8(0x1ae)],0x0,0x1);_0x53d54a?.['uHue']&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a[_0x110ae8(0x189)],_0x4e76e5),_0x53d54a?.[_0x110ae8(0x1c4)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a['uEnergy'],this[_0x110ae8(0x16d)][_0x110ae8(0x14f)]),_0x53d54a?.['uDrop']&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a['uDrop'],this[_0x110ae8(0x16d)][_0x110ae8(0x12f)]),_0x53d54a?.[_0x110ae8(0x19b)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a[_0x110ae8(0x19b)],this[_0x110ae8(0x16d)][_0x110ae8(0x138)]),_0x53d54a?.[_0x110ae8(0x195)]&&_0x8bb48[_0x110ae8(0x1b6)](_0x53d54a['uSeed'],this['_grainSeed']+7.31),_0x53d54a?.[_0x110ae8(0x169)]&&(_0x8bb48[_0x110ae8(0x1b9)](_0x8bb48[_0x110ae8(0x1dc)]),_0x8bb48[_0x110ae8(0x16a)](_0x8bb48['TEXTURE_2D'],_0x3baa59[_0x110ae8(0x194)]),_0x8bb48['uniform1i'](_0x53d54a[_0x110ae8(0x169)],0x0)),_0x8bb48[_0x110ae8(0x14d)](_0x8bb48[_0x110ae8(0x1c6)],0x0,0x3),_0x8bb48[_0x110ae8(0x151)](_0x196a49),this[_0x110ae8(0x15e)]();}[_0x2985a6(0x16e)](){return{'energy':0x0,'flux':0x0,'centroid':0.4,'hueShift':0x0,'drop':0x0,'stereoLean':0x0,'feedbackFade':0.12,'feedbackStrength':0.9,'grain':0.3,'slices':0.55,'swirl':0.24,'zoom':0x1,'bloom':0.2,'chromatic':0.2,'timeScale':0x1,'rayMix':0.25,'rayDensity':0.3,'centerFocus':1.05,'rayPhase':0x0,'beat':0x0,'bass':0x0,'dissolve':0x0,'contour':0x0};}[_0x2985a6(0x175)](){const _0x31750b=_0x2985a6,_0x37fd8d=this[_0x31750b(0x17d)](),_0x3ff899=_0x37fd8d['shortEdge']<0x384?0.7:0.86,_0x4140ae=this[_0x31750b(0x1a2)](0.06*(_0x37fd8d['densityScale']??0x1),-0.06,0.1);return this[_0x31750b(0x1a2)](_0x3ff899+_0x4140ae,0.65,0x1);}[_0x2985a6(0x164)](_0xa6d1dc){const _0x3ee35c=_0x2985a6;this[_0x3ee35c(0x18b)](),this[_0x3ee35c(0x186)]=this[_0x3ee35c(0x132)](i,'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUV;\x0a\x0auniform\x20sampler2D\x20uPrev;\x0auniform\x20vec2\x20uResolution;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uEnergy;\x0auniform\x20float\x20uFlux;\x0auniform\x20float\x20uCentroid;\x0auniform\x20float\x20uHueShift;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uFeedbackMix;\x0auniform\x20float\x20uSlices;\x0auniform\x20float\x20uLean;\x0auniform\x20float\x20uFeedbackFade;\x0auniform\x20float\x20uSwirl;\x0auniform\x20float\x20uGrain;\x0auniform\x20float\x20uZoom;\x0auniform\x20float\x20uSeed;\x0auniform\x20float\x20uRayMix;\x0auniform\x20float\x20uRayDensity;\x0auniform\x20float\x20uCenterFocus;\x0auniform\x20float\x20uRayPhase;\x0auniform\x20float\x20uPatternSeed;\x0auniform\x20float\x20uBeat;\x0auniform\x20float\x20uBass;\x0auniform\x20float\x20uDissolve;\x0auniform\x20float\x20uContour;\x0a\x0aconst\x20float\x20PI\x20=\x203.14159265359;\x0a\x0afloat\x20hash12(vec2\x20p)\x20{\x0a\x20\x20float\x20h\x20=\x20dot(p,\x20vec2(127.1,\x20311.7));\x0a\x20\x20return\x20fract(sin(h)\x20*\x2043758.5453123);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20float\x20a\x20=\x20hash12(i);\x0a\x20\x20float\x20b\x20=\x20hash12(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash12(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash12(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20return\x20mix(mix(a,\x20b,\x20u.x),\x20mix(c,\x20d,\x20u.x),\x20u.y);\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20value\x20=\x200.0;\x0a\x20\x20float\x20amp\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x204;\x20i++)\x20{\x0a\x20\x20\x20\x20value\x20+=\x20amp\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20=\x20p\x20*\x202.2\x20+\x20vec2(1.7,\x20-2.3);\x0a\x20\x20\x20\x20amp\x20*=\x200.55;\x0a\x20\x20}\x0a\x20\x20return\x20value;\x0a}\x0a\x0amat2\x20rotate2d(float\x20a)\x20{\x0a\x20\x20float\x20s\x20=\x20sin(a);\x0a\x20\x20float\x20c\x20=\x20cos(a);\x0a\x20\x20return\x20mat2(c,\x20-s,\x20s,\x20c);\x0a}\x0a\x0avec2\x20kaleido(vec2\x20p,\x20float\x20slices,\x20float\x20spin)\x20{\x0a\x20\x20float\x20angle\x20=\x20atan(p.y,\x20p.x)\x20+\x20spin;\x0a\x20\x20float\x20r\x20=\x20length(p);\x0a\x20\x20float\x20sector\x20=\x20PI\x20/\x20max(1.0,\x20slices);\x0a\x20\x20angle\x20=\x20mod(angle,\x202.0\x20*\x20sector);\x0a\x20\x20angle\x20=\x20abs(angle\x20-\x20sector);\x0a\x20\x20return\x20vec2(cos(angle),\x20sin(angle))\x20*\x20r;\x0a}\x0a\x0afloat\x20rayBands(vec2\x20p,\x20float\x20density,\x20float\x20phase,\x20float\x20beat,\x20float\x20seed)\x20{\x0a\x20\x20vec2\x20dir\x20=\x20normalize(p\x20+\x20vec2(1e-4));\x0a\x20\x20float\x20accum\x20=\x200.0;\x0a\x20\x20float\x20t\x20=\x200.0;\x0a\x20\x20float\x20steps\x20=\x207.0;\x0a\x20\x20float\x20jitter\x20=\x20(hash12(p\x20+\x20vec2(seed))\x20-\x200.5)\x20*\x200.2;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x207;\x20i++)\x20{\x0a\x20\x20\x20\x20float\x20fi\x20=\x20float(i);\x0a\x20\x20\x20\x20float\x20stride\x20=\x20mix(0.02,\x200.18,\x20fi\x20/\x20(steps\x20-\x201.0));\x0a\x20\x20\x20\x20vec2\x20sp\x20=\x20p\x20+\x20dir\x20*\x20(t\x20+\x20stride\x20+\x20jitter);\x0a\x20\x20\x20\x20float\x20n\x20=\x20fbm(sp\x20*\x20(2.6\x20+\x20density\x20*\x205.5)\x20+\x20vec2(phase\x20*\x200.7,\x20-phase\x20*\x200.5)\x20+\x20seed);\x0a\x20\x20\x20\x20float\x20gate\x20=\x20smoothstep(0.58,\x200.98,\x20n);\x0a\x20\x20\x20\x20accum\x20+=\x20gate;\x0a\x20\x20\x20\x20t\x20+=\x20stride\x20*\x20(1.0\x20+\x20density\x20*\x200.3);\x0a\x20\x20}\x0a\x20\x20accum\x20/=\x20steps;\x0a\x20\x20float\x20ray\x20=\x20pow(accum,\x202.4);\x0a\x20\x20return\x20ray\x20*\x20(0.35\x20+\x20density\x20*\x200.45\x20+\x20beat\x20*\x200.35);\x0a}\x0a\x0avec3\x20palette(float\x20t,\x20float\x20shift)\x20{\x0a\x20\x20vec3\x20a\x20=\x20vec3(0.55,\x200.36,\x200.92);\x0a\x20\x20vec3\x20b\x20=\x20vec3(0.45,\x200.28,\x200.18);\x0a\x20\x20vec3\x20c\x20=\x20vec3(0.32,\x200.68,\x200.54);\x0a\x20\x20vec3\x20d\x20=\x20vec3(0.18,\x200.2,\x200.38);\x0a\x20\x20return\x20a\x20+\x20b\x20*\x20cos(6.28318\x20*\x20(c\x20*\x20(t\x20+\x20shift)\x20+\x20d));\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20vec2\x20p\x20=\x20uv\x20-\x200.5;\x0a\x20\x20float\x20aspect\x20=\x20uResolution.x\x20/\x20max(1.0,\x20uResolution.y);\x0a\x20\x20p.x\x20*=\x20aspect;\x0a\x0a\x20\x20float\x20focus\x20=\x20mix(0.85,\x201.35,\x20clamp(uCenterFocus,\x200.0,\x201.5));\x0a\x20\x20p\x20*=\x20focus;\x0a\x0a\x20\x20float\x20time\x20=\x20uTime\x20*\x20(0.7\x20+\x20uEnergy\x20*\x200.7\x20+\x20uFlux\x20*\x200.4\x20+\x20uDrop\x20*\x200.25);\x0a\x20\x20float\x20slices\x20=\x20mix(4.0,\x2010.0,\x20clamp(uSlices,\x200.0,\x201.0));\x0a\x20\x20float\x20spin\x20=\x20uSwirl\x20*\x20(0.5\x20+\x20uFlux\x20*\x200.4)\x20+\x20uCentroid\x20*\x200.6;\x0a\x0a\x20\x20p\x20*=\x20rotate2d(spin\x20+\x20uLean\x20*\x200.35);\x0a\x0a\x20\x20vec2\x20flow\x20=\x20vec2(fbm(p\x20*\x201.8\x20+\x20time\x20*\x200.55),\x20fbm(p\x20*\x202.3\x20-\x20time\x20*\x200.45))\x20-\x200.5;\x0a\x20\x20p\x20+=\x20flow\x20*\x20(0.08\x20+\x20uFlux\x20*\x200.12\x20+\x20uDrop\x20*\x200.1\x20+\x20uEnergy\x20*\x200.05);\x0a\x20\x20p.x\x20+=\x20uLean\x20*\x20(0.18\x20+\x20uEnergy\x20*\x200.12);\x0a\x0a\x20\x20float\x20warpPulse\x20=\x20(0.25\x20+\x20uBass\x20*\x200.6\x20+\x20uDrop\x20*\x200.45)\x20*\x20(0.6\x20+\x20uBeat\x20*\x200.8);\x0a\x20\x20float\x20radial\x20=\x20length(p)\x20+\x201e-4;\x0a\x20\x20vec2\x20dir\x20=\x20p\x20/\x20radial;\x0a\x20\x20float\x20ripple\x20=\x20sin(radial\x20*\x20(5.0\x20+\x20uBass\x20*\x208.0\x20+\x20uRayDensity\x20*\x203.5)\x20-\x20time\x20*\x20(1.2\x20+\x20uDrop\x20*\x200.9));\x0a\x20\x20p\x20+=\x20dir\x20*\x20ripple\x20*\x20warpPulse\x20*\x200.12;\x0a\x20\x20p\x20+=\x20(fbm(p\x20*\x203.2\x20+\x20uRayPhase)\x20-\x200.5)\x20*\x20(0.08\x20+\x20uBass\x20*\x200.12\x20+\x20uDrop\x20*\x200.1);\x0a\x0a\x20\x20p\x20=\x20kaleido(p,\x20slices,\x20spin\x20*\x200.5);\x0a\x20\x20p\x20*=\x20uZoom;\x0a\x0a\x20\x20vec2\x20sampleUv\x20=\x20p;\x0a\x20\x20sampleUv.x\x20/=\x20max(0.0001,\x20aspect);\x0a\x20\x20sampleUv\x20=\x20sampleUv\x20*\x200.5\x20+\x200.5;\x0a\x20\x20sampleUv\x20=\x20fract(sampleUv\x20+\x201.0);\x0a\x0a\x20\x20vec3\x20prev\x20=\x20texture2D(uPrev,\x20sampleUv).rgb;\x0a\x0a\x20\x20radial\x20=\x20clamp(1.0\x20-\x20length(p)\x20*\x200.85,\x200.0,\x201.0);\x0a\x20\x20float\x20hueCore\x20=\x20fract(uCentroid\x20*\x200.65\x20+\x20fbm(p\x20*\x201.4\x20-\x20time\x20*\x200.2)\x20*\x200.08\x20+\x20uHueShift);\x0a\x20\x20vec3\x20base\x20=\x20palette(hueCore,\x20uHueShift)\x20*\x20(0.35\x20+\x20radial\x20*\x200.7\x20+\x20uEnergy\x20*\x200.6);\x0a\x0a\x20\x20float\x20stripe\x20=\x20sin((p.x\x20+\x20p.y\x20*\x201.2)\x20*\x20(4.5\x20+\x20uFlux\x20*\x207.0)\x20+\x20time\x20*\x201.6);\x0a\x20\x20base\x20+=\x20vec3(0.08)\x20*\x20stripe\x20*\x20(0.6\x20+\x20uFlux\x20*\x200.8);\x0a\x0a\x20\x20float\x20shock\x20=\x20exp(-abs(length(p)\x20-\x20(0.36\x20+\x20uDrop\x20*\x200.4))\x20*\x20(7.0\x20+\x20uDrop\x20*\x204.0));\x0a\x20\x20base\x20+=\x20palette(hueCore\x20+\x200.12,\x20uHueShift)\x20*\x20shock\x20*\x20(0.65\x20+\x20uDrop\x20*\x200.5);\x0a\x0a\x20\x20float\x20rayDensity\x20=\x20clamp(uRayDensity,\x200.0,\x201.0);\x0a\x20\x20float\x20rayMix\x20=\x20clamp(uRayMix,\x200.0,\x201.0);\x0a\x20\x20float\x20rayPhase\x20=\x20uRayPhase\x20+\x20uPatternSeed\x20*\x200.17;\x0a\x20\x20float\x20ray\x20=\x20rayBands(p,\x20rayDensity,\x20rayPhase,\x20uBeat,\x20uPatternSeed);\x0a\x20\x20base\x20+=\x20palette(hueCore\x20+\x200.18,\x20uHueShift\x20+\x20uPatternSeed\x20*\x200.03)\x20*\x20ray\x20*\x20rayMix;\x0a\x0a\x20\x20float\x20contourFreq\x20=\x206.0\x20+\x20uBass\x20*\x208.0\x20+\x20uFlux\x20*\x204.0;\x0a\x20\x20float\x20contour\x20=\x20abs(sin(length(p)\x20*\x20contourFreq\x20-\x20time\x20*\x20(1.4\x20+\x20uDrop\x20*\x200.7)\x20+\x20uPatternSeed));\x0a\x20\x20contour\x20=\x20smoothstep(0.6,\x200.95,\x20contour);\x0a\x20\x20vec3\x20contourCol\x20=\x20palette(hueCore\x20+\x200.25,\x20uHueShift\x20+\x200.05)\x20*\x20contour\x20*\x20(0.18\x20+\x20uContour\x20*\x200.55);\x0a\x20\x20base\x20+=\x20contourCol;\x0a\x0a\x20\x20float\x20feedback\x20=\x20mix(0.78,\x200.96,\x20clamp(uFeedbackMix,\x200.0,\x201.0));\x0a\x20\x20feedback\x20=\x20max(0.55,\x20feedback\x20-\x20uFeedbackFade\x20*\x200.45);\x0a\x20\x20float\x20inject\x20=\x20clamp(0.18\x20+\x20uEnergy\x20*\x200.28\x20+\x20uFlux\x20*\x200.16\x20+\x20uDrop\x20*\x200.42,\x200.06,\x200.72);\x0a\x0a\x20\x20vec3\x20color\x20=\x20mix(prev\x20*\x20feedback,\x20base,\x20inject);\x0a\x20\x20color\x20+=\x20prev\x20*\x20(0.06\x20+\x20uFlux\x20*\x200.08)\x20*\x20(0.7\x20-\x20uFeedbackFade\x20*\x200.5);\x0a\x0a\x20\x20float\x20dissolveNoise\x20=\x20fbm(p\x20*\x203.3\x20+\x20uTime\x20*\x200.8\x20+\x20uPatternSeed\x20*\x202.3);\x0a\x20\x20float\x20dissolveMask\x20=\x20mix(1.0,\x20smoothstep(0.35,\x200.75,\x20dissolveNoise\x20+\x20uPatternSeed\x20*\x200.05),\x20clamp(uDissolve,\x200.0,\x201.0));\x0a\x20\x20color\x20*=\x20dissolveMask;\x0a\x0a\x20\x20float\x20grain\x20=\x20(hash12(vUV\x20*\x20uResolution\x20+\x20uSeed\x20+\x20time\x20*\x2050.0)\x20-\x200.5)\x20*\x200.12\x20*\x20uGrain;\x0a\x20\x20color\x20+=\x20grain;\x0a\x20\x20gl_FragColor\x20=\x20vec4(max(color,\x20vec3(0.0)),\x201.0);\x0a}\x0a',{'aPosition':0x0}),this['_presentProgram']=this[_0x3ee35c(0x132)](i,_0x3ee35c(0x1d9),{'aPosition':0x0}),this[_0x3ee35c(0x142)][_0x3ee35c(0x13a)]=_0xa6d1dc[_0x3ee35c(0x18c)](this[_0x3ee35c(0x186)],_0x3ee35c(0x13a)),(this[_0x3ee35c(0x142)][_0x3ee35c(0x13a)]??-0x1)<0x0&&(this[_0x3ee35c(0x142)][_0x3ee35c(0x13a)]=0x0),this['_uniforms']['feedback']={'uResolution':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x146)),'uPrev':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x162)),'uTime':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],'uTime'),'uEnergy':_0xa6d1dc[_0x3ee35c(0x1a5)](this['_feedbackProgram'],_0x3ee35c(0x1c4)),'uFlux':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x186)],_0x3ee35c(0x15f)),'uCentroid':_0xa6d1dc[_0x3ee35c(0x1a5)](this['_feedbackProgram'],_0x3ee35c(0x1b3)),'uHueShift':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x1a9)),'uDrop':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x186)],_0x3ee35c(0x158)),'uFeedbackMix':_0xa6d1dc['getUniformLocation'](this['_feedbackProgram'],_0x3ee35c(0x1b7)),'uSlices':_0xa6d1dc['getUniformLocation'](this['_feedbackProgram'],_0x3ee35c(0x1d8)),'uLean':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x1cb)),'uFeedbackFade':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x1ac)),'uSwirl':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x186)],_0x3ee35c(0x12b)),'uGrain':_0xa6d1dc['getUniformLocation'](this['_feedbackProgram'],_0x3ee35c(0x160)),'uZoom':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x186)],'uZoom'),'uSeed':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x195)),'uRayMix':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x16b)),'uRayDensity':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x183)),'uCenterFocus':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x186)],_0x3ee35c(0x19e)),'uRayPhase':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x170)),'uPatternSeed':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],'uPatternSeed'),'uBeat':_0xa6d1dc[_0x3ee35c(0x1a5)](this['_feedbackProgram'],'uBeat'),'uBass':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x192)),'uDissolve':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x1c9)),'uContour':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x186)],_0x3ee35c(0x1cf))},this[_0x3ee35c(0x17a)][_0x3ee35c(0x1df)]={'uResolution':_0xa6d1dc[_0x3ee35c(0x1a5)](this['_presentProgram'],_0x3ee35c(0x146)),'uScene':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x1a6)],_0x3ee35c(0x169)),'uTime':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x1a6)],'uTime'),'uBloom':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x1a6)],'uBloom'),'uGrain':_0xa6d1dc['getUniformLocation'](this['_presentProgram'],_0x3ee35c(0x160)),'uHue':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x1a6)],'uHue'),'uEnergy':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x1a6)],_0x3ee35c(0x1c4)),'uDrop':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x1a6)],_0x3ee35c(0x158)),'uChromatic':_0xa6d1dc[_0x3ee35c(0x1a5)](this[_0x3ee35c(0x1a6)],'uChromatic'),'uSeed':_0xa6d1dc['getUniformLocation'](this[_0x3ee35c(0x1a6)],_0x3ee35c(0x195))};const _0x37f217=_0xa6d1dc[_0x3ee35c(0x1af)]();if(!_0x37f217)throw new Error(_0x3ee35c(0x1bc));this[_0x3ee35c(0x1d0)](_0x37f217,(_0x43c625,_0x245572)=>_0x43c625[_0x3ee35c(0x184)](_0x245572)),_0xa6d1dc[_0x3ee35c(0x15b)](_0xa6d1dc['ARRAY_BUFFER'],_0x37f217),_0xa6d1dc[_0x3ee35c(0x17f)](_0xa6d1dc[_0x3ee35c(0x1a4)],new Float32Array([-0x1,-0x1,0x3,-0x1,-0x1,0x3]),_0xa6d1dc['STATIC_DRAW']),_0xa6d1dc[_0x3ee35c(0x15b)](_0xa6d1dc[_0x3ee35c(0x1a4)],null),this['_quadBuffer']=_0x37f217;}[_0x2985a6(0x17e)](_0x16ae6b,_0x3162fc){const _0x52427e=_0x2985a6;_0x16ae6b===this[_0x52427e(0x12e)]&&_0x3162fc===this[_0x52427e(0x1e1)]&&this['_readTarget']&&this[_0x52427e(0x1e6)]||(this[_0x52427e(0x12e)]=_0x16ae6b,this[_0x52427e(0x1e1)]=_0x3162fc,this[_0x52427e(0x1ba)](!0x0),this['_updateResolutionUniforms']());}[_0x2985a6(0x1ba)](_0x25beaa=!0x1){const _0x3dac3d=_0x2985a6,_0x2cbb64=this['gl'];if(!_0x2cbb64)return;const _0x30d927=Math[_0x3dac3d(0x143)](0x8,Math[_0x3dac3d(0x13f)](this[_0x3dac3d(0x12e)]||_0x2cbb64[_0x3dac3d(0x1d5)]||0x1)),_0x22fdea=Math[_0x3dac3d(0x143)](0x8,Math[_0x3dac3d(0x13f)](this[_0x3dac3d(0x1e1)]||_0x2cbb64[_0x3dac3d(0x1e0)]||0x1));!_0x25beaa&&this['_readTarget']&&this['_writeTarget']||(this[_0x3dac3d(0x181)](this[_0x3dac3d(0x14a)]),this['_destroyTarget'](this[_0x3dac3d(0x1e6)]),this[_0x3dac3d(0x14a)]=this[_0x3dac3d(0x154)](_0x2cbb64,_0x30d927,_0x22fdea),this['_writeTarget']=this[_0x3dac3d(0x154)](_0x2cbb64,_0x30d927,_0x22fdea));}[_0x2985a6(0x155)](){const _0x54628d=_0x2985a6,_0x462b24=this['gl'];_0x462b24&&(this[_0x54628d(0x17a)][_0x54628d(0x148)]?.[_0x54628d(0x146)]&&this[_0x54628d(0x12e)]&&this[_0x54628d(0x1e1)]&&(_0x462b24[_0x54628d(0x149)](this[_0x54628d(0x186)]),_0x462b24['uniform2f'](this[_0x54628d(0x17a)][_0x54628d(0x148)][_0x54628d(0x146)],this['_targetWidth'],this['_targetHeight'])),this[_0x54628d(0x17a)][_0x54628d(0x1df)]?.[_0x54628d(0x146)]&&this[_0x54628d(0x1d4)]&&this[_0x54628d(0x141)]&&(_0x462b24[_0x54628d(0x149)](this[_0x54628d(0x1a6)]),_0x462b24[_0x54628d(0x190)](this[_0x54628d(0x17a)][_0x54628d(0x1df)]['uResolution'],this[_0x54628d(0x1d4)],this[_0x54628d(0x141)])),_0x462b24[_0x54628d(0x149)](null));}[_0x2985a6(0x154)](_0x300b2d,_0x5327e9,_0x30bb2b){const _0x437423=_0x2985a6,_0x13d18d=_0x300b2d[_0x437423(0x179)](),_0x3fe3e6=_0x300b2d[_0x437423(0x1cd)]();if(!_0x13d18d||!_0x3fe3e6)throw new Error(_0x437423(0x1be));this[_0x437423(0x1d0)](_0x13d18d,(_0x36ff20,_0x263224)=>_0x36ff20[_0x437423(0x15c)](_0x263224)),this['autoDispose'](_0x3fe3e6,(_0x518395,_0x6ba8e5)=>_0x518395[_0x437423(0x1e4)](_0x6ba8e5)),_0x300b2d[_0x437423(0x16a)](_0x300b2d[_0x437423(0x1e3)],_0x13d18d),_0x300b2d[_0x437423(0x144)](_0x300b2d[_0x437423(0x1e3)],0x0,_0x300b2d[_0x437423(0x16f)],_0x5327e9,_0x30bb2b,0x0,_0x300b2d['RGBA'],_0x300b2d['UNSIGNED_BYTE'],null),_0x300b2d['texParameteri'](_0x300b2d[_0x437423(0x1e3)],_0x300b2d[_0x437423(0x1db)],_0x300b2d['LINEAR']),_0x300b2d[_0x437423(0x1c7)](_0x300b2d[_0x437423(0x1e3)],_0x300b2d[_0x437423(0x153)],_0x300b2d[_0x437423(0x18f)]),_0x300b2d['texParameteri'](_0x300b2d[_0x437423(0x1e3)],_0x300b2d[_0x437423(0x1e2)],_0x300b2d[_0x437423(0x1d1)]),_0x300b2d[_0x437423(0x1c7)](_0x300b2d[_0x437423(0x1e3)],_0x300b2d[_0x437423(0x163)],_0x300b2d[_0x437423(0x1d1)]),_0x300b2d['bindFramebuffer'](_0x300b2d[_0x437423(0x197)],_0x3fe3e6),_0x300b2d['framebufferTexture2D'](_0x300b2d['FRAMEBUFFER'],_0x300b2d[_0x437423(0x1b1)],_0x300b2d[_0x437423(0x1e3)],_0x13d18d,0x0);if(_0x300b2d['checkFramebufferStatus'](_0x300b2d[_0x437423(0x197)])!==_0x300b2d[_0x437423(0x16c)])throw _0x300b2d['bindFramebuffer'](_0x300b2d[_0x437423(0x197)],null),_0x300b2d['bindTexture'](_0x300b2d[_0x437423(0x1e3)],null),new Error('Framebuffer\x20incomplete\x20for\x20liquid-kaleido-feedback');return _0x300b2d['bindFramebuffer'](_0x300b2d['FRAMEBUFFER'],null),_0x300b2d[_0x437423(0x16a)](_0x300b2d['TEXTURE_2D'],null),{'texture':_0x13d18d,'fbo':_0x3fe3e6,'width':_0x5327e9,'height':_0x30bb2b};}[_0x2985a6(0x181)](_0x35a029){const _0x5664bc=_0x2985a6;_0x35a029&&(this[_0x5664bc(0x140)](_0x35a029[_0x5664bc(0x194)]),this[_0x5664bc(0x140)](_0x35a029['fbo']));}[_0x2985a6(0x15e)](){const _0x11f9a7=_0x2985a6,_0xf3296f=this[_0x11f9a7(0x14a)];this['_readTarget']=this[_0x11f9a7(0x1e6)],this['_writeTarget']=_0xf3296f;}}function _0x3ff0(_0x107484,_0x3812ec){const _0x5e2f31=_0x5e2f();return _0x3ff0=function(_0x3ff081,_0x55fe7d){_0x3ff081=_0x3ff081-0x129;let _0x507fa0=_0x5e2f31[_0x3ff081];return _0x507fa0;},_0x3ff0(_0x107484,_0x3812ec);}_0x5926d0(_0x2985a6(0x14e),s,{'meta':s[_0x2985a6(0x1b5)]});
