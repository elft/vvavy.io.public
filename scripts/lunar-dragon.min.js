const _0x47628b=_0x77e6;function _0x809f(){const _0x9c7972=['1075278PmlTnF','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20vec3\x20customColor;\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vColor\x20=\x20customColor;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(300.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','_redColor','_tempVec','maxLife','ceil','energy','DYNAMIC','min','_camera','accent','_updateFireworks','count','destroy','flux','Lunar\x20Dragon\x20Fireworks','stereo','clamp','customColor','dbTo01','_goldColor','reverbTail','dispose','explode','accentPulse','tan','needsUpdate','onUpdate','high-performance','colorB','velY','reverb','dropPulse','_updateParticles','_beatCooldown','_spawnParticle','curve','beat','_trailVec','_particles','size','569808xDkIUX','floor','reset','colorG','cues','setSize','368YGifrj','life','_setupThree','clone','_points','_sizes','dropStart','1826730zVruYR','_colors','flushTrackedGLResources','random','fov','set','posY','energyChangeIntensity','push','resetState','melodyChange','crackleDelay','accentColor','launch','_randomUnitVector','posZ','_particleCapacity','render','_scene','setDrawRange','pow','TRIPPY','loudness','brillianceEnergy','onRender','sin','setClearColor','smooth','canvas','progress','crackleSpawned','2196872NwLfXa','rms','_time','_emitBurst','MID','_positions','getPoint','velZ','_state','#030106','stereoBalance','posX','_previewMode','vvavy','updateProjectionMatrix','treble','subBassEnergy','52191XlFlxv','bass','_clampExplosionTarget','max','setAttribute','_fireworks','_geometry','_gravity','VIBE','loudnessShortDb','overallEnergy','_renderer','splice','audioTriggers','frustumCulled','_emitCrackle','_material','melody','setPixelRatio','attackRelease','height','_crackleColor','_ensureParticleCapacity','dropIntensity','end','drop','_attributes','position','setUsage','28KfzMVh','lerp','aspect','TEMPO','add','glow','setHSL','668894GFSYKx','length','loudnessIntegratedDb','ENERGY','launchLoudness','color','burstScale','phase','speed','isBeat','onResize','autoClear','velX','colorR','_emitTrail','_spawnFirework','init','_seedLaunchTrail','CINEMATIC','type','bassEnergy','607350BDqNtQ','getAttribute','_spawnTimer','dpr','width','config','_estimateExplosionRadius'];_0x809f=function(){return _0x9c7972;};return _0x809f();}(function(_0x475d21,_0x4f2dbf){const _0x2ff415=_0x77e6,_0x20b86f=_0x475d21();while(!![]){try{const _0x339967=-parseInt(_0x2ff415(0xd0))/0x1+parseInt(_0x2ff415(0x115))/0x2+parseInt(_0x2ff415(0x122))/0x3+parseInt(_0x2ff415(0x141))/0x4+parseInt(_0x2ff415(0xe5))/0x5+parseInt(_0x2ff415(0xec))/0x6*(-parseInt(_0x2ff415(0xc9))/0x7)+-parseInt(_0x2ff415(0x11b))/0x8*(-parseInt(_0x2ff415(0x152))/0x9);if(_0x339967===_0x4f2dbf)break;else _0x20b86f['push'](_0x20b86f['shift']());}catch(_0x106295){_0x20b86f['push'](_0x20b86f['shift']());}}}(_0x809f,0x6cc46));import{b as _0x3476e0,C as _0x158c90,W as _0x5b1978,S as _0x1f56be,e as _0x5b9eb1,p as _0x3e314b,q as _0x216f74,r as _0x522ccf,a as _0x1d2c5d,n as _0x3767a5,s as _0x58a302,t as _0x40a430}from'./three.module.min.js';import{V as _0x2e5827,r as _0x27a113,W as _0x3e0f22}from'./main.min.js';const y={'savedAt':0x19c6e6c9673,'name':_0x47628b(0xfb),'createdBy':_0x47628b(0x14e),'description':'A\x20lunar\x20dragon\x20ascends\x20in\x20ember\x20trails\x20and\x20radiant\x20bursts,\x20with\x20audio-guided\x20firework\x20arcs\x20and\x20shimmering\x20crackle\x20glow.','tags':[_0x2e5827['TECH']['HD'],_0x2e5827['VIBE'][_0x47628b(0xe2)],_0x2e5827[_0x47628b(0x15a)][_0x47628b(0x137)],_0x2e5827[_0x47628b(0xd3)][_0x47628b(0x145)],_0x2e5827[_0x47628b(0xcc)][_0x47628b(0xf3)]]},u=0x0,g=0x1,w=0x2;function _0x77e6(_0xa747fa,_0x13be12){const _0x809fa2=_0x809f();return _0x77e6=function(_0x77e62b,_0x48e84b){_0x77e62b=_0x77e62b-0xc1;let _0x10de81=_0x809fa2[_0x77e62b];return _0x10de81;},_0x77e6(_0xa747fa,_0x13be12);}_0x27a113('lunar-dragon',class extends _0x3e0f22{static ['meta']=y;constructor(_0x1557d7){const _0x38ab9e=_0x47628b;super({..._0x1557d7,'config':{'backgroundColor':_0x38ab9e(0x14a),'autoClear':!0x0,..._0x1557d7?.[_0x38ab9e(0xea)]??{}}}),this[_0x38ab9e(0x15d)]=null,this[_0x38ab9e(0x134)]=null,this['_camera']=null,this[_0x38ab9e(0x158)]=null,this['_material']=null,this[_0x38ab9e(0x11f)]=null,this['_attributes']=null,this[_0x38ab9e(0x132)]=0xc80,this[_0x38ab9e(0x146)]=new Float32Array(0x3*this[_0x38ab9e(0x132)]),this[_0x38ab9e(0x123)]=new Float32Array(0x3*this[_0x38ab9e(0x132)]),this[_0x38ab9e(0x120)]=new Float32Array(this[_0x38ab9e(0x132)]),this[_0x38ab9e(0x113)]={'count':0x0,'posX':new Float32Array(this[_0x38ab9e(0x132)]),'posY':new Float32Array(this[_0x38ab9e(0x132)]),'posZ':new Float32Array(this[_0x38ab9e(0x132)]),'velX':new Float32Array(this[_0x38ab9e(0x132)]),'velY':new Float32Array(this['_particleCapacity']),'velZ':new Float32Array(this['_particleCapacity']),'colorR':new Float32Array(this[_0x38ab9e(0x132)]),'colorG':new Float32Array(this['_particleCapacity']),'colorB':new Float32Array(this['_particleCapacity']),'size':new Float32Array(this[_0x38ab9e(0x132)]),'life':new Float32Array(this[_0x38ab9e(0x132)]),'maxLife':new Float32Array(this[_0x38ab9e(0x132)]),'type':new Uint8Array(this[_0x38ab9e(0x132)])},this['_fireworks']=[],this[_0x38ab9e(0x143)]=0x0,this[_0x38ab9e(0xe7)]=0x0,this[_0x38ab9e(0x10e)]=0x0,this[_0x38ab9e(0x149)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2},this[_0x38ab9e(0xef)]=new _0x3476e0(),this['_trailVec']=new _0x3476e0(),this[_0x38ab9e(0x159)]=new _0x3476e0(0x0,-0.004,0x0),this[_0x38ab9e(0xc1)]=new _0x158c90(0xffffff),this[_0x38ab9e(0x100)]=new _0x158c90()[_0x38ab9e(0xcf)](0.12,0x1,0.5),this[_0x38ab9e(0xee)]=new _0x158c90()['setHSL'](0x0,0x1,0.5);}[_0x47628b(0x117)](){const _0x2cd548=_0x47628b;this[_0x2cd548(0x157)]=[],this[_0x2cd548(0x143)]=0x0,this[_0x2cd548(0xe7)]=0x0,this[_0x2cd548(0x10e)]=0x0,this[_0x2cd548(0x113)]['count']=0x0,this[_0x2cd548(0x149)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2};}[_0x47628b(0xe0)](){const _0x497a94=_0x47628b;this['gl']&&(this[_0x497a94(0x124)]?.(),this[_0x497a94(0x117)](),this['_setupThree']());}[_0x47628b(0xda)](){const _0x1c873c=_0x47628b;super['onResize']?.(),this[_0x1c873c(0x15d)]&&(this[_0x1c873c(0x15d)][_0x1c873c(0x164)](Math[_0x1c873c(0xf4)](this['dpr']??0x1,0x2)),this['_renderer'][_0x1c873c(0x11a)](this[_0x1c873c(0xe9)],this[_0x1c873c(0x166)],!0x1)),this[_0x1c873c(0xf5)]&&(this[_0x1c873c(0xf5)][_0x1c873c(0xcb)]=this['width']/Math['max'](0x1,this[_0x1c873c(0x166)]),this[_0x1c873c(0xf5)][_0x1c873c(0x14f)]());}[_0x47628b(0x11d)](){const _0x276ec2=_0x47628b;this[_0x276ec2(0x15d)]=new _0x5b1978({'canvas':this[_0x276ec2(0x13e)],'context':this['gl'],'antialias':!0x0,'alpha':!0x0,'powerPreference':_0x276ec2(0x108)}),this['_renderer'][_0x276ec2(0xdb)]=!0x0,this['_renderer'][_0x276ec2(0x164)](Math[_0x276ec2(0xf4)](this[_0x276ec2(0xe8)]??0x1,0x2)),this[_0x276ec2(0x15d)][_0x276ec2(0x11a)](this[_0x276ec2(0xe9)],this[_0x276ec2(0x166)],!0x1),this[_0x276ec2(0x15d)][_0x276ec2(0x13c)](new _0x158c90(0x30106),0x1),this[_0x276ec2(0x134)]=new _0x1f56be(),this[_0x276ec2(0xf5)]=new _0x5b9eb1(0x41,this[_0x276ec2(0xe9)]/Math[_0x276ec2(0x155)](0x1,this[_0x276ec2(0x166)]),0.1,0x3e8),this[_0x276ec2(0xf5)]['position']['z']=0x64,this[_0x276ec2(0x158)]=new _0x3e314b(),this['_geometry'][_0x276ec2(0x156)](_0x276ec2(0xc7),new _0x216f74(this[_0x276ec2(0x146)],0x3)[_0x276ec2(0xc8)](_0x522ccf)),this[_0x276ec2(0x158)][_0x276ec2(0x156)](_0x276ec2(0xfe),new _0x216f74(this[_0x276ec2(0x123)],0x3)[_0x276ec2(0xc8)](_0x522ccf)),this['_geometry'][_0x276ec2(0x156)](_0x276ec2(0x114),new _0x216f74(this['_sizes'],0x1)['setUsage'](_0x522ccf)),this[_0x276ec2(0x158)][_0x276ec2(0x135)](0x0,0x0),this[_0x276ec2(0x162)]=new _0x1d2c5d({'vertexShader':_0x276ec2(0xed),'fragmentShader':'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20float\x20strength\x20=\x200.05\x20/\x20d;\x0a\x20\x20strength\x20=\x20pow(strength,\x202.0);\x0a\x20\x20float\x20alpha\x20=\x20smoothstep(0.5,\x200.1,\x20d);\x0a\x20\x20vec3\x20finalColor\x20=\x20mix(vColor,\x20vec3(1.0),\x20pow(strength,\x204.0)\x20*\x200.5);\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20alpha);\x0a}\x0a','transparent':!0x0,'blending':_0x3767a5,'depthWrite':!0x1}),this[_0x276ec2(0x11f)]=new _0x58a302(this[_0x276ec2(0x158)],this['_material']),this[_0x276ec2(0x11f)][_0x276ec2(0x160)]=!0x1,this['_scene'][_0x276ec2(0xcd)](this[_0x276ec2(0x11f)]),this[_0x276ec2(0xc6)]={'position':this[_0x276ec2(0x158)][_0x276ec2(0xe6)](_0x276ec2(0xc7)),'color':this[_0x276ec2(0x158)][_0x276ec2(0xe6)](_0x276ec2(0xfe)),'size':this['_geometry'][_0x276ec2(0xe6)](_0x276ec2(0x114))};}[_0x47628b(0x107)](_0x3d56d5){const _0x26c18e=_0x47628b;if(!_0x3d56d5)return;const _0x35150b=this[_0x26c18e(0xfd)](_0x3d56d5['dt']??0x1/0x3c,0x1/0xf0,0.2);this['_time']+=_0x35150b;const _0x172ec2=_0x3d56d5[_0x26c18e(0x119)]??this[_0x26c18e(0x15f)]??{},_0x478eb5=this[_0x26c18e(0xfd)](_0x3d56d5[_0x26c18e(0x15c)]??_0x3d56d5[_0x26c18e(0xf2)]??_0x3d56d5[_0x26c18e(0x142)]??0x0,0x0,1.4),_0x2a1a29=this[_0x26c18e(0xfd)](0.6*(_0x3d56d5[_0x26c18e(0x151)]??0x0)+0.8*(_0x3d56d5[_0x26c18e(0xe4)]??0x0),0x0,1.4),_0x3e0753=this[_0x26c18e(0xfd)](0.7*(_0x3d56d5['trebleEnergy']??0x0)+0.6*(_0x3d56d5[_0x26c18e(0x139)]??0x0),0x0,1.4),_0x4b5b8a=this[_0x26c18e(0xfd)](1.1*(_0x3d56d5['spectralFlux']??0x0)+0.5*(_0x3d56d5[_0x26c18e(0x129)]??0x0),0x0,1.4),_0x1fbf22=this[_0x26c18e(0xff)](_0x3d56d5[_0x26c18e(0x15b)]??_0x3d56d5[_0x26c18e(0xd2)]??-0x30,-0x3c,0x0),_0x155916=this[_0x26c18e(0xfd)](_0x3d56d5[_0x26c18e(0x14b)]??0x0,-0x1,0x1),_0x2c9993=this[_0x26c18e(0xfd)](_0x3d56d5[_0x26c18e(0x101)]??0x0,0x0,0x1),_0x8fd18e=this[_0x26c18e(0xfd)](_0x3d56d5['beatPulse']??(_0x3d56d5[_0x26c18e(0xd9)]?0x1:0x0),0x0,1.2),_0x395c2d=this['clamp'](_0x172ec2['dropIntensity']??_0x3d56d5[_0x26c18e(0xc3)]??_0x3d56d5[_0x26c18e(0x10c)]??0x0,0x0,1.4),_0x3789e7=_0x172ec2[_0x26c18e(0x104)]?0x1:0x0,_0x183b4c=_0x172ec2[_0x26c18e(0x12c)]?0x1:0x0;this[_0x26c18e(0x149)][_0x26c18e(0xf2)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)][_0x26c18e(0xf2)],_0x478eb5,_0x35150b,0.08,0.4),this['_state'][_0x26c18e(0x153)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)][_0x26c18e(0x153)],_0x2a1a29,_0x35150b,0.09,0.4),this[_0x26c18e(0x149)][_0x26c18e(0x150)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)]['treble'],_0x3e0753,_0x35150b,0.08,0.45),this[_0x26c18e(0x149)][_0x26c18e(0xfa)]=this['attackRelease'](this[_0x26c18e(0x149)][_0x26c18e(0xfa)],_0x4b5b8a,_0x35150b,0.1,0.5),this[_0x26c18e(0x149)][_0x26c18e(0x138)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)]['loudness'],_0x1fbf22,_0x35150b,0.08,0.35),this['_state'][_0x26c18e(0xfc)]=this[_0x26c18e(0x13d)](this[_0x26c18e(0x149)][_0x26c18e(0xfc)],_0x155916,0.1),this[_0x26c18e(0x149)][_0x26c18e(0x10b)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)]['reverb'],_0x2c9993,_0x35150b,0.1,0.55),this[_0x26c18e(0x149)][_0x26c18e(0x111)]=this['attackRelease'](this[_0x26c18e(0x149)][_0x26c18e(0x111)],_0x8fd18e,_0x35150b,0.04,0.3),this[_0x26c18e(0x149)][_0x26c18e(0xc5)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)][_0x26c18e(0xc5)],_0x395c2d,_0x35150b,0.04,0.6),this['_state'][_0x26c18e(0xf6)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)][_0x26c18e(0xf6)],_0x3789e7,_0x35150b,0.04,0.3),this[_0x26c18e(0x149)][_0x26c18e(0x163)]=this[_0x26c18e(0x165)](this['_state']['melody'],_0x183b4c,_0x35150b,0.08,0.6);const _0x4a0cdb=this[_0x26c18e(0xfd)](0.2+0.5*this[_0x26c18e(0x149)][_0x26c18e(0x150)]+0.35*this[_0x26c18e(0x149)][_0x26c18e(0xf2)]+0.4*this[_0x26c18e(0x149)]['drop'],0.15,1.2);this[_0x26c18e(0x149)][_0x26c18e(0xce)]=this[_0x26c18e(0x165)](this[_0x26c18e(0x149)]['glow'],_0x4a0cdb,_0x35150b,0.08,0.5),this[_0x26c18e(0x10e)]=Math[_0x26c18e(0x155)](0x0,this[_0x26c18e(0x10e)]-_0x35150b),this[_0x26c18e(0xe7)]=Math[_0x26c18e(0x155)](0x0,this[_0x26c18e(0xe7)]-_0x35150b);const _0x31a391=this[_0x26c18e(0x149)][_0x26c18e(0x111)]>0.55||this[_0x26c18e(0x149)][_0x26c18e(0xf6)]>0.4,_0x9b38a=Boolean(_0x172ec2[_0x26c18e(0x121)])||this[_0x26c18e(0x149)][_0x26c18e(0xc5)]>0.8,_0x19921b=this[_0x26c18e(0x14d)]&&!_0x9b38a&&!_0x31a391&&this[_0x26c18e(0x149)][_0x26c18e(0xf2)]<0.22;if(_0x9b38a&&this[_0x26c18e(0xe7)]<=0.02)this[_0x26c18e(0xdf)]({'intensity':1.4,'accent':0x1,'extraCrackle':!0x0}),this[_0x26c18e(0xe7)]=0.55,this[_0x26c18e(0x10e)]=0.4;else{if(_0x31a391&&this[_0x26c18e(0x10e)]<=0x0)this[_0x26c18e(0xdf)]({'intensity':0.8+0.6*this[_0x26c18e(0x149)][_0x26c18e(0xf2)],'accent':this[_0x26c18e(0x149)][_0x26c18e(0xf6)]}),this['_spawnTimer']=0.4,this[_0x26c18e(0x10e)]=0.35;else{if(this[_0x26c18e(0xe7)]<=0x0&&(this['_state'][_0x26c18e(0xf2)]>0.2||_0x19921b)){const _0x3e892c=_0x19921b?this[_0x26c18e(0xfd)](0.3+0.08*Math[_0x26c18e(0x13b)](1.1*this[_0x26c18e(0x143)]),0.2,0.45):this['_state']['energy'],_0x493eb=_0x19921b?this['lerp'](1.05,0.7,_0x3e892c):this[_0x26c18e(0xca)](1.4,0.6,this[_0x26c18e(0x149)]['energy']);this[_0x26c18e(0xdf)]({'intensity':0.55+0.5*_0x3e892c,'accent':_0x19921b?0.25:0x0}),this[_0x26c18e(0xe7)]=_0x493eb;}}}this['_updateFireworks'](_0x35150b),this[_0x26c18e(0x10d)](_0x35150b);}[_0x47628b(0x13a)](){const _0x1410db=_0x47628b;if(!(this[_0x1410db(0x15d)]&&this[_0x1410db(0x134)]&&this['_camera']&&this['_geometry']&&this[_0x1410db(0xc6)]))return;const _0xa987b9=this[_0x1410db(0x113)]['count'];this['_geometry'][_0x1410db(0x135)](0x0,_0xa987b9),_0xa987b9>0x0&&(this[_0x1410db(0xc6)][_0x1410db(0xc7)]['needsUpdate']=!0x0,this['_attributes'][_0x1410db(0xd5)][_0x1410db(0x106)]=!0x0,this[_0x1410db(0xc6)][_0x1410db(0x114)][_0x1410db(0x106)]=!0x0),this[_0x1410db(0x15d)][_0x1410db(0x12b)](),this[_0x1410db(0x15d)][_0x1410db(0x133)](this[_0x1410db(0x134)],this['_camera']);}[_0x47628b(0xf9)](){const _0x3a1bb9=_0x47628b;this[_0x3a1bb9(0x15d)]&&this['_renderer'][_0x3a1bb9(0x102)](),this[_0x3a1bb9(0x162)]&&this[_0x3a1bb9(0x162)]['dispose'](),this[_0x3a1bb9(0x158)]&&this[_0x3a1bb9(0x158)]['dispose'](),super[_0x3a1bb9(0xf9)]();}['_spawnFirework']({intensity:_0xd40a63=0.8,accent:_0x53b5bf=0x0,extraCrackle:_0x520fd9=!0x1}={}){const _0x23ee50=_0x47628b;if(this[_0x23ee50(0x157)][_0x23ee50(0xd1)]>=0x6)return;const _0x341264=0x12*this['_state'][_0x23ee50(0xfc)],_0x15b182=this[_0x23ee50(0x149)][_0x23ee50(0x138)],_0x1ddcf1=new _0x3476e0(0x32*(Math[_0x23ee50(0x125)]()-0.5)+_0x341264,0x8*Math['random']()-0x3c,0x14*(Math[_0x23ee50(0x125)]()-0.5)),_0x19d5ce=new _0x3476e0(0x5a*(Math[_0x23ee50(0x125)]()-0.5)+0.4*_0x341264,0x46*Math[_0x23ee50(0x125)]()-0xa+0xa*this[_0x23ee50(0x149)]['energy'],0x14*(Math[_0x23ee50(0x125)]()-0.5));this[_0x23ee50(0x154)](_0x19d5ce,this[_0x23ee50(0xeb)](_0x15b182));const _0x2e9610=new _0x3476e0(_0x1ddcf1['x']+0x1e*(Math[_0x23ee50(0x125)]()-0.5),_0x1ddcf1['y']+0x23+0xa*Math[_0x23ee50(0x125)](),_0x1ddcf1['z']+0x1e*(Math[_0x23ee50(0x125)]()-0.5)),_0x526e9f=new _0x40a430([_0x1ddcf1,_0x2e9610,_0x19d5ce]),_0x1adb16=this[_0x23ee50(0x100)];this['_fireworks'][_0x23ee50(0x12a)]({'start':_0x1ddcf1,'mid':_0x2e9610,'end':_0x19d5ce,'curve':_0x526e9f,'position':_0x1ddcf1[_0x23ee50(0x11e)](),'progress':0x0,'speed':(0.006+0.004*Math[_0x23ee50(0x125)]())*(0x1+0.6*this[_0x23ee50(0x149)]['energy']),'phase':_0x23ee50(0x12f),'color':_0x1adb16,'accentColor':this['_redColor'],'burstScale':0x1+0.6*_0xd40a63+0.2*_0x53b5bf,'launchLoudness':_0x15b182,'crackleDelay':_0x520fd9?0.2:0.35,'crackleSpawned':!0x1}),this['_seedLaunchTrail'](_0x526e9f,_0x1adb16);}[_0x47628b(0xeb)](_0x5afeca){const _0xbde767=_0x47628b;return 0xc+0x12*_0x5afeca+0x8*this[_0xbde767(0x149)][_0xbde767(0xc5)];}[_0x47628b(0x154)](_0x420347,_0x322821){const _0x6275a2=_0x47628b;if(!this[_0x6275a2(0xf5)])return;const _0x3aeb6b=this['_camera'][_0x6275a2(0xc7)]['z'],_0x57f641=Math[_0x6275a2(0x155)](0x1,_0x3aeb6b-_0x420347['z']),_0x2efc5d=this[_0x6275a2(0xf5)][_0x6275a2(0x126)]*Math['PI']/0xb4,_0x9c7efc=Math[_0x6275a2(0x105)](0.5*_0x2efc5d)*_0x57f641,_0x379f9b=_0x9c7efc*(this['_camera'][_0x6275a2(0xcb)]||this[_0x6275a2(0xe9)]/Math[_0x6275a2(0x155)](0x1,this[_0x6275a2(0x166)])),_0x40e1fc=Math[_0x6275a2(0x155)](0x2,_0x379f9b-_0x322821),_0x1cbb24=Math[_0x6275a2(0x155)](0x2,_0x9c7efc-_0x322821);_0x420347['x']=this[_0x6275a2(0xfd)](_0x420347['x'],-_0x40e1fc,_0x40e1fc),_0x420347['y']=this[_0x6275a2(0xfd)](_0x420347['y'],-_0x1cbb24,_0x1cbb24);}[_0x47628b(0xf7)](_0x2ce1cf){const _0xb86391=_0x47628b;if(0x0!==this[_0xb86391(0x157)][_0xb86391(0xd1)])for(let _0x2b3d47=this[_0xb86391(0x157)][_0xb86391(0xd1)]-0x1;_0x2b3d47>=0x0;_0x2b3d47-=0x1){const _0x423abf=this[_0xb86391(0x157)][_0x2b3d47];_0xb86391(0x12f)===_0x423abf[_0xb86391(0xd7)]?(_0x423abf[_0xb86391(0x13f)]+=_0x423abf[_0xb86391(0xd8)]*_0x2ce1cf*0x3c,_0x423abf[_0xb86391(0x110)][_0xb86391(0x147)](Math[_0xb86391(0xf4)](_0x423abf[_0xb86391(0x13f)],0x1),_0x423abf[_0xb86391(0xc7)]),this[_0xb86391(0xde)](_0x423abf[_0xb86391(0xc7)],_0x423abf[_0xb86391(0xd5)]),_0x423abf[_0xb86391(0x13f)]>=0x1&&(this['_emitBurst'](_0x423abf[_0xb86391(0xc7)],_0x423abf),_0x423abf[_0xb86391(0xd7)]=_0xb86391(0x103),_0x423abf[_0xb86391(0x12d)]=Math['max'](0.12,_0x423abf['crackleDelay']-0.08*this[_0xb86391(0x149)][_0xb86391(0x150)]))):(_0x423abf['crackleDelay']-=_0x2ce1cf,!_0x423abf[_0xb86391(0x140)]&&_0x423abf[_0xb86391(0x12d)]<=0x0&&(this[_0xb86391(0x161)](_0x423abf[_0xb86391(0xc4)],_0x423abf),_0x423abf[_0xb86391(0x140)]=!0x0),_0x423abf['crackleSpawned']&&this[_0xb86391(0x157)][_0xb86391(0x15e)](_0x2b3d47,0x1));}}[_0x47628b(0xde)](_0x2445d6,_0xf110f5){const _0x37591c=_0x47628b,_0x489504=Math['floor'](0x4+0x3*this[_0x37591c(0x149)][_0x37591c(0xf2)]+0x2*this[_0x37591c(0x149)][_0x37591c(0x150)]);for(let _0x5d71f6=0x0;_0x5d71f6<_0x489504;_0x5d71f6+=0x1){const _0x233ea7=0.3*(Math[_0x37591c(0x125)]()-0.5),_0x4972ab=0.3*(Math[_0x37591c(0x125)]()-0.5),_0x3f8bf5=0.3*(Math[_0x37591c(0x125)]()-0.5);this['_spawnParticle']({'x':_0x2445d6['x'],'y':_0x2445d6['y'],'z':_0x2445d6['z'],'vx':_0x233ea7,'vy':_0x4972ab,'vz':_0x3f8bf5,'speed':0x1,'color':_0xf110f5,'size':1.2,'life':0x1+Math[_0x37591c(0x125)]()+0.4*this[_0x37591c(0x149)][_0x37591c(0x10b)],'type':u});}}[_0x47628b(0xe1)](_0x5bcbc2,_0x168b0a){const _0x45e783=_0x47628b;for(let _0x583865=0x0;_0x583865<0x5;_0x583865+=0x1){const _0xfb772=_0x583865/Math[_0x45e783(0x155)](0x1,0x4)*0.08;_0x5bcbc2[_0x45e783(0x147)](_0xfb772,this[_0x45e783(0x112)]),this[_0x45e783(0xde)](this[_0x45e783(0x112)],_0x168b0a);}}[_0x47628b(0x144)](_0x39761c,_0x23f56e){const _0x267448=_0x47628b,_0x238265=0x1+1.1*_0x23f56e['launchLoudness'],_0x4471d4=0xc8+Math[_0x267448(0x116)](0x1e*_0x23f56e[_0x267448(0xd6)]),_0x572b81=Math['min'](0x1a4,Math[_0x267448(0x116)](_0x4471d4*_0x238265+0x50*this[_0x267448(0x149)][_0x267448(0xc5)]));for(let _0x315f3b=0x0;_0x315f3b<_0x572b81;_0x315f3b+=0x1){const _0x11a545=0x1+0.9*_0x23f56e[_0x267448(0xd4)],_0x44aa74=(0.7*Math[_0x267448(0x125)]()+0.2)*_0x11a545*(0x1+0.6*this[_0x267448(0x149)]['bass']),_0x29f76b=this[_0x267448(0x130)](this['_tempVec']),_0x8cbde3=0.8+1.1*_0x23f56e[_0x267448(0xd4)];this[_0x267448(0x10f)]({'x':_0x39761c['x'],'y':_0x39761c['y'],'z':_0x39761c['z'],'vx':_0x29f76b['x'],'vy':_0x29f76b['y'],'vz':_0x29f76b['z'],'speed':_0x44aa74,'color':_0x23f56e[_0x267448(0x12e)],'size':1.5*_0x8cbde3,'life':1.5+Math[_0x267448(0x125)]()+0.4*_0x23f56e[_0x267448(0xd4)],'type':g});}}['_emitCrackle'](_0x5e5ff4,_0x1fbce5){const _0x2c6744=_0x47628b,_0x496a4f=Math[_0x2c6744(0x116)](0x78+0x46*this['_state']['treble']+0x14*_0x1fbce5['burstScale']);for(let _0x2478f3=0x0;_0x2478f3<_0x496a4f;_0x2478f3+=0x1){const _0xf301a3=1.8*Math[_0x2c6744(0x125)]()*(0x1+0.5*this['_state'][_0x2c6744(0xfa)]),_0x456b0e=this['_randomUnitVector'](this['_tempVec']);this[_0x2c6744(0x10f)]({'x':_0x5e5ff4['x'],'y':_0x5e5ff4['y'],'z':_0x5e5ff4['z'],'vx':_0x456b0e['x'],'vy':_0x456b0e['y'],'vz':_0x456b0e['z'],'speed':_0xf301a3,'color':this[_0x2c6744(0xc1)],'size':0.8,'life':0.4+0.4*Math['random'](),'type':w});}}['_spawnParticle']({x:_0xc599b4,y:_0x139fc8,z:_0x59e570,vx:_0x276f00,vy:_0x7b74ce,vz:_0x4b0d87,speed:_0x3fed95,color:_0x34f623,size:_0x55555d,life:_0x12a494,type:_0x54e96f}){const _0x1eb375=_0x47628b,_0xcf41a6=this[_0x1eb375(0x113)][_0x1eb375(0xf8)];this['_ensureParticleCapacity'](_0xcf41a6+0x1),this['_particles']['count']+=0x1,this['_particles']['posX'][_0xcf41a6]=_0xc599b4,this[_0x1eb375(0x113)]['posY'][_0xcf41a6]=_0x139fc8,this[_0x1eb375(0x113)][_0x1eb375(0x131)][_0xcf41a6]=_0x59e570,this[_0x1eb375(0x113)][_0x1eb375(0xdc)][_0xcf41a6]=_0x276f00*_0x3fed95,this[_0x1eb375(0x113)]['velY'][_0xcf41a6]=_0x7b74ce*_0x3fed95,this[_0x1eb375(0x113)][_0x1eb375(0x148)][_0xcf41a6]=_0x4b0d87*_0x3fed95,this[_0x1eb375(0x113)][_0x1eb375(0xdd)][_0xcf41a6]=_0x34f623['r'],this['_particles'][_0x1eb375(0x118)][_0xcf41a6]=_0x34f623['g'],this[_0x1eb375(0x113)][_0x1eb375(0x109)][_0xcf41a6]=_0x34f623['b'],this[_0x1eb375(0x113)]['size'][_0xcf41a6]=_0x55555d,this[_0x1eb375(0x113)][_0x1eb375(0x11c)][_0xcf41a6]=_0x12a494,this[_0x1eb375(0x113)][_0x1eb375(0xf0)][_0xcf41a6]=_0x12a494,this[_0x1eb375(0x113)][_0x1eb375(0xe3)][_0xcf41a6]=_0x54e96f;}[_0x47628b(0xc2)](_0x35fffc){const _0x4ce1e3=_0x47628b;if(_0x35fffc<=this[_0x4ce1e3(0x132)])return;let _0x10ad11=this[_0x4ce1e3(0x132)];for(;_0x10ad11<_0x35fffc;)_0x10ad11=Math[_0x4ce1e3(0xf1)](1.5*_0x10ad11);const _0xae768a=(_0x2117bf,_0x4cd06c)=>{const _0xedd8c3=_0x4ce1e3,_0x4e2ec0=new Float32Array(_0x4cd06c);return _0x4e2ec0[_0xedd8c3(0x127)](_0x2117bf),_0x4e2ec0;};this[_0x4ce1e3(0x132)]=_0x10ad11,this[_0x4ce1e3(0x146)]=_0xae768a(this[_0x4ce1e3(0x146)],0x3*_0x10ad11),this['_colors']=_0xae768a(this[_0x4ce1e3(0x123)],0x3*_0x10ad11),this[_0x4ce1e3(0x120)]=_0xae768a(this[_0x4ce1e3(0x120)],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x14c)]=_0xae768a(this[_0x4ce1e3(0x113)][_0x4ce1e3(0x14c)],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x128)]=_0xae768a(this['_particles'][_0x4ce1e3(0x128)],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x131)]=_0xae768a(this[_0x4ce1e3(0x113)][_0x4ce1e3(0x131)],_0x10ad11),this[_0x4ce1e3(0x113)]['velX']=_0xae768a(this[_0x4ce1e3(0x113)][_0x4ce1e3(0xdc)],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x10a)]=_0xae768a(this[_0x4ce1e3(0x113)]['velY'],_0x10ad11),this[_0x4ce1e3(0x113)]['velZ']=_0xae768a(this[_0x4ce1e3(0x113)][_0x4ce1e3(0x148)],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0xdd)]=_0xae768a(this[_0x4ce1e3(0x113)]['colorR'],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x118)]=_0xae768a(this['_particles']['colorG'],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0x109)]=_0xae768a(this[_0x4ce1e3(0x113)][_0x4ce1e3(0x109)],_0x10ad11),this[_0x4ce1e3(0x113)]['size']=_0xae768a(this['_particles'][_0x4ce1e3(0x114)],_0x10ad11),this[_0x4ce1e3(0x113)]['life']=_0xae768a(this[_0x4ce1e3(0x113)]['life'],_0x10ad11),this['_particles'][_0x4ce1e3(0xf0)]=_0xae768a(this[_0x4ce1e3(0x113)]['maxLife'],_0x10ad11),this[_0x4ce1e3(0x113)][_0x4ce1e3(0xe3)]=((_0x4cfd76,_0x572c97)=>{const _0x257cb1=_0x4ce1e3,_0x38f813=new Uint8Array(_0x572c97);return _0x38f813[_0x257cb1(0x127)](_0x4cfd76),_0x38f813;})(this[_0x4ce1e3(0x113)]['type'],_0x10ad11),this[_0x4ce1e3(0x158)]&&(this[_0x4ce1e3(0x158)]['setAttribute'](_0x4ce1e3(0xc7),new _0x216f74(this[_0x4ce1e3(0x146)],0x3)['setUsage'](_0x522ccf)),this[_0x4ce1e3(0x158)][_0x4ce1e3(0x156)](_0x4ce1e3(0xfe),new _0x216f74(this[_0x4ce1e3(0x123)],0x3)[_0x4ce1e3(0xc8)](_0x522ccf)),this['_geometry']['setAttribute'](_0x4ce1e3(0x114),new _0x216f74(this[_0x4ce1e3(0x120)],0x1)[_0x4ce1e3(0xc8)](_0x522ccf)),this[_0x4ce1e3(0xc6)]={'position':this[_0x4ce1e3(0x158)][_0x4ce1e3(0xe6)](_0x4ce1e3(0xc7)),'color':this[_0x4ce1e3(0x158)][_0x4ce1e3(0xe6)](_0x4ce1e3(0xfe)),'size':this['_geometry'][_0x4ce1e3(0xe6)](_0x4ce1e3(0x114))});}[_0x47628b(0x10d)](_0x52c33f){const _0x12e63e=_0x47628b,_0x50f2db=this[_0x12e63e(0x113)];if(0x0===_0x50f2db[_0x12e63e(0xf8)])return;const _0x5db0c4=0x3c*_0x52c33f,_0x4a9c4f=this['_gravity']['y']*_0x5db0c4*(0.9+0.3*this[_0x12e63e(0x149)][_0x12e63e(0x153)]),_0x228660=0.4+0.9*this['_state'][_0x12e63e(0xfa)],_0x2fb8a7=0.75+0.6*this[_0x12e63e(0x149)][_0x12e63e(0x150)],_0x2d286c=0x6*this['_state'][_0x12e63e(0xfc)];let _0x1d03b8=0x0;for(let _0x144cc6=0x0;_0x144cc6<_0x50f2db[_0x12e63e(0xf8)];_0x144cc6+=0x1){let _0x2b5ae2=_0x50f2db[_0x12e63e(0x11c)][_0x144cc6]-0.012*_0x5db0c4;if(_0x2b5ae2<=0x0)continue;const _0xd709bc=_0x50f2db['type'][_0x144cc6],_0x3470ea=_0xd709bc===u?0.92:_0xd709bc===g?0.9:0.88,_0x4bbdb8=Math[_0x12e63e(0x136)](_0x3470ea,_0x5db0c4);let _0x35b1c5=_0x50f2db[_0x12e63e(0xdc)][_0x144cc6],_0x28f027=_0x50f2db['velY'][_0x144cc6],_0x79ebe2=_0x50f2db[_0x12e63e(0x148)][_0x144cc6];_0x28f027+=_0x4a9c4f,_0x35b1c5+=(Math[_0x12e63e(0x125)]()-0.5)*_0x228660*0.05*_0x5db0c4,_0x79ebe2+=(Math[_0x12e63e(0x125)]()-0.5)*_0x228660*0.05*_0x5db0c4,_0x35b1c5*=_0x4bbdb8,_0x28f027*=_0x4bbdb8,_0x79ebe2*=_0x4bbdb8;let _0x543ee5=_0x50f2db[_0x12e63e(0x14c)][_0x144cc6]+_0x35b1c5*_0x5db0c4,_0x46b73e=_0x50f2db['posY'][_0x144cc6]+_0x28f027*_0x5db0c4,_0xa74da2=_0x50f2db[_0x12e63e(0x131)][_0x144cc6]+_0x79ebe2*_0x5db0c4;const _0x58eb9f=this['clamp'](_0x2b5ae2/_0x50f2db[_0x12e63e(0xf0)][_0x144cc6],0x0,0x1),_0x2f1862=_0x50f2db['size'][_0x144cc6]*_0x2fb8a7*(0.85+0.3*this[_0x12e63e(0x149)][_0x12e63e(0xce)]);_0x50f2db['life'][_0x1d03b8]=_0x2b5ae2,_0x50f2db[_0x12e63e(0xf0)][_0x1d03b8]=_0x50f2db[_0x12e63e(0xf0)][_0x144cc6],_0x50f2db['type'][_0x1d03b8]=_0xd709bc,_0x50f2db[_0x12e63e(0x14c)][_0x1d03b8]=_0x543ee5,_0x50f2db[_0x12e63e(0x128)][_0x1d03b8]=_0x46b73e,_0x50f2db[_0x12e63e(0x131)][_0x1d03b8]=_0xa74da2,_0x50f2db[_0x12e63e(0xdc)][_0x1d03b8]=_0x35b1c5,_0x50f2db['velY'][_0x1d03b8]=_0x28f027,_0x50f2db['velZ'][_0x1d03b8]=_0x79ebe2,_0x50f2db[_0x12e63e(0xdd)][_0x1d03b8]=_0x50f2db[_0x12e63e(0xdd)][_0x144cc6],_0x50f2db[_0x12e63e(0x118)][_0x1d03b8]=_0x50f2db['colorG'][_0x144cc6],_0x50f2db[_0x12e63e(0x109)][_0x1d03b8]=_0x50f2db[_0x12e63e(0x109)][_0x144cc6],_0x50f2db[_0x12e63e(0x114)][_0x1d03b8]=_0x50f2db[_0x12e63e(0x114)][_0x144cc6];const _0x3a9a98=0x3*_0x1d03b8;this[_0x12e63e(0x146)][_0x3a9a98]=_0x543ee5+_0x2d286c*(0.25+0.15*_0xd709bc),this[_0x12e63e(0x146)][_0x3a9a98+0x1]=_0x46b73e,this[_0x12e63e(0x146)][_0x3a9a98+0x2]=_0xa74da2,this['_colors'][_0x3a9a98]=_0x50f2db[_0x12e63e(0xdd)][_0x144cc6]*_0x58eb9f,this[_0x12e63e(0x123)][_0x3a9a98+0x1]=_0x50f2db['colorG'][_0x144cc6]*_0x58eb9f,this[_0x12e63e(0x123)][_0x3a9a98+0x2]=_0x50f2db['colorB'][_0x144cc6]*_0x58eb9f,this[_0x12e63e(0x120)][_0x1d03b8]=_0x2f1862*_0x58eb9f*0xa,_0x1d03b8+=0x1;}_0x50f2db[_0x12e63e(0xf8)]=_0x1d03b8;}[_0x47628b(0x130)](_0x69f768){const _0x484f1a=_0x47628b;return _0x69f768[_0x484f1a(0x127)](0x2*Math['random']()-0x1,0x2*Math[_0x484f1a(0x125)]()-0x1,0x2*Math[_0x484f1a(0x125)]()-0x1)['normalize'](),_0x69f768;}},{'meta':y});
