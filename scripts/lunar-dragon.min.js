const _0x1eb3d4=_0x352a;(function(_0x527b3d,_0x2ec7a7){const _0x24dd91=_0x352a,_0x479299=_0x527b3d();while(!![]){try{const _0x5e667d=parseInt(_0x24dd91(0x17a))/0x1+parseInt(_0x24dd91(0x1c1))/0x2+-parseInt(_0x24dd91(0x1c6))/0x3+parseInt(_0x24dd91(0x1ed))/0x4+parseInt(_0x24dd91(0x1cf))/0x5*(-parseInt(_0x24dd91(0x1a3))/0x6)+-parseInt(_0x24dd91(0x202))/0x7*(parseInt(_0x24dd91(0x1f7))/0x8)+parseInt(_0x24dd91(0x183))/0x9;if(_0x5e667d===_0x2ec7a7)break;else _0x479299['push'](_0x479299['shift']());}catch(_0x27557f){_0x479299['push'](_0x479299['shift']());}}}(_0x5f6e,0x98200));import{b as _0x1c806b,C as _0x509252,W as _0x421602,S as _0x2a6c8d,e as _0xb850d0,p as _0x2e42d4,q as _0x4ad7f8,r as _0x5c0ca5,a as _0x6db6c,n as _0x470d39,s as _0xdedc67,t as _0x168a8f}from'./three.module.min.js';import{V as _0x40eb28,r as _0x2961c8,W as _0x514571}from'./main.min.js';const y={'savedAt':0x19c6e6c9673,'name':_0x1eb3d4(0x1f8),'createdBy':_0x1eb3d4(0x1ff),'description':_0x1eb3d4(0x1fb),'tags':[_0x40eb28[_0x1eb3d4(0x1e1)]['HD'],_0x40eb28[_0x1eb3d4(0x19b)]['CINEMATIC'],_0x40eb28[_0x1eb3d4(0x19b)]['TRIPPY'],_0x40eb28['ENERGY']['MID'],_0x40eb28['TEMPO'][_0x1eb3d4(0x190)]]},u=0x0,g=0x1,w=0x2;function _0x5f6e(){const _0x623ea0=['subBassEnergy','setAttribute','velZ','16722oZtqxu','maxLife','max','setPixelRatio','burstScale','_beatCooldown','set','beat','position','posY','_emitCrackle','_time','dropStart','cues','crackleSpawned','dropIntensity','_goldColor','isBeat','_spawnTimer','height','energy','posZ','clamp','_camera','length','pow','_emitBurst','_particleCapacity','colorB','rms','1064912JpbYJJ','melody','_material','_crackleColor','_randomUnitVector','510828qsBdpM','_scene','_state','frustumCulled','add','velY','audioTriggers','curve','setSize','1245WvgOTp','setDrawRange','setUsage','_points','random','_ensureParticleCapacity','loudness','autoClear','_setupThree','reset','aspect','_updateFireworks','_seedLaunchTrail','reverb','dropPulse','launchLoudness','treble','dbTo01','TECH','size','min','render','resetState','lunar-dragon','floor','count','onResize','brillianceEnergy','crackleDelay','getAttribute','1052164STsONB','_attributes','push','_clampExplosionTarget','normalize','_geometry','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20float\x20strength\x20=\x200.05\x20/\x20d;\x0a\x20\x20strength\x20=\x20pow(strength,\x202.0);\x0a\x20\x20float\x20alpha\x20=\x20smoothstep(0.5,\x200.1,\x20d);\x0a\x20\x20vec3\x20finalColor\x20=\x20mix(vColor,\x20vec3(1.0),\x20pow(strength,\x204.0)\x20*\x200.5);\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20alpha);\x0a}\x0a','beatPulse','melodyChange','dpr','128648rIrlYz','Lunar\x20Dragon\x20Fireworks','_spawnFirework','getPoint','A\x20lunar\x20dragon\x20ascends\x20in\x20ember\x20trails\x20and\x20radiant\x20bursts,\x20with\x20audio-guided\x20firework\x20arcs\x20and\x20shimmering\x20crackle\x20glow.','launch','high-performance','drop','vvavy','flux','accent','203hukCkq','bassEnergy','_sizes','_previewMode','posX','_tempVec','glow','attackRelease','end','_colors','_estimateExplosionRadius','124004ZPdEFZ','accentColor','#030106','type','bass','life','dispose','progress','spectralFlux','9307719gNXMEJ','stereo','_positions','smooth','_fireworks','colorR','colorG','needsUpdate','_gravity','_trailVec','_spawnParticle','clone','explode','DYNAMIC','init','speed','phase','_redColor','_renderer','setHSL','width','customColor','config','_emitTrail','VIBE','_particles','color','destroy','velX'];_0x5f6e=function(){return _0x623ea0;};return _0x5f6e();}function _0x352a(_0x5d1728,_0x4c1752){const _0x5f6e01=_0x5f6e();return _0x352a=function(_0x352aa3,_0x4a0a47){_0x352aa3=_0x352aa3-0x172;let _0x1c7252=_0x5f6e01[_0x352aa3];return _0x1c7252;},_0x352a(_0x5d1728,_0x4c1752);}_0x2961c8(_0x1eb3d4(0x1e6),class extends _0x514571{static ['meta']=y;constructor(_0x541b51){const _0x2f8147=_0x1eb3d4;super({..._0x541b51,'config':{'backgroundColor':_0x2f8147(0x17c),'autoClear':!0x0,..._0x541b51?.[_0x2f8147(0x199)]??{}}}),this[_0x2f8147(0x195)]=null,this[_0x2f8147(0x1c7)]=null,this[_0x2f8147(0x1ba)]=null,this[_0x2f8147(0x1f2)]=null,this[_0x2f8147(0x1c3)]=null,this[_0x2f8147(0x1d2)]=null,this[_0x2f8147(0x1ee)]=null,this[_0x2f8147(0x1be)]=0xc80,this['_positions']=new Float32Array(0x3*this['_particleCapacity']),this[_0x2f8147(0x178)]=new Float32Array(0x3*this[_0x2f8147(0x1be)]),this[_0x2f8147(0x204)]=new Float32Array(this[_0x2f8147(0x1be)]),this[_0x2f8147(0x19c)]={'count':0x0,'posX':new Float32Array(this[_0x2f8147(0x1be)]),'posY':new Float32Array(this['_particleCapacity']),'posZ':new Float32Array(this['_particleCapacity']),'velX':new Float32Array(this[_0x2f8147(0x1be)]),'velY':new Float32Array(this[_0x2f8147(0x1be)]),'velZ':new Float32Array(this['_particleCapacity']),'colorR':new Float32Array(this[_0x2f8147(0x1be)]),'colorG':new Float32Array(this[_0x2f8147(0x1be)]),'colorB':new Float32Array(this[_0x2f8147(0x1be)]),'size':new Float32Array(this['_particleCapacity']),'life':new Float32Array(this[_0x2f8147(0x1be)]),'maxLife':new Float32Array(this[_0x2f8147(0x1be)]),'type':new Uint8Array(this[_0x2f8147(0x1be)])},this[_0x2f8147(0x187)]=[],this[_0x2f8147(0x1ae)]=0x0,this[_0x2f8147(0x1b5)]=0x0,this[_0x2f8147(0x1a8)]=0x0,this[_0x2f8147(0x1c8)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2},this[_0x2f8147(0x174)]=new _0x1c806b(),this[_0x2f8147(0x18c)]=new _0x1c806b(),this[_0x2f8147(0x18b)]=new _0x1c806b(0x0,-0.004,0x0),this['_crackleColor']=new _0x509252(0xffffff),this[_0x2f8147(0x1b3)]=new _0x509252()[_0x2f8147(0x196)](0.12,0x1,0.5),this[_0x2f8147(0x194)]=new _0x509252()[_0x2f8147(0x196)](0x0,0x1,0.5);}[_0x1eb3d4(0x1d8)](){const _0x22b09e=_0x1eb3d4;this[_0x22b09e(0x187)]=[],this[_0x22b09e(0x1ae)]=0x0,this[_0x22b09e(0x1b5)]=0x0,this['_beatCooldown']=0x0,this[_0x22b09e(0x19c)][_0x22b09e(0x1e8)]=0x0,this[_0x22b09e(0x1c8)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2};}[_0x1eb3d4(0x191)](){const _0xdf89ef=_0x1eb3d4;this['gl']&&(this['flushTrackedGLResources']?.(),this[_0xdf89ef(0x1d8)](),this['_setupThree']());}[_0x1eb3d4(0x1e9)](){const _0x398f51=_0x1eb3d4;super[_0x398f51(0x1e9)]?.(),this[_0x398f51(0x195)]&&(this[_0x398f51(0x195)]['setPixelRatio'](Math[_0x398f51(0x1e3)](this[_0x398f51(0x1f6)]??0x1,0x2)),this[_0x398f51(0x195)][_0x398f51(0x1ce)](this[_0x398f51(0x197)],this[_0x398f51(0x1b6)],!0x1)),this[_0x398f51(0x1ba)]&&(this[_0x398f51(0x1ba)][_0x398f51(0x1d9)]=this[_0x398f51(0x197)]/Math[_0x398f51(0x1a5)](0x1,this[_0x398f51(0x1b6)]),this[_0x398f51(0x1ba)]['updateProjectionMatrix']());}[_0x1eb3d4(0x1d7)](){const _0x108726=_0x1eb3d4;this[_0x108726(0x195)]=new _0x421602({'canvas':this['canvas'],'context':this['gl'],'antialias':!0x0,'alpha':!0x0,'powerPreference':_0x108726(0x1fd)}),this['_renderer'][_0x108726(0x1d6)]=!0x0,this[_0x108726(0x195)][_0x108726(0x1a6)](Math[_0x108726(0x1e3)](this[_0x108726(0x1f6)]??0x1,0x2)),this[_0x108726(0x195)]['setSize'](this[_0x108726(0x197)],this[_0x108726(0x1b6)],!0x1),this['_renderer']['setClearColor'](new _0x509252(0x30106),0x1),this['_scene']=new _0x2a6c8d(),this[_0x108726(0x1ba)]=new _0xb850d0(0x41,this[_0x108726(0x197)]/Math[_0x108726(0x1a5)](0x1,this[_0x108726(0x1b6)]),0.1,0x3e8),this[_0x108726(0x1ba)][_0x108726(0x1ab)]['z']=0x64,this[_0x108726(0x1f2)]=new _0x2e42d4(),this[_0x108726(0x1f2)][_0x108726(0x1a1)](_0x108726(0x1ab),new _0x4ad7f8(this[_0x108726(0x185)],0x3)[_0x108726(0x1d1)](_0x5c0ca5)),this['_geometry'][_0x108726(0x1a1)](_0x108726(0x198),new _0x4ad7f8(this[_0x108726(0x178)],0x3)[_0x108726(0x1d1)](_0x5c0ca5)),this[_0x108726(0x1f2)][_0x108726(0x1a1)](_0x108726(0x1e2),new _0x4ad7f8(this[_0x108726(0x204)],0x1)[_0x108726(0x1d1)](_0x5c0ca5)),this['_geometry'][_0x108726(0x1d0)](0x0,0x0),this['_material']=new _0x6db6c({'vertexShader':'#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20vec3\x20customColor;\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vColor\x20=\x20customColor;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(300.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','fragmentShader':_0x108726(0x1f3),'transparent':!0x0,'blending':_0x470d39,'depthWrite':!0x1}),this[_0x108726(0x1d2)]=new _0xdedc67(this[_0x108726(0x1f2)],this[_0x108726(0x1c3)]),this[_0x108726(0x1d2)][_0x108726(0x1c9)]=!0x1,this[_0x108726(0x1c7)][_0x108726(0x1ca)](this[_0x108726(0x1d2)]),this[_0x108726(0x1ee)]={'position':this[_0x108726(0x1f2)][_0x108726(0x1ec)](_0x108726(0x1ab)),'color':this[_0x108726(0x1f2)][_0x108726(0x1ec)](_0x108726(0x198)),'size':this[_0x108726(0x1f2)][_0x108726(0x1ec)](_0x108726(0x1e2))};}['onUpdate'](_0x4bf170){const _0x544600=_0x1eb3d4;if(!_0x4bf170)return;const _0x33333d=this[_0x544600(0x1b9)](_0x4bf170['dt']??0x1/0x3c,0x1/0xf0,0.2);this[_0x544600(0x1ae)]+=_0x33333d;const _0x434b0a=_0x4bf170[_0x544600(0x1b0)]??this[_0x544600(0x1cc)]??{},_0x5d4aad=this[_0x544600(0x1b9)](_0x4bf170['overallEnergy']??_0x4bf170[_0x544600(0x1b7)]??_0x4bf170[_0x544600(0x1c0)]??0x0,0x0,1.4),_0x1ce4a4=this['clamp'](0.6*(_0x4bf170[_0x544600(0x1a0)]??0x0)+0.8*(_0x4bf170[_0x544600(0x203)]??0x0),0x0,1.4),_0x311391=this[_0x544600(0x1b9)](0.7*(_0x4bf170['trebleEnergy']??0x0)+0.6*(_0x4bf170[_0x544600(0x1ea)]??0x0),0x0,1.4),_0x5b6674=this['clamp'](1.1*(_0x4bf170[_0x544600(0x182)]??0x0)+0.5*(_0x4bf170['energyChangeIntensity']??0x0),0x0,1.4),_0x39a54a=this[_0x544600(0x1e0)](_0x4bf170['loudnessShortDb']??_0x4bf170['loudnessIntegratedDb']??-0x30,-0x3c,0x0),_0x1a882d=this['clamp'](_0x4bf170['stereoBalance']??0x0,-0x1,0x1),_0x2a20f0=this[_0x544600(0x1b9)](_0x4bf170['reverbTail']??0x0,0x0,0x1),_0x1e67b2=this['clamp'](_0x4bf170[_0x544600(0x1f4)]??(_0x4bf170[_0x544600(0x1b4)]?0x1:0x0),0x0,1.2),_0x26fe9d=this['clamp'](_0x434b0a[_0x544600(0x1b2)]??_0x4bf170[_0x544600(0x1b2)]??_0x4bf170[_0x544600(0x1dd)]??0x0,0x0,1.4),_0x2a8988=_0x434b0a['accentPulse']?0x1:0x0,_0x461b97=_0x434b0a[_0x544600(0x1f5)]?0x1:0x0;this[_0x544600(0x1c8)][_0x544600(0x1b7)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)][_0x544600(0x1b7)],_0x5d4aad,_0x33333d,0.08,0.4),this[_0x544600(0x1c8)]['bass']=this[_0x544600(0x176)](this[_0x544600(0x1c8)]['bass'],_0x1ce4a4,_0x33333d,0.09,0.4),this['_state'][_0x544600(0x1df)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)]['treble'],_0x311391,_0x33333d,0.08,0.45),this[_0x544600(0x1c8)][_0x544600(0x200)]=this['attackRelease'](this['_state'][_0x544600(0x200)],_0x5b6674,_0x33333d,0.1,0.5),this[_0x544600(0x1c8)][_0x544600(0x1d5)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)][_0x544600(0x1d5)],_0x39a54a,_0x33333d,0.08,0.35),this[_0x544600(0x1c8)]['stereo']=this[_0x544600(0x186)](this[_0x544600(0x1c8)]['stereo'],_0x1a882d,0.1),this[_0x544600(0x1c8)][_0x544600(0x1dc)]=this['attackRelease'](this[_0x544600(0x1c8)]['reverb'],_0x2a20f0,_0x33333d,0.1,0.55),this['_state'][_0x544600(0x1aa)]=this['attackRelease'](this[_0x544600(0x1c8)][_0x544600(0x1aa)],_0x1e67b2,_0x33333d,0.04,0.3),this[_0x544600(0x1c8)][_0x544600(0x1fe)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)][_0x544600(0x1fe)],_0x26fe9d,_0x33333d,0.04,0.6),this['_state'][_0x544600(0x201)]=this[_0x544600(0x176)](this['_state']['accent'],_0x2a8988,_0x33333d,0.04,0.3),this['_state'][_0x544600(0x1c2)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)][_0x544600(0x1c2)],_0x461b97,_0x33333d,0.08,0.6);const _0x220692=this['clamp'](0.2+0.5*this[_0x544600(0x1c8)][_0x544600(0x1df)]+0.35*this[_0x544600(0x1c8)][_0x544600(0x1b7)]+0.4*this[_0x544600(0x1c8)]['drop'],0.15,1.2);this[_0x544600(0x1c8)][_0x544600(0x175)]=this[_0x544600(0x176)](this[_0x544600(0x1c8)]['glow'],_0x220692,_0x33333d,0.08,0.5),this['_beatCooldown']=Math[_0x544600(0x1a5)](0x0,this[_0x544600(0x1a8)]-_0x33333d),this[_0x544600(0x1b5)]=Math[_0x544600(0x1a5)](0x0,this[_0x544600(0x1b5)]-_0x33333d);const _0x354dae=this[_0x544600(0x1c8)][_0x544600(0x1aa)]>0.55||this[_0x544600(0x1c8)][_0x544600(0x201)]>0.4,_0x5a031b=Boolean(_0x434b0a[_0x544600(0x1af)])||this[_0x544600(0x1c8)][_0x544600(0x1fe)]>0.8,_0x557c29=this[_0x544600(0x172)]&&!_0x5a031b&&!_0x354dae&&this[_0x544600(0x1c8)][_0x544600(0x1b7)]<0.22;if(_0x5a031b&&this[_0x544600(0x1b5)]<=0.02)this['_spawnFirework']({'intensity':1.4,'accent':0x1,'extraCrackle':!0x0}),this['_spawnTimer']=0.55,this[_0x544600(0x1a8)]=0.4;else{if(_0x354dae&&this[_0x544600(0x1a8)]<=0x0)this[_0x544600(0x1f9)]({'intensity':0.8+0.6*this[_0x544600(0x1c8)][_0x544600(0x1b7)],'accent':this[_0x544600(0x1c8)][_0x544600(0x201)]}),this[_0x544600(0x1b5)]=0.4,this[_0x544600(0x1a8)]=0.35;else{if(this[_0x544600(0x1b5)]<=0x0&&(this[_0x544600(0x1c8)][_0x544600(0x1b7)]>0.2||_0x557c29)){const _0x2c6741=_0x557c29?this[_0x544600(0x1b9)](0.3+0.08*Math['sin'](1.1*this[_0x544600(0x1ae)]),0.2,0.45):this['_state']['energy'],_0x536b40=_0x557c29?this['lerp'](1.05,0.7,_0x2c6741):this['lerp'](1.4,0.6,this[_0x544600(0x1c8)][_0x544600(0x1b7)]);this[_0x544600(0x1f9)]({'intensity':0.55+0.5*_0x2c6741,'accent':_0x557c29?0.25:0x0}),this['_spawnTimer']=_0x536b40;}}}this['_updateFireworks'](_0x33333d),this['_updateParticles'](_0x33333d);}['onRender'](){const _0x5cd4fe=_0x1eb3d4;if(!(this[_0x5cd4fe(0x195)]&&this['_scene']&&this[_0x5cd4fe(0x1ba)]&&this[_0x5cd4fe(0x1f2)]&&this[_0x5cd4fe(0x1ee)]))return;const _0x3381a2=this[_0x5cd4fe(0x19c)][_0x5cd4fe(0x1e8)];this[_0x5cd4fe(0x1f2)][_0x5cd4fe(0x1d0)](0x0,_0x3381a2),_0x3381a2>0x0&&(this['_attributes'][_0x5cd4fe(0x1ab)]['needsUpdate']=!0x0,this[_0x5cd4fe(0x1ee)][_0x5cd4fe(0x19d)]['needsUpdate']=!0x0,this[_0x5cd4fe(0x1ee)][_0x5cd4fe(0x1e2)][_0x5cd4fe(0x18a)]=!0x0),this[_0x5cd4fe(0x195)][_0x5cd4fe(0x1e5)](),this['_renderer'][_0x5cd4fe(0x1e4)](this[_0x5cd4fe(0x1c7)],this[_0x5cd4fe(0x1ba)]);}[_0x1eb3d4(0x19e)](){const _0x54abff=_0x1eb3d4;this[_0x54abff(0x195)]&&this[_0x54abff(0x195)]['dispose'](),this[_0x54abff(0x1c3)]&&this[_0x54abff(0x1c3)][_0x54abff(0x180)](),this[_0x54abff(0x1f2)]&&this[_0x54abff(0x1f2)][_0x54abff(0x180)](),super[_0x54abff(0x19e)]();}[_0x1eb3d4(0x1f9)]({intensity:_0x4d7048=0.8,accent:_0x3562a0=0x0,extraCrackle:_0x4cfb31=!0x1}={}){const _0x477c75=_0x1eb3d4;if(this[_0x477c75(0x187)][_0x477c75(0x1bb)]>=0x6)return;const _0x1633b5=0x12*this['_state'][_0x477c75(0x184)],_0x545cf4=this[_0x477c75(0x1c8)]['loudness'],_0x52a455=new _0x1c806b(0x32*(Math[_0x477c75(0x1d3)]()-0.5)+_0x1633b5,0x8*Math['random']()-0x3c,0x14*(Math[_0x477c75(0x1d3)]()-0.5)),_0x40089b=new _0x1c806b(0x5a*(Math[_0x477c75(0x1d3)]()-0.5)+0.4*_0x1633b5,0x46*Math['random']()-0xa+0xa*this[_0x477c75(0x1c8)][_0x477c75(0x1b7)],0x14*(Math[_0x477c75(0x1d3)]()-0.5));this['_clampExplosionTarget'](_0x40089b,this['_estimateExplosionRadius'](_0x545cf4));const _0x125057=new _0x1c806b(_0x52a455['x']+0x1e*(Math['random']()-0.5),_0x52a455['y']+0x23+0xa*Math[_0x477c75(0x1d3)](),_0x52a455['z']+0x1e*(Math[_0x477c75(0x1d3)]()-0.5)),_0x3a0937=new _0x168a8f([_0x52a455,_0x125057,_0x40089b]),_0x2ac72a=this[_0x477c75(0x1b3)];this[_0x477c75(0x187)][_0x477c75(0x1ef)]({'start':_0x52a455,'mid':_0x125057,'end':_0x40089b,'curve':_0x3a0937,'position':_0x52a455[_0x477c75(0x18e)](),'progress':0x0,'speed':(0.006+0.004*Math[_0x477c75(0x1d3)]())*(0x1+0.6*this[_0x477c75(0x1c8)][_0x477c75(0x1b7)]),'phase':_0x477c75(0x1fc),'color':_0x2ac72a,'accentColor':this[_0x477c75(0x194)],'burstScale':0x1+0.6*_0x4d7048+0.2*_0x3562a0,'launchLoudness':_0x545cf4,'crackleDelay':_0x4cfb31?0.2:0.35,'crackleSpawned':!0x1}),this[_0x477c75(0x1db)](_0x3a0937,_0x2ac72a);}[_0x1eb3d4(0x179)](_0x451400){const _0x477034=_0x1eb3d4;return 0xc+0x12*_0x451400+0x8*this[_0x477034(0x1c8)][_0x477034(0x1fe)];}[_0x1eb3d4(0x1f0)](_0x85ed10,_0x29a544){const _0x27c069=_0x1eb3d4;if(!this[_0x27c069(0x1ba)])return;const _0x25ce92=this[_0x27c069(0x1ba)][_0x27c069(0x1ab)]['z'],_0x1a43b9=Math[_0x27c069(0x1a5)](0x1,_0x25ce92-_0x85ed10['z']),_0x153213=this[_0x27c069(0x1ba)]['fov']*Math['PI']/0xb4,_0x103042=Math['tan'](0.5*_0x153213)*_0x1a43b9,_0x569847=_0x103042*(this[_0x27c069(0x1ba)]['aspect']||this[_0x27c069(0x197)]/Math[_0x27c069(0x1a5)](0x1,this[_0x27c069(0x1b6)])),_0x40fbab=Math[_0x27c069(0x1a5)](0x2,_0x569847-_0x29a544),_0x1e0969=Math[_0x27c069(0x1a5)](0x2,_0x103042-_0x29a544);_0x85ed10['x']=this['clamp'](_0x85ed10['x'],-_0x40fbab,_0x40fbab),_0x85ed10['y']=this[_0x27c069(0x1b9)](_0x85ed10['y'],-_0x1e0969,_0x1e0969);}[_0x1eb3d4(0x1da)](_0x51c2a3){const _0x13e444=_0x1eb3d4;if(0x0!==this[_0x13e444(0x187)][_0x13e444(0x1bb)])for(let _0x58eb0f=this[_0x13e444(0x187)][_0x13e444(0x1bb)]-0x1;_0x58eb0f>=0x0;_0x58eb0f-=0x1){const _0x5ce061=this[_0x13e444(0x187)][_0x58eb0f];'launch'===_0x5ce061['phase']?(_0x5ce061['progress']+=_0x5ce061[_0x13e444(0x192)]*_0x51c2a3*0x3c,_0x5ce061[_0x13e444(0x1cd)][_0x13e444(0x1fa)](Math[_0x13e444(0x1e3)](_0x5ce061[_0x13e444(0x181)],0x1),_0x5ce061[_0x13e444(0x1ab)]),this[_0x13e444(0x19a)](_0x5ce061['position'],_0x5ce061[_0x13e444(0x19d)]),_0x5ce061[_0x13e444(0x181)]>=0x1&&(this[_0x13e444(0x1bd)](_0x5ce061[_0x13e444(0x1ab)],_0x5ce061),_0x5ce061[_0x13e444(0x193)]=_0x13e444(0x18f),_0x5ce061['crackleDelay']=Math[_0x13e444(0x1a5)](0.12,_0x5ce061['crackleDelay']-0.08*this[_0x13e444(0x1c8)][_0x13e444(0x1df)]))):(_0x5ce061[_0x13e444(0x1eb)]-=_0x51c2a3,!_0x5ce061['crackleSpawned']&&_0x5ce061[_0x13e444(0x1eb)]<=0x0&&(this['_emitCrackle'](_0x5ce061[_0x13e444(0x177)],_0x5ce061),_0x5ce061[_0x13e444(0x1b1)]=!0x0),_0x5ce061[_0x13e444(0x1b1)]&&this[_0x13e444(0x187)]['splice'](_0x58eb0f,0x1));}}[_0x1eb3d4(0x19a)](_0x4fac05,_0x7cd90c){const _0x2ab327=_0x1eb3d4,_0x36ad5b=Math['floor'](0x4+0x3*this[_0x2ab327(0x1c8)][_0x2ab327(0x1b7)]+0x2*this[_0x2ab327(0x1c8)][_0x2ab327(0x1df)]);for(let _0x549f09=0x0;_0x549f09<_0x36ad5b;_0x549f09+=0x1){const _0x57bbb8=0.3*(Math[_0x2ab327(0x1d3)]()-0.5),_0x61d178=0.3*(Math[_0x2ab327(0x1d3)]()-0.5),_0x59afb5=0.3*(Math[_0x2ab327(0x1d3)]()-0.5);this['_spawnParticle']({'x':_0x4fac05['x'],'y':_0x4fac05['y'],'z':_0x4fac05['z'],'vx':_0x57bbb8,'vy':_0x61d178,'vz':_0x59afb5,'speed':0x1,'color':_0x7cd90c,'size':1.2,'life':0x1+Math[_0x2ab327(0x1d3)]()+0.4*this[_0x2ab327(0x1c8)][_0x2ab327(0x1dc)],'type':u});}}[_0x1eb3d4(0x1db)](_0x22f0e3,_0x4990a0){const _0x414105=_0x1eb3d4;for(let _0x22c17c=0x0;_0x22c17c<0x5;_0x22c17c+=0x1){const _0x539120=_0x22c17c/Math[_0x414105(0x1a5)](0x1,0x4)*0.08;_0x22f0e3[_0x414105(0x1fa)](_0x539120,this[_0x414105(0x18c)]),this['_emitTrail'](this[_0x414105(0x18c)],_0x4990a0);}}[_0x1eb3d4(0x1bd)](_0x3fd609,_0x3231d1){const _0x52e971=_0x1eb3d4,_0x2de5ef=0x1+1.1*_0x3231d1[_0x52e971(0x1de)],_0x2f3ff5=0xc8+Math['floor'](0x1e*_0x3231d1['burstScale']),_0x3be0e9=Math['min'](0x1a4,Math[_0x52e971(0x1e7)](_0x2f3ff5*_0x2de5ef+0x50*this[_0x52e971(0x1c8)][_0x52e971(0x1fe)]));for(let _0x1990fb=0x0;_0x1990fb<_0x3be0e9;_0x1990fb+=0x1){const _0x5d0689=0x1+0.9*_0x3231d1['launchLoudness'],_0xf795d8=(0.7*Math['random']()+0.2)*_0x5d0689*(0x1+0.6*this[_0x52e971(0x1c8)]['bass']),_0x3e452a=this[_0x52e971(0x1c5)](this[_0x52e971(0x174)]),_0x3cf4ef=0.8+1.1*_0x3231d1['launchLoudness'];this[_0x52e971(0x18d)]({'x':_0x3fd609['x'],'y':_0x3fd609['y'],'z':_0x3fd609['z'],'vx':_0x3e452a['x'],'vy':_0x3e452a['y'],'vz':_0x3e452a['z'],'speed':_0xf795d8,'color':_0x3231d1[_0x52e971(0x17b)],'size':1.5*_0x3cf4ef,'life':1.5+Math[_0x52e971(0x1d3)]()+0.4*_0x3231d1[_0x52e971(0x1de)],'type':g});}}[_0x1eb3d4(0x1ad)](_0x538814,_0x116f62){const _0x2c01d4=_0x1eb3d4,_0x126d16=Math['floor'](0x78+0x46*this[_0x2c01d4(0x1c8)][_0x2c01d4(0x1df)]+0x14*_0x116f62[_0x2c01d4(0x1a7)]);for(let _0x4ce25b=0x0;_0x4ce25b<_0x126d16;_0x4ce25b+=0x1){const _0x14c55f=1.8*Math[_0x2c01d4(0x1d3)]()*(0x1+0.5*this[_0x2c01d4(0x1c8)][_0x2c01d4(0x200)]),_0x20def9=this['_randomUnitVector'](this[_0x2c01d4(0x174)]);this['_spawnParticle']({'x':_0x538814['x'],'y':_0x538814['y'],'z':_0x538814['z'],'vx':_0x20def9['x'],'vy':_0x20def9['y'],'vz':_0x20def9['z'],'speed':_0x14c55f,'color':this[_0x2c01d4(0x1c4)],'size':0.8,'life':0.4+0.4*Math[_0x2c01d4(0x1d3)](),'type':w});}}[_0x1eb3d4(0x18d)]({x:_0x4a3733,y:_0x4aab13,z:_0x3e2c71,vx:_0x4d3abb,vy:_0x316062,vz:_0x34f70c,speed:_0x5a80e1,color:_0x271e2b,size:_0x1b6f34,life:_0x352c4a,type:_0x4d82f6}){const _0x2948f7=_0x1eb3d4,_0x17eeb3=this['_particles'][_0x2948f7(0x1e8)];this[_0x2948f7(0x1d4)](_0x17eeb3+0x1),this[_0x2948f7(0x19c)][_0x2948f7(0x1e8)]+=0x1,this[_0x2948f7(0x19c)]['posX'][_0x17eeb3]=_0x4a3733,this[_0x2948f7(0x19c)][_0x2948f7(0x1ac)][_0x17eeb3]=_0x4aab13,this[_0x2948f7(0x19c)]['posZ'][_0x17eeb3]=_0x3e2c71,this[_0x2948f7(0x19c)][_0x2948f7(0x19f)][_0x17eeb3]=_0x4d3abb*_0x5a80e1,this['_particles'][_0x2948f7(0x1cb)][_0x17eeb3]=_0x316062*_0x5a80e1,this['_particles'][_0x2948f7(0x1a2)][_0x17eeb3]=_0x34f70c*_0x5a80e1,this[_0x2948f7(0x19c)][_0x2948f7(0x188)][_0x17eeb3]=_0x271e2b['r'],this[_0x2948f7(0x19c)][_0x2948f7(0x189)][_0x17eeb3]=_0x271e2b['g'],this[_0x2948f7(0x19c)][_0x2948f7(0x1bf)][_0x17eeb3]=_0x271e2b['b'],this[_0x2948f7(0x19c)][_0x2948f7(0x1e2)][_0x17eeb3]=_0x1b6f34,this[_0x2948f7(0x19c)][_0x2948f7(0x17f)][_0x17eeb3]=_0x352c4a,this[_0x2948f7(0x19c)][_0x2948f7(0x1a4)][_0x17eeb3]=_0x352c4a,this[_0x2948f7(0x19c)]['type'][_0x17eeb3]=_0x4d82f6;}[_0x1eb3d4(0x1d4)](_0x50601d){const _0x34c199=_0x1eb3d4;if(_0x50601d<=this[_0x34c199(0x1be)])return;let _0x2200a0=this['_particleCapacity'];for(;_0x2200a0<_0x50601d;)_0x2200a0=Math['ceil'](1.5*_0x2200a0);const _0x5682e7=(_0x2bef87,_0x21f7ca)=>{const _0x1480c6=_0x34c199,_0x4d3ead=new Float32Array(_0x21f7ca);return _0x4d3ead[_0x1480c6(0x1a9)](_0x2bef87),_0x4d3ead;};this[_0x34c199(0x1be)]=_0x2200a0,this['_positions']=_0x5682e7(this[_0x34c199(0x185)],0x3*_0x2200a0),this[_0x34c199(0x178)]=_0x5682e7(this[_0x34c199(0x178)],0x3*_0x2200a0),this[_0x34c199(0x204)]=_0x5682e7(this[_0x34c199(0x204)],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x173)]=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x173)],_0x2200a0),this['_particles']['posY']=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x1ac)],_0x2200a0),this['_particles']['posZ']=_0x5682e7(this['_particles'][_0x34c199(0x1b8)],_0x2200a0),this['_particles'][_0x34c199(0x19f)]=_0x5682e7(this['_particles']['velX'],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x1cb)]=_0x5682e7(this['_particles'][_0x34c199(0x1cb)],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x1a2)]=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x1a2)],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x188)]=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x188)],_0x2200a0),this['_particles'][_0x34c199(0x189)]=_0x5682e7(this['_particles'][_0x34c199(0x189)],_0x2200a0),this[_0x34c199(0x19c)]['colorB']=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x1bf)],_0x2200a0),this['_particles']['size']=_0x5682e7(this[_0x34c199(0x19c)]['size'],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x17f)]=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x17f)],_0x2200a0),this[_0x34c199(0x19c)]['maxLife']=_0x5682e7(this[_0x34c199(0x19c)][_0x34c199(0x1a4)],_0x2200a0),this[_0x34c199(0x19c)][_0x34c199(0x17d)]=((_0x2e8f5f,_0x2d594d)=>{const _0x1cb725=_0x34c199,_0x422009=new Uint8Array(_0x2d594d);return _0x422009[_0x1cb725(0x1a9)](_0x2e8f5f),_0x422009;})(this[_0x34c199(0x19c)][_0x34c199(0x17d)],_0x2200a0),this[_0x34c199(0x1f2)]&&(this[_0x34c199(0x1f2)][_0x34c199(0x1a1)](_0x34c199(0x1ab),new _0x4ad7f8(this[_0x34c199(0x185)],0x3)['setUsage'](_0x5c0ca5)),this[_0x34c199(0x1f2)][_0x34c199(0x1a1)](_0x34c199(0x198),new _0x4ad7f8(this[_0x34c199(0x178)],0x3)['setUsage'](_0x5c0ca5)),this['_geometry'][_0x34c199(0x1a1)](_0x34c199(0x1e2),new _0x4ad7f8(this['_sizes'],0x1)[_0x34c199(0x1d1)](_0x5c0ca5)),this[_0x34c199(0x1ee)]={'position':this['_geometry'][_0x34c199(0x1ec)](_0x34c199(0x1ab)),'color':this['_geometry'][_0x34c199(0x1ec)](_0x34c199(0x198)),'size':this[_0x34c199(0x1f2)][_0x34c199(0x1ec)](_0x34c199(0x1e2))});}['_updateParticles'](_0x5ab9af){const _0x641668=_0x1eb3d4,_0x5268f8=this[_0x641668(0x19c)];if(0x0===_0x5268f8[_0x641668(0x1e8)])return;const _0x3f37fe=0x3c*_0x5ab9af,_0x511788=this['_gravity']['y']*_0x3f37fe*(0.9+0.3*this[_0x641668(0x1c8)][_0x641668(0x17e)]),_0x5e79d3=0.4+0.9*this[_0x641668(0x1c8)]['flux'],_0x3e167e=0.75+0.6*this[_0x641668(0x1c8)][_0x641668(0x1df)],_0xebddee=0x6*this[_0x641668(0x1c8)][_0x641668(0x184)];let _0x100a78=0x0;for(let _0x187bef=0x0;_0x187bef<_0x5268f8['count'];_0x187bef+=0x1){let _0x435eee=_0x5268f8[_0x641668(0x17f)][_0x187bef]-0.012*_0x3f37fe;if(_0x435eee<=0x0)continue;const _0x2f509f=_0x5268f8[_0x641668(0x17d)][_0x187bef],_0x1ad224=_0x2f509f===u?0.92:_0x2f509f===g?0.9:0.88,_0x837af2=Math[_0x641668(0x1bc)](_0x1ad224,_0x3f37fe);let _0x52a6ab=_0x5268f8[_0x641668(0x19f)][_0x187bef],_0x49104a=_0x5268f8['velY'][_0x187bef],_0x5ce954=_0x5268f8['velZ'][_0x187bef];_0x49104a+=_0x511788,_0x52a6ab+=(Math['random']()-0.5)*_0x5e79d3*0.05*_0x3f37fe,_0x5ce954+=(Math[_0x641668(0x1d3)]()-0.5)*_0x5e79d3*0.05*_0x3f37fe,_0x52a6ab*=_0x837af2,_0x49104a*=_0x837af2,_0x5ce954*=_0x837af2;let _0x5c1cc0=_0x5268f8['posX'][_0x187bef]+_0x52a6ab*_0x3f37fe,_0x44bd34=_0x5268f8['posY'][_0x187bef]+_0x49104a*_0x3f37fe,_0x1d2ac9=_0x5268f8[_0x641668(0x1b8)][_0x187bef]+_0x5ce954*_0x3f37fe;const _0x47d08e=this[_0x641668(0x1b9)](_0x435eee/_0x5268f8[_0x641668(0x1a4)][_0x187bef],0x0,0x1),_0x4800e7=_0x5268f8[_0x641668(0x1e2)][_0x187bef]*_0x3e167e*(0.85+0.3*this[_0x641668(0x1c8)][_0x641668(0x175)]);_0x5268f8[_0x641668(0x17f)][_0x100a78]=_0x435eee,_0x5268f8[_0x641668(0x1a4)][_0x100a78]=_0x5268f8[_0x641668(0x1a4)][_0x187bef],_0x5268f8['type'][_0x100a78]=_0x2f509f,_0x5268f8[_0x641668(0x173)][_0x100a78]=_0x5c1cc0,_0x5268f8[_0x641668(0x1ac)][_0x100a78]=_0x44bd34,_0x5268f8[_0x641668(0x1b8)][_0x100a78]=_0x1d2ac9,_0x5268f8[_0x641668(0x19f)][_0x100a78]=_0x52a6ab,_0x5268f8['velY'][_0x100a78]=_0x49104a,_0x5268f8[_0x641668(0x1a2)][_0x100a78]=_0x5ce954,_0x5268f8[_0x641668(0x188)][_0x100a78]=_0x5268f8[_0x641668(0x188)][_0x187bef],_0x5268f8[_0x641668(0x189)][_0x100a78]=_0x5268f8[_0x641668(0x189)][_0x187bef],_0x5268f8[_0x641668(0x1bf)][_0x100a78]=_0x5268f8[_0x641668(0x1bf)][_0x187bef],_0x5268f8[_0x641668(0x1e2)][_0x100a78]=_0x5268f8[_0x641668(0x1e2)][_0x187bef];const _0x61ad64=0x3*_0x100a78;this['_positions'][_0x61ad64]=_0x5c1cc0+_0xebddee*(0.25+0.15*_0x2f509f),this[_0x641668(0x185)][_0x61ad64+0x1]=_0x44bd34,this[_0x641668(0x185)][_0x61ad64+0x2]=_0x1d2ac9,this[_0x641668(0x178)][_0x61ad64]=_0x5268f8[_0x641668(0x188)][_0x187bef]*_0x47d08e,this['_colors'][_0x61ad64+0x1]=_0x5268f8[_0x641668(0x189)][_0x187bef]*_0x47d08e,this[_0x641668(0x178)][_0x61ad64+0x2]=_0x5268f8[_0x641668(0x1bf)][_0x187bef]*_0x47d08e,this[_0x641668(0x204)][_0x100a78]=_0x4800e7*_0x47d08e*0xa,_0x100a78+=0x1;}_0x5268f8[_0x641668(0x1e8)]=_0x100a78;}['_randomUnitVector'](_0x165ee7){const _0x2ae055=_0x1eb3d4;return _0x165ee7[_0x2ae055(0x1a9)](0x2*Math[_0x2ae055(0x1d3)]()-0x1,0x2*Math[_0x2ae055(0x1d3)]()-0x1,0x2*Math[_0x2ae055(0x1d3)]()-0x1)[_0x2ae055(0x1f1)](),_0x165ee7;}},{'meta':y});
