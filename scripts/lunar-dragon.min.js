function _0x33bc(){const _0xc665d8=['_randomUnitVector','reset','flux','accent','_spawnFirework','TEMPO','crackleDelay','1103859LNfILn','sin','loudnessIntegratedDb','_redColor','TECH','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20vec3\x20customColor;\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vColor\x20=\x20customColor;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(300.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','_points','progress','_estimateExplosionRadius','clamp','set','crackleSpawned','bass','TRIPPY','lerp','audioTriggers','657050IHryTu','dpr','_goldColor','lunar-dragon','frustumCulled','meta','dropStart','512424NIgcfL','height','_previewMode','length','stereo','isBeat','loudness','launch','_attributes','_camera','DYNAMIC','drop','brillianceEnergy','splice','posX','_tempVec','#030106','reverb','Lunar\x20Dragon\x20Fireworks','posY','explode','autoClear','_spawnParticle','250934UfapfI','spectralFlux','trebleEnergy','random','normalize','_clampExplosionTarget','posZ','high-performance','_crackleColor','subBassEnergy','_state','position','_setupThree','life','_particles','_geometry','setDrawRange','44456eGeQTo','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec3\x20vColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20float\x20strength\x20=\x200.05\x20/\x20d;\x0a\x20\x20strength\x20=\x20pow(strength,\x202.0);\x0a\x20\x20float\x20alpha\x20=\x20smoothstep(0.5,\x200.1,\x20d);\x0a\x20\x20vec3\x20finalColor\x20=\x20mix(vColor,\x20vec3(1.0),\x20pow(strength,\x204.0)\x20*\x200.5);\x0a\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x20alpha);\x0a}\x0a','ENERGY','energy','_emitBurst','MID','_beatCooldown','floor','_trailVec','max','attackRelease','CINEMATIC','70kFGUDy','accentColor','_spawnTimer','canvas','rms','reverbTail','373292hnnKiQ','type','_scene','destroy','color','setUsage','speed','stereoBalance','setSize','maxLife','colorB','size','velZ','_updateParticles','count','init','setAttribute','phase','width','_emitCrackle','_colors','end','energyChangeIntensity','min','treble','_time','colorR','updateProjectionMatrix','resetState','customColor','_seedLaunchTrail','velY','_particleCapacity','63VsrgqM','getAttribute','_positions','dispose','VIBE','colorG','_sizes','_ensureParticleCapacity','needsUpdate','tan','onRender','_updateFireworks','_renderer','curve','447816jHpnkS','_fireworks','glow','18wfzQYi','_material','aspect','onResize','dropPulse','beat','setHSL','melody','beatPulse','launchLoudness','velX','burstScale','loudnessShortDb'];_0x33bc=function(){return _0xc665d8;};return _0x33bc();}const _0x3e0143=_0x3b65;(function(_0xab84d0,_0xee9676){const _0x5cf588=_0x3b65,_0x4b392b=_0xab84d0();while(!![]){try{const _0x51238d=-parseInt(_0x5cf588(0x183))/0x1+parseInt(_0x5cf588(0x203))/0x2+parseInt(_0x5cf588(0x1d8))/0x3*(-parseInt(_0x5cf588(0x1a6))/0x4)+-parseInt(_0x5cf588(0x1fc))/0x5+parseInt(_0x5cf588(0x1d5))/0x6+-parseInt(_0x5cf588(0x1c7))/0x7*(-parseInt(_0x5cf588(0x194))/0x8)+parseInt(_0x5cf588(0x1ec))/0x9*(parseInt(_0x5cf588(0x1a0))/0xa);if(_0x51238d===_0xee9676)break;else _0x4b392b['push'](_0x4b392b['shift']());}catch(_0x4d6934){_0x4b392b['push'](_0x4b392b['shift']());}}}(_0x33bc,0x488b0));function _0x3b65(_0x50d119,_0x33a0f5){const _0x33bc30=_0x33bc();return _0x3b65=function(_0x3b6598,_0x54da25){_0x3b6598=_0x3b6598-0x175;let _0x110f05=_0x33bc30[_0x3b6598];return _0x110f05;},_0x3b65(_0x50d119,_0x33a0f5);}import{b as _0x2b2b95,C as _0x240458,W as _0x56eb2f,S as _0x34a809,e as _0xb87551,p as _0x5d332a,q as _0x3883a7,r as _0x1a8d52,a as _0xcbb7cb,n as _0x2fac77,s as _0x377473,t as _0x3eafec}from'./three.module.min.js';import{V as _0x5d412c,r as _0x1df375,W as _0x12ce69}from'./main.min.js';const y={'savedAt':0x19c6e6c9673,'name':_0x3e0143(0x17e),'createdBy':'vvavy','description':'A\x20lunar\x20dragon\x20ascends\x20in\x20ember\x20trails\x20and\x20radiant\x20bursts,\x20with\x20audio-guided\x20firework\x20arcs\x20and\x20shimmering\x20crackle\x20glow.','tags':[_0x5d412c[_0x3e0143(0x1f0)]['HD'],_0x5d412c[_0x3e0143(0x1cb)][_0x3e0143(0x19f)],_0x5d412c[_0x3e0143(0x1cb)][_0x3e0143(0x1f9)],_0x5d412c[_0x3e0143(0x196)][_0x3e0143(0x199)],_0x5d412c[_0x3e0143(0x1ea)][_0x3e0143(0x176)]]},u=0x0,g=0x1,w=0x2;_0x1df375(_0x3e0143(0x1ff),class extends _0x12ce69{static [_0x3e0143(0x201)]=y;constructor(_0x536c31){const _0x58cfbf=_0x3e0143;super({..._0x536c31,'config':{'backgroundColor':_0x58cfbf(0x17c),'autoClear':!0x0,..._0x536c31?.['config']??{}}}),this[_0x58cfbf(0x1d3)]=null,this[_0x58cfbf(0x1a8)]=null,this[_0x58cfbf(0x175)]=null,this['_geometry']=null,this[_0x58cfbf(0x1d9)]=null,this[_0x58cfbf(0x1f2)]=null,this[_0x58cfbf(0x20b)]=null,this[_0x58cfbf(0x1c6)]=0xc80,this[_0x58cfbf(0x1c9)]=new Float32Array(0x3*this[_0x58cfbf(0x1c6)]),this[_0x58cfbf(0x1ba)]=new Float32Array(0x3*this[_0x58cfbf(0x1c6)]),this[_0x58cfbf(0x1cd)]=new Float32Array(this[_0x58cfbf(0x1c6)]),this[_0x58cfbf(0x191)]={'count':0x0,'posX':new Float32Array(this[_0x58cfbf(0x1c6)]),'posY':new Float32Array(this[_0x58cfbf(0x1c6)]),'posZ':new Float32Array(this[_0x58cfbf(0x1c6)]),'velX':new Float32Array(this['_particleCapacity']),'velY':new Float32Array(this['_particleCapacity']),'velZ':new Float32Array(this[_0x58cfbf(0x1c6)]),'colorR':new Float32Array(this['_particleCapacity']),'colorG':new Float32Array(this[_0x58cfbf(0x1c6)]),'colorB':new Float32Array(this[_0x58cfbf(0x1c6)]),'size':new Float32Array(this[_0x58cfbf(0x1c6)]),'life':new Float32Array(this['_particleCapacity']),'maxLife':new Float32Array(this[_0x58cfbf(0x1c6)]),'type':new Uint8Array(this[_0x58cfbf(0x1c6)])},this['_fireworks']=[],this['_time']=0x0,this[_0x58cfbf(0x1a2)]=0x0,this[_0x58cfbf(0x19a)]=0x0,this['_state']={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2},this[_0x58cfbf(0x17b)]=new _0x2b2b95(),this[_0x58cfbf(0x19c)]=new _0x2b2b95(),this['_gravity']=new _0x2b2b95(0x0,-0.004,0x0),this[_0x58cfbf(0x18b)]=new _0x240458(0xffffff),this[_0x58cfbf(0x1fe)]=new _0x240458()[_0x58cfbf(0x1de)](0.12,0x1,0.5),this[_0x58cfbf(0x1ef)]=new _0x240458()['setHSL'](0x0,0x1,0.5);}[_0x3e0143(0x1e6)](){const _0x4a23b9=_0x3e0143;this['_fireworks']=[],this[_0x4a23b9(0x1bf)]=0x0,this[_0x4a23b9(0x1a2)]=0x0,this['_beatCooldown']=0x0,this['_particles']['count']=0x0,this[_0x4a23b9(0x18d)]={'energy':0x0,'bass':0x0,'treble':0x0,'flux':0x0,'loudness':0x0,'stereo':0x0,'reverb':0x0,'beat':0x0,'drop':0x0,'accent':0x0,'melody':0x0,'glow':0.2};}[_0x3e0143(0x1b5)](){const _0x4744a9=_0x3e0143;this['gl']&&(this['flushTrackedGLResources']?.(),this[_0x4744a9(0x1e6)](),this[_0x4744a9(0x18f)]());}[_0x3e0143(0x1db)](){const _0x44e249=_0x3e0143;super['onResize']?.(),this[_0x44e249(0x1d3)]&&(this[_0x44e249(0x1d3)]['setPixelRatio'](Math[_0x44e249(0x1bd)](this['dpr']??0x1,0x2)),this[_0x44e249(0x1d3)][_0x44e249(0x1ae)](this[_0x44e249(0x1b8)],this[_0x44e249(0x204)],!0x1)),this[_0x44e249(0x175)]&&(this[_0x44e249(0x175)][_0x44e249(0x1da)]=this['width']/Math[_0x44e249(0x19d)](0x1,this[_0x44e249(0x204)]),this[_0x44e249(0x175)][_0x44e249(0x1c1)]());}['_setupThree'](){const _0x1ac7b3=_0x3e0143;this['_renderer']=new _0x56eb2f({'canvas':this[_0x1ac7b3(0x1a3)],'context':this['gl'],'antialias':!0x0,'alpha':!0x0,'powerPreference':_0x1ac7b3(0x18a)}),this[_0x1ac7b3(0x1d3)][_0x1ac7b3(0x181)]=!0x0,this[_0x1ac7b3(0x1d3)]['setPixelRatio'](Math[_0x1ac7b3(0x1bd)](this[_0x1ac7b3(0x1fd)]??0x1,0x2)),this[_0x1ac7b3(0x1d3)]['setSize'](this['width'],this[_0x1ac7b3(0x204)],!0x1),this[_0x1ac7b3(0x1d3)]['setClearColor'](new _0x240458(0x30106),0x1),this['_scene']=new _0x34a809(),this[_0x1ac7b3(0x175)]=new _0xb87551(0x41,this[_0x1ac7b3(0x1b8)]/Math['max'](0x1,this['height']),0.1,0x3e8),this['_camera'][_0x1ac7b3(0x18e)]['z']=0x64,this['_geometry']=new _0x5d332a(),this['_geometry'][_0x1ac7b3(0x1b6)](_0x1ac7b3(0x18e),new _0x3883a7(this[_0x1ac7b3(0x1c9)],0x3)[_0x1ac7b3(0x1ab)](_0x1a8d52)),this[_0x1ac7b3(0x192)][_0x1ac7b3(0x1b6)](_0x1ac7b3(0x1c3),new _0x3883a7(this[_0x1ac7b3(0x1ba)],0x3)[_0x1ac7b3(0x1ab)](_0x1a8d52)),this[_0x1ac7b3(0x192)][_0x1ac7b3(0x1b6)](_0x1ac7b3(0x1b1),new _0x3883a7(this[_0x1ac7b3(0x1cd)],0x1)[_0x1ac7b3(0x1ab)](_0x1a8d52)),this[_0x1ac7b3(0x192)][_0x1ac7b3(0x193)](0x0,0x0),this[_0x1ac7b3(0x1d9)]=new _0xcbb7cb({'vertexShader':_0x1ac7b3(0x1f1),'fragmentShader':_0x1ac7b3(0x195),'transparent':!0x0,'blending':_0x2fac77,'depthWrite':!0x1}),this[_0x1ac7b3(0x1f2)]=new _0x377473(this['_geometry'],this[_0x1ac7b3(0x1d9)]),this[_0x1ac7b3(0x1f2)][_0x1ac7b3(0x200)]=!0x1,this['_scene']['add'](this[_0x1ac7b3(0x1f2)]),this[_0x1ac7b3(0x20b)]={'position':this[_0x1ac7b3(0x192)][_0x1ac7b3(0x1c8)](_0x1ac7b3(0x18e)),'color':this['_geometry'][_0x1ac7b3(0x1c8)](_0x1ac7b3(0x1c3)),'size':this[_0x1ac7b3(0x192)][_0x1ac7b3(0x1c8)](_0x1ac7b3(0x1b1))};}['onUpdate'](_0x56ae28){const _0x3b7ac1=_0x3e0143;if(!_0x56ae28)return;const _0x4781d1=this[_0x3b7ac1(0x1f5)](_0x56ae28['dt']??0x1/0x3c,0x1/0xf0,0.2);this['_time']+=_0x4781d1;const _0xc6a2de=_0x56ae28['cues']??this[_0x3b7ac1(0x1fb)]??{},_0x4530e3=this[_0x3b7ac1(0x1f5)](_0x56ae28['overallEnergy']??_0x56ae28[_0x3b7ac1(0x197)]??_0x56ae28[_0x3b7ac1(0x1a4)]??0x0,0x0,1.4),_0x5478f8=this[_0x3b7ac1(0x1f5)](0.6*(_0x56ae28[_0x3b7ac1(0x18c)]??0x0)+0.8*(_0x56ae28['bassEnergy']??0x0),0x0,1.4),_0x180c6c=this[_0x3b7ac1(0x1f5)](0.7*(_0x56ae28[_0x3b7ac1(0x185)]??0x0)+0.6*(_0x56ae28[_0x3b7ac1(0x178)]??0x0),0x0,1.4),_0x5e5f6a=this[_0x3b7ac1(0x1f5)](1.1*(_0x56ae28[_0x3b7ac1(0x184)]??0x0)+0.5*(_0x56ae28[_0x3b7ac1(0x1bc)]??0x0),0x0,1.4),_0x578a9b=this['dbTo01'](_0x56ae28[_0x3b7ac1(0x1e4)]??_0x56ae28[_0x3b7ac1(0x1ee)]??-0x30,-0x3c,0x0),_0xb9eb8c=this[_0x3b7ac1(0x1f5)](_0x56ae28[_0x3b7ac1(0x1ad)]??0x0,-0x1,0x1),_0x1cfed6=this[_0x3b7ac1(0x1f5)](_0x56ae28[_0x3b7ac1(0x1a5)]??0x0,0x0,0x1),_0x3fc4c6=this[_0x3b7ac1(0x1f5)](_0x56ae28[_0x3b7ac1(0x1e0)]??(_0x56ae28[_0x3b7ac1(0x208)]?0x1:0x0),0x0,1.2),_0x5537cf=this[_0x3b7ac1(0x1f5)](_0xc6a2de['dropIntensity']??_0x56ae28['dropIntensity']??_0x56ae28[_0x3b7ac1(0x1dc)]??0x0,0x0,1.4),_0x220dfe=_0xc6a2de['accentPulse']?0x1:0x0,_0xbea06a=_0xc6a2de['melodyChange']?0x1:0x0;this['_state'][_0x3b7ac1(0x197)]=this['attackRelease'](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x197)],_0x4530e3,_0x4781d1,0.08,0.4),this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1f8)]=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)]['bass'],_0x5478f8,_0x4781d1,0.09,0.4),this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1be)]=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)]['treble'],_0x180c6c,_0x4781d1,0.08,0.45),this['_state'][_0x3b7ac1(0x1e7)]=this['attackRelease'](this[_0x3b7ac1(0x18d)]['flux'],_0x5e5f6a,_0x4781d1,0.1,0.5),this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x209)]=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x209)],_0x578a9b,_0x4781d1,0.08,0.35),this['_state'][_0x3b7ac1(0x207)]=this['smooth'](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x207)],_0xb9eb8c,0.1),this[_0x3b7ac1(0x18d)]['reverb']=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x17d)],_0x1cfed6,_0x4781d1,0.1,0.55),this['_state'][_0x3b7ac1(0x1dd)]=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1dd)],_0x3fc4c6,_0x4781d1,0.04,0.3),this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x177)]=this[_0x3b7ac1(0x19e)](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x177)],_0x5537cf,_0x4781d1,0.04,0.6),this[_0x3b7ac1(0x18d)]['accent']=this['attackRelease'](this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1e8)],_0x220dfe,_0x4781d1,0.04,0.3),this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1df)]=this['attackRelease'](this['_state'][_0x3b7ac1(0x1df)],_0xbea06a,_0x4781d1,0.08,0.6);const _0x3dcff8=this['clamp'](0.2+0.5*this['_state'][_0x3b7ac1(0x1be)]+0.35*this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x197)]+0.4*this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x177)],0.15,1.2);this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x1d7)]=this[_0x3b7ac1(0x19e)](this['_state']['glow'],_0x3dcff8,_0x4781d1,0.08,0.5),this[_0x3b7ac1(0x19a)]=Math[_0x3b7ac1(0x19d)](0x0,this[_0x3b7ac1(0x19a)]-_0x4781d1),this[_0x3b7ac1(0x1a2)]=Math[_0x3b7ac1(0x19d)](0x0,this[_0x3b7ac1(0x1a2)]-_0x4781d1);const _0x3a578a=this[_0x3b7ac1(0x18d)]['beat']>0.55||this['_state'][_0x3b7ac1(0x1e8)]>0.4,_0x15e7c5=Boolean(_0xc6a2de[_0x3b7ac1(0x202)])||this[_0x3b7ac1(0x18d)]['drop']>0.8,_0x54363d=this[_0x3b7ac1(0x205)]&&!_0x15e7c5&&!_0x3a578a&&this[_0x3b7ac1(0x18d)]['energy']<0.22;if(_0x15e7c5&&this[_0x3b7ac1(0x1a2)]<=0.02)this[_0x3b7ac1(0x1e9)]({'intensity':1.4,'accent':0x1,'extraCrackle':!0x0}),this[_0x3b7ac1(0x1a2)]=0.55,this[_0x3b7ac1(0x19a)]=0.4;else{if(_0x3a578a&&this['_beatCooldown']<=0x0)this[_0x3b7ac1(0x1e9)]({'intensity':0.8+0.6*this['_state'][_0x3b7ac1(0x197)],'accent':this['_state'][_0x3b7ac1(0x1e8)]}),this[_0x3b7ac1(0x1a2)]=0.4,this['_beatCooldown']=0.35;else{if(this[_0x3b7ac1(0x1a2)]<=0x0&&(this[_0x3b7ac1(0x18d)]['energy']>0.2||_0x54363d)){const _0x191193=_0x54363d?this[_0x3b7ac1(0x1f5)](0.3+0.08*Math[_0x3b7ac1(0x1ed)](1.1*this[_0x3b7ac1(0x1bf)]),0.2,0.45):this['_state'][_0x3b7ac1(0x197)],_0x17948f=_0x54363d?this[_0x3b7ac1(0x1fa)](1.05,0.7,_0x191193):this[_0x3b7ac1(0x1fa)](1.4,0.6,this[_0x3b7ac1(0x18d)][_0x3b7ac1(0x197)]);this[_0x3b7ac1(0x1e9)]({'intensity':0.55+0.5*_0x191193,'accent':_0x54363d?0.25:0x0}),this[_0x3b7ac1(0x1a2)]=_0x17948f;}}}this['_updateFireworks'](_0x4781d1),this[_0x3b7ac1(0x1b3)](_0x4781d1);}[_0x3e0143(0x1d1)](){const _0x44a100=_0x3e0143;if(!(this[_0x44a100(0x1d3)]&&this['_scene']&&this[_0x44a100(0x175)]&&this[_0x44a100(0x192)]&&this[_0x44a100(0x20b)]))return;const _0x297c2a=this['_particles'][_0x44a100(0x1b4)];this[_0x44a100(0x192)]['setDrawRange'](0x0,_0x297c2a),_0x297c2a>0x0&&(this[_0x44a100(0x20b)]['position'][_0x44a100(0x1cf)]=!0x0,this['_attributes'][_0x44a100(0x1aa)][_0x44a100(0x1cf)]=!0x0,this['_attributes'][_0x44a100(0x1b1)][_0x44a100(0x1cf)]=!0x0),this[_0x44a100(0x1d3)][_0x44a100(0x1c2)](),this[_0x44a100(0x1d3)]['render'](this[_0x44a100(0x1a8)],this['_camera']);}[_0x3e0143(0x1a9)](){const _0x35e218=_0x3e0143;this['_renderer']&&this[_0x35e218(0x1d3)][_0x35e218(0x1ca)](),this[_0x35e218(0x1d9)]&&this['_material'][_0x35e218(0x1ca)](),this[_0x35e218(0x192)]&&this['_geometry'][_0x35e218(0x1ca)](),super[_0x35e218(0x1a9)]();}['_spawnFirework']({intensity:_0xe04116=0.8,accent:_0x370883=0x0,extraCrackle:_0x406e97=!0x1}={}){const _0x22c7d1=_0x3e0143;if(this['_fireworks'][_0x22c7d1(0x206)]>=0x6)return;const _0x3d08f9=0x12*this['_state'][_0x22c7d1(0x207)],_0x508fcb=this[_0x22c7d1(0x18d)][_0x22c7d1(0x209)],_0x3be464=new _0x2b2b95(0x32*(Math['random']()-0.5)+_0x3d08f9,0x8*Math[_0x22c7d1(0x186)]()-0x3c,0x14*(Math['random']()-0.5)),_0x216529=new _0x2b2b95(0x5a*(Math[_0x22c7d1(0x186)]()-0.5)+0.4*_0x3d08f9,0x46*Math['random']()-0xa+0xa*this[_0x22c7d1(0x18d)][_0x22c7d1(0x197)],0x14*(Math[_0x22c7d1(0x186)]()-0.5));this[_0x22c7d1(0x188)](_0x216529,this['_estimateExplosionRadius'](_0x508fcb));const _0x36a2ec=new _0x2b2b95(_0x3be464['x']+0x1e*(Math[_0x22c7d1(0x186)]()-0.5),_0x3be464['y']+0x23+0xa*Math[_0x22c7d1(0x186)](),_0x3be464['z']+0x1e*(Math['random']()-0.5)),_0x3cbccc=new _0x3eafec([_0x3be464,_0x36a2ec,_0x216529]),_0x3d445c=this['_goldColor'];this['_fireworks']['push']({'start':_0x3be464,'mid':_0x36a2ec,'end':_0x216529,'curve':_0x3cbccc,'position':_0x3be464['clone'](),'progress':0x0,'speed':(0.006+0.004*Math['random']())*(0x1+0.6*this[_0x22c7d1(0x18d)][_0x22c7d1(0x197)]),'phase':_0x22c7d1(0x20a),'color':_0x3d445c,'accentColor':this[_0x22c7d1(0x1ef)],'burstScale':0x1+0.6*_0xe04116+0.2*_0x370883,'launchLoudness':_0x508fcb,'crackleDelay':_0x406e97?0.2:0.35,'crackleSpawned':!0x1}),this[_0x22c7d1(0x1c4)](_0x3cbccc,_0x3d445c);}[_0x3e0143(0x1f4)](_0x36ccfc){const _0x58279a=_0x3e0143;return 0xc+0x12*_0x36ccfc+0x8*this[_0x58279a(0x18d)][_0x58279a(0x177)];}[_0x3e0143(0x188)](_0x149d1d,_0x4db8f6){const _0x5bd64f=_0x3e0143;if(!this[_0x5bd64f(0x175)])return;const _0x42b9a4=this['_camera'][_0x5bd64f(0x18e)]['z'],_0x3ae213=Math['max'](0x1,_0x42b9a4-_0x149d1d['z']),_0x189b1d=this[_0x5bd64f(0x175)]['fov']*Math['PI']/0xb4,_0x5cd17a=Math[_0x5bd64f(0x1d0)](0.5*_0x189b1d)*_0x3ae213,_0x47b628=_0x5cd17a*(this[_0x5bd64f(0x175)][_0x5bd64f(0x1da)]||this[_0x5bd64f(0x1b8)]/Math[_0x5bd64f(0x19d)](0x1,this['height'])),_0x28f634=Math[_0x5bd64f(0x19d)](0x2,_0x47b628-_0x4db8f6),_0x34e943=Math[_0x5bd64f(0x19d)](0x2,_0x5cd17a-_0x4db8f6);_0x149d1d['x']=this['clamp'](_0x149d1d['x'],-_0x28f634,_0x28f634),_0x149d1d['y']=this[_0x5bd64f(0x1f5)](_0x149d1d['y'],-_0x34e943,_0x34e943);}[_0x3e0143(0x1d2)](_0x4c2450){const _0x51c661=_0x3e0143;if(0x0!==this[_0x51c661(0x1d6)][_0x51c661(0x206)])for(let _0x395230=this[_0x51c661(0x1d6)][_0x51c661(0x206)]-0x1;_0x395230>=0x0;_0x395230-=0x1){const _0x20bbf2=this[_0x51c661(0x1d6)][_0x395230];_0x51c661(0x20a)===_0x20bbf2[_0x51c661(0x1b7)]?(_0x20bbf2[_0x51c661(0x1f3)]+=_0x20bbf2[_0x51c661(0x1ac)]*_0x4c2450*0x3c,_0x20bbf2[_0x51c661(0x1d4)]['getPoint'](Math['min'](_0x20bbf2[_0x51c661(0x1f3)],0x1),_0x20bbf2[_0x51c661(0x18e)]),this['_emitTrail'](_0x20bbf2[_0x51c661(0x18e)],_0x20bbf2[_0x51c661(0x1aa)]),_0x20bbf2[_0x51c661(0x1f3)]>=0x1&&(this[_0x51c661(0x198)](_0x20bbf2[_0x51c661(0x18e)],_0x20bbf2),_0x20bbf2[_0x51c661(0x1b7)]=_0x51c661(0x180),_0x20bbf2[_0x51c661(0x1eb)]=Math[_0x51c661(0x19d)](0.12,_0x20bbf2['crackleDelay']-0.08*this[_0x51c661(0x18d)][_0x51c661(0x1be)]))):(_0x20bbf2[_0x51c661(0x1eb)]-=_0x4c2450,!_0x20bbf2[_0x51c661(0x1f7)]&&_0x20bbf2['crackleDelay']<=0x0&&(this['_emitCrackle'](_0x20bbf2[_0x51c661(0x1bb)],_0x20bbf2),_0x20bbf2[_0x51c661(0x1f7)]=!0x0),_0x20bbf2[_0x51c661(0x1f7)]&&this['_fireworks'][_0x51c661(0x179)](_0x395230,0x1));}}['_emitTrail'](_0x48c48c,_0x208b5b){const _0x5acd6b=_0x3e0143,_0xf77b72=Math[_0x5acd6b(0x19b)](0x4+0x3*this['_state'][_0x5acd6b(0x197)]+0x2*this['_state'][_0x5acd6b(0x1be)]);for(let _0x4ebabf=0x0;_0x4ebabf<_0xf77b72;_0x4ebabf+=0x1){const _0x548d77=0.3*(Math[_0x5acd6b(0x186)]()-0.5),_0xbe9f7b=0.3*(Math[_0x5acd6b(0x186)]()-0.5),_0x4f59af=0.3*(Math[_0x5acd6b(0x186)]()-0.5);this['_spawnParticle']({'x':_0x48c48c['x'],'y':_0x48c48c['y'],'z':_0x48c48c['z'],'vx':_0x548d77,'vy':_0xbe9f7b,'vz':_0x4f59af,'speed':0x1,'color':_0x208b5b,'size':1.2,'life':0x1+Math[_0x5acd6b(0x186)]()+0.4*this['_state'][_0x5acd6b(0x17d)],'type':u});}}[_0x3e0143(0x1c4)](_0x6ff87c,_0x199fee){const _0x117187=_0x3e0143;for(let _0x38669a=0x0;_0x38669a<0x5;_0x38669a+=0x1){const _0x16e5f1=_0x38669a/Math[_0x117187(0x19d)](0x1,0x4)*0.08;_0x6ff87c['getPoint'](_0x16e5f1,this[_0x117187(0x19c)]),this['_emitTrail'](this[_0x117187(0x19c)],_0x199fee);}}['_emitBurst'](_0x34204c,_0x1f1411){const _0x3961a7=_0x3e0143,_0x4e659f=0x1+1.1*_0x1f1411[_0x3961a7(0x1e1)],_0x5ed310=0xc8+Math['floor'](0x1e*_0x1f1411[_0x3961a7(0x1e3)]),_0x2034f5=Math[_0x3961a7(0x1bd)](0x1a4,Math[_0x3961a7(0x19b)](_0x5ed310*_0x4e659f+0x50*this[_0x3961a7(0x18d)][_0x3961a7(0x177)]));for(let _0x3bb21e=0x0;_0x3bb21e<_0x2034f5;_0x3bb21e+=0x1){const _0x226b16=0x1+0.9*_0x1f1411[_0x3961a7(0x1e1)],_0x571d42=(0.7*Math[_0x3961a7(0x186)]()+0.2)*_0x226b16*(0x1+0.6*this[_0x3961a7(0x18d)][_0x3961a7(0x1f8)]),_0x4b3d49=this[_0x3961a7(0x1e5)](this[_0x3961a7(0x17b)]),_0x5187b6=0.8+1.1*_0x1f1411['launchLoudness'];this[_0x3961a7(0x182)]({'x':_0x34204c['x'],'y':_0x34204c['y'],'z':_0x34204c['z'],'vx':_0x4b3d49['x'],'vy':_0x4b3d49['y'],'vz':_0x4b3d49['z'],'speed':_0x571d42,'color':_0x1f1411[_0x3961a7(0x1a1)],'size':1.5*_0x5187b6,'life':1.5+Math[_0x3961a7(0x186)]()+0.4*_0x1f1411[_0x3961a7(0x1e1)],'type':g});}}[_0x3e0143(0x1b9)](_0x3c9701,_0x495b06){const _0x1c0748=_0x3e0143,_0x35d9b9=Math[_0x1c0748(0x19b)](0x78+0x46*this[_0x1c0748(0x18d)][_0x1c0748(0x1be)]+0x14*_0x495b06['burstScale']);for(let _0xd63e95=0x0;_0xd63e95<_0x35d9b9;_0xd63e95+=0x1){const _0x469991=1.8*Math[_0x1c0748(0x186)]()*(0x1+0.5*this['_state']['flux']),_0x1774d7=this[_0x1c0748(0x1e5)](this[_0x1c0748(0x17b)]);this['_spawnParticle']({'x':_0x3c9701['x'],'y':_0x3c9701['y'],'z':_0x3c9701['z'],'vx':_0x1774d7['x'],'vy':_0x1774d7['y'],'vz':_0x1774d7['z'],'speed':_0x469991,'color':this['_crackleColor'],'size':0.8,'life':0.4+0.4*Math[_0x1c0748(0x186)](),'type':w});}}[_0x3e0143(0x182)]({x:_0x112481,y:_0x1b8954,z:_0x364950,vx:_0x2ce4e0,vy:_0x1470d6,vz:_0x23071c,speed:_0x3d4873,color:_0x27a1b6,size:_0x20e8bc,life:_0x2433f0,type:_0x267629}){const _0x2b06da=_0x3e0143,_0xceef32=this[_0x2b06da(0x191)][_0x2b06da(0x1b4)];this[_0x2b06da(0x1ce)](_0xceef32+0x1),this[_0x2b06da(0x191)]['count']+=0x1,this[_0x2b06da(0x191)][_0x2b06da(0x17a)][_0xceef32]=_0x112481,this['_particles'][_0x2b06da(0x17f)][_0xceef32]=_0x1b8954,this[_0x2b06da(0x191)]['posZ'][_0xceef32]=_0x364950,this['_particles'][_0x2b06da(0x1e2)][_0xceef32]=_0x2ce4e0*_0x3d4873,this[_0x2b06da(0x191)][_0x2b06da(0x1c5)][_0xceef32]=_0x1470d6*_0x3d4873,this[_0x2b06da(0x191)][_0x2b06da(0x1b2)][_0xceef32]=_0x23071c*_0x3d4873,this['_particles'][_0x2b06da(0x1c0)][_0xceef32]=_0x27a1b6['r'],this[_0x2b06da(0x191)][_0x2b06da(0x1cc)][_0xceef32]=_0x27a1b6['g'],this[_0x2b06da(0x191)][_0x2b06da(0x1b0)][_0xceef32]=_0x27a1b6['b'],this[_0x2b06da(0x191)][_0x2b06da(0x1b1)][_0xceef32]=_0x20e8bc,this[_0x2b06da(0x191)][_0x2b06da(0x190)][_0xceef32]=_0x2433f0,this[_0x2b06da(0x191)][_0x2b06da(0x1af)][_0xceef32]=_0x2433f0,this[_0x2b06da(0x191)]['type'][_0xceef32]=_0x267629;}[_0x3e0143(0x1ce)](_0x5237f5){const _0x4a3821=_0x3e0143;if(_0x5237f5<=this[_0x4a3821(0x1c6)])return;let _0x38315b=this[_0x4a3821(0x1c6)];for(;_0x38315b<_0x5237f5;)_0x38315b=Math['ceil'](1.5*_0x38315b);const _0x21774f=(_0xe3a06a,_0x2fc228)=>{const _0x89391a=_0x4a3821,_0x140b1c=new Float32Array(_0x2fc228);return _0x140b1c[_0x89391a(0x1f6)](_0xe3a06a),_0x140b1c;};this[_0x4a3821(0x1c6)]=_0x38315b,this['_positions']=_0x21774f(this['_positions'],0x3*_0x38315b),this[_0x4a3821(0x1ba)]=_0x21774f(this[_0x4a3821(0x1ba)],0x3*_0x38315b),this[_0x4a3821(0x1cd)]=_0x21774f(this[_0x4a3821(0x1cd)],_0x38315b),this[_0x4a3821(0x191)][_0x4a3821(0x17a)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x17a)],_0x38315b),this['_particles'][_0x4a3821(0x17f)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x17f)],_0x38315b),this[_0x4a3821(0x191)][_0x4a3821(0x189)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x189)],_0x38315b),this['_particles'][_0x4a3821(0x1e2)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x1e2)],_0x38315b),this[_0x4a3821(0x191)]['velY']=_0x21774f(this['_particles']['velY'],_0x38315b),this[_0x4a3821(0x191)]['velZ']=_0x21774f(this['_particles'][_0x4a3821(0x1b2)],_0x38315b),this[_0x4a3821(0x191)][_0x4a3821(0x1c0)]=_0x21774f(this['_particles'][_0x4a3821(0x1c0)],_0x38315b),this[_0x4a3821(0x191)][_0x4a3821(0x1cc)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x1cc)],_0x38315b),this['_particles']['colorB']=_0x21774f(this[_0x4a3821(0x191)]['colorB'],_0x38315b),this[_0x4a3821(0x191)][_0x4a3821(0x1b1)]=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x1b1)],_0x38315b),this[_0x4a3821(0x191)]['life']=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x190)],_0x38315b),this[_0x4a3821(0x191)]['maxLife']=_0x21774f(this[_0x4a3821(0x191)][_0x4a3821(0x1af)],_0x38315b),this['_particles'][_0x4a3821(0x1a7)]=((_0x2a11c7,_0x397842)=>{const _0x3029d9=_0x4a3821,_0x5588d5=new Uint8Array(_0x397842);return _0x5588d5[_0x3029d9(0x1f6)](_0x2a11c7),_0x5588d5;})(this['_particles'][_0x4a3821(0x1a7)],_0x38315b),this['_geometry']&&(this[_0x4a3821(0x192)][_0x4a3821(0x1b6)](_0x4a3821(0x18e),new _0x3883a7(this[_0x4a3821(0x1c9)],0x3)[_0x4a3821(0x1ab)](_0x1a8d52)),this[_0x4a3821(0x192)][_0x4a3821(0x1b6)](_0x4a3821(0x1c3),new _0x3883a7(this[_0x4a3821(0x1ba)],0x3)[_0x4a3821(0x1ab)](_0x1a8d52)),this['_geometry']['setAttribute'](_0x4a3821(0x1b1),new _0x3883a7(this['_sizes'],0x1)['setUsage'](_0x1a8d52)),this[_0x4a3821(0x20b)]={'position':this[_0x4a3821(0x192)][_0x4a3821(0x1c8)](_0x4a3821(0x18e)),'color':this[_0x4a3821(0x192)][_0x4a3821(0x1c8)](_0x4a3821(0x1c3)),'size':this['_geometry']['getAttribute']('size')});}[_0x3e0143(0x1b3)](_0x47e75e){const _0x403a14=_0x3e0143,_0x53dc7f=this['_particles'];if(0x0===_0x53dc7f[_0x403a14(0x1b4)])return;const _0xbf19ec=0x3c*_0x47e75e,_0xe0859=this['_gravity']['y']*_0xbf19ec*(0.9+0.3*this['_state'][_0x403a14(0x1f8)]),_0x2141f5=0.4+0.9*this[_0x403a14(0x18d)][_0x403a14(0x1e7)],_0x3559ba=0.75+0.6*this['_state'][_0x403a14(0x1be)],_0x390bad=0x6*this['_state'][_0x403a14(0x207)];let _0x1cee0e=0x0;for(let _0x55a9f4=0x0;_0x55a9f4<_0x53dc7f[_0x403a14(0x1b4)];_0x55a9f4+=0x1){let _0x1637cc=_0x53dc7f['life'][_0x55a9f4]-0.012*_0xbf19ec;if(_0x1637cc<=0x0)continue;const _0x25494b=_0x53dc7f[_0x403a14(0x1a7)][_0x55a9f4],_0x2e4e94=_0x25494b===u?0.92:_0x25494b===g?0.9:0.88,_0x2934cc=Math['pow'](_0x2e4e94,_0xbf19ec);let _0x5dd338=_0x53dc7f[_0x403a14(0x1e2)][_0x55a9f4],_0x33de98=_0x53dc7f[_0x403a14(0x1c5)][_0x55a9f4],_0x427bf3=_0x53dc7f[_0x403a14(0x1b2)][_0x55a9f4];_0x33de98+=_0xe0859,_0x5dd338+=(Math[_0x403a14(0x186)]()-0.5)*_0x2141f5*0.05*_0xbf19ec,_0x427bf3+=(Math['random']()-0.5)*_0x2141f5*0.05*_0xbf19ec,_0x5dd338*=_0x2934cc,_0x33de98*=_0x2934cc,_0x427bf3*=_0x2934cc;let _0x3f883f=_0x53dc7f[_0x403a14(0x17a)][_0x55a9f4]+_0x5dd338*_0xbf19ec,_0x17e6e9=_0x53dc7f[_0x403a14(0x17f)][_0x55a9f4]+_0x33de98*_0xbf19ec,_0x2606a1=_0x53dc7f[_0x403a14(0x189)][_0x55a9f4]+_0x427bf3*_0xbf19ec;const _0x1ac97f=this['clamp'](_0x1637cc/_0x53dc7f[_0x403a14(0x1af)][_0x55a9f4],0x0,0x1),_0x207fa3=_0x53dc7f[_0x403a14(0x1b1)][_0x55a9f4]*_0x3559ba*(0.85+0.3*this[_0x403a14(0x18d)][_0x403a14(0x1d7)]);_0x53dc7f[_0x403a14(0x190)][_0x1cee0e]=_0x1637cc,_0x53dc7f[_0x403a14(0x1af)][_0x1cee0e]=_0x53dc7f[_0x403a14(0x1af)][_0x55a9f4],_0x53dc7f[_0x403a14(0x1a7)][_0x1cee0e]=_0x25494b,_0x53dc7f['posX'][_0x1cee0e]=_0x3f883f,_0x53dc7f['posY'][_0x1cee0e]=_0x17e6e9,_0x53dc7f['posZ'][_0x1cee0e]=_0x2606a1,_0x53dc7f[_0x403a14(0x1e2)][_0x1cee0e]=_0x5dd338,_0x53dc7f[_0x403a14(0x1c5)][_0x1cee0e]=_0x33de98,_0x53dc7f[_0x403a14(0x1b2)][_0x1cee0e]=_0x427bf3,_0x53dc7f[_0x403a14(0x1c0)][_0x1cee0e]=_0x53dc7f[_0x403a14(0x1c0)][_0x55a9f4],_0x53dc7f[_0x403a14(0x1cc)][_0x1cee0e]=_0x53dc7f[_0x403a14(0x1cc)][_0x55a9f4],_0x53dc7f['colorB'][_0x1cee0e]=_0x53dc7f['colorB'][_0x55a9f4],_0x53dc7f[_0x403a14(0x1b1)][_0x1cee0e]=_0x53dc7f[_0x403a14(0x1b1)][_0x55a9f4];const _0xa2fd44=0x3*_0x1cee0e;this[_0x403a14(0x1c9)][_0xa2fd44]=_0x3f883f+_0x390bad*(0.25+0.15*_0x25494b),this[_0x403a14(0x1c9)][_0xa2fd44+0x1]=_0x17e6e9,this[_0x403a14(0x1c9)][_0xa2fd44+0x2]=_0x2606a1,this[_0x403a14(0x1ba)][_0xa2fd44]=_0x53dc7f[_0x403a14(0x1c0)][_0x55a9f4]*_0x1ac97f,this['_colors'][_0xa2fd44+0x1]=_0x53dc7f['colorG'][_0x55a9f4]*_0x1ac97f,this[_0x403a14(0x1ba)][_0xa2fd44+0x2]=_0x53dc7f['colorB'][_0x55a9f4]*_0x1ac97f,this[_0x403a14(0x1cd)][_0x1cee0e]=_0x207fa3*_0x1ac97f*0xa,_0x1cee0e+=0x1;}_0x53dc7f['count']=_0x1cee0e;}[_0x3e0143(0x1e5)](_0x55d982){const _0x50c1d2=_0x3e0143;return _0x55d982[_0x50c1d2(0x1f6)](0x2*Math[_0x50c1d2(0x186)]()-0x1,0x2*Math[_0x50c1d2(0x186)]()-0x1,0x2*Math[_0x50c1d2(0x186)]()-0x1)[_0x50c1d2(0x187)](),_0x55d982;}},{'meta':y});
