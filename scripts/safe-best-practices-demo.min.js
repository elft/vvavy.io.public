(function(_0x168cad,_0x3ad34e){const _0x739cc8=_0x1fef,_0x267bd3=_0x168cad();while(!![]){try{const _0x3ac300=parseInt(_0x739cc8(0x14b))/0x1+-parseInt(_0x739cc8(0x145))/0x2+parseInt(_0x739cc8(0x108))/0x3*(-parseInt(_0x739cc8(0xfb))/0x4)+-parseInt(_0x739cc8(0xf7))/0x5*(-parseInt(_0x739cc8(0x125))/0x6)+-parseInt(_0x739cc8(0x12a))/0x7*(parseInt(_0x739cc8(0xfc))/0x8)+-parseInt(_0x739cc8(0x135))/0x9*(parseInt(_0x739cc8(0x13b))/0xa)+-parseInt(_0x739cc8(0x129))/0xb*(-parseInt(_0x739cc8(0x143))/0xc);if(_0x3ac300===_0x3ad34e)break;else _0x267bd3['push'](_0x267bd3['shift']());}catch(_0x213928){_0x267bd3['push'](_0x267bd3['shift']());}}}(_0x4bc0,0x3598f));import{W as _0x210461,V as _0x527afb,r as _0x32e412}from'./main.min.js';function _0x4bc0(){const _0x4c5329=['squareFade','uSquareSizeLoc','onRender','ARRAY_BUFFER','uStereo','squareSize','uniform2f','uTimeLoc','energy','uStereoLoc','stereoBalance','uSquareA','\x0a\x20\x20\x20\x20\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20precision\x20mediump\x20float;\x0a\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20precision\x20mediump\x20int;\x0a\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uTime;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uResolution;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uEnergy;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uBass;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uCentroid;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uStereo;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uSquareA;\x0a\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20uSquareB;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uSquareFade;\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20uSquareSize;\x0a\x0a\x20\x20\x20\x20\x20\x20vec3\x20hsv2rgb(vec3\x20c)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20abs(fract(c.xxx\x20+\x20vec3(0.0,\x202.0/3.0,\x201.0/3.0))\x20*\x206.0\x20-\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20c.z\x20*\x20mix(vec3(1.0),\x20clamp(p\x20-\x201.0,\x200.0,\x201.0),\x20c.y);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Normalized\x20coordinates\x20with\x20aspect\x20correction.\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20resolution\x20=\x20max(uResolution,\x20vec2(1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20minDim\x20=\x20min(resolution.x,\x20resolution.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(gl_FragCoord.xy\x20/\x20resolution\x20-\x200.5)\x20*\x20(resolution\x20/\x20minDim);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Stereo\x20affects\x20lateral\x20balance\x20only.\x0a\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20uStereo\x20*\x200.18;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Discrete\x20grid\x20for\x20clear\x20color\x20blocks.\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20gridUv\x20=\x20uv\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20cell\x20=\x20floor(gridUv\x20*\x208.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20cellIndex\x20=\x20cell.x\x20+\x20cell.y\x20*\x208.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20stripe\x20=\x20mod(cell.x,\x202.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Audio-driven\x20hue\x20and\x20value.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20centroidNorm\x20=\x20clamp(uCentroid,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20baseHue\x20=\x20mix(0.04,\x200.8,\x20centroidNorm);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20energyMix\x20=\x20clamp(uEnergy\x20+\x20uBass\x20*\x200.7,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hue\x20=\x20baseHue\x20+\x20cellIndex\x20*\x200.03\x20+\x200.12\x20*\x20energyMix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sat\x20=\x20mix(0.65,\x201.0,\x20energyMix);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x200.38\x20+\x200.5\x20*\x20energyMix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorA\x20=\x20hsv2rgb(vec3(fract(hue),\x20sat,\x20val));\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorB\x20=\x20hsv2rgb(vec3(fract(hue\x20+\x200.35),\x20sat,\x20val\x20*\x200.9));\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20baseColor\x20=\x20mix(colorA,\x20colorB,\x20stripe);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Mild\x20center\x20emphasis\x20without\x20dark\x20tunnel\x20edges.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20length(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20centerBoost\x20=\x201.0\x20-\x200.45\x20*\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20brightness\x20=\x20clamp(centerBoost,\x200.25,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20gammaSafe\x20=\x201.0\x20/\x202.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20pow(baseColor\x20*\x20brightness,\x20vec3(gammaSafe));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20Two\x20gently\x20cross-fading\x20squares\x20that\x20swap\x20locations\x20on\x20beats\x20/\x20loudness.\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20halfSize\x20=\x20uSquareSize\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20inA\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.x\x20-\x20uSquareA.x)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.y\x20-\x20uSquareA.y)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.x\x20-\x20uSquareA.x,\x20halfSize)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.y\x20-\x20uSquareA.y,\x20halfSize);\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20inB\x20=\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.x\x20-\x20uSquareB.x)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(-halfSize,\x20uv.y\x20-\x20uSquareB.y)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.x\x20-\x20uSquareB.x,\x20halfSize)\x20*\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20step(uv.y\x20-\x20uSquareB.y,\x20halfSize);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20squareColor\x20=\x20hsv2rgb(vec3(fract(hue\x20+\x200.18),\x200.9,\x200.9));\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20squareMask\x20=\x20clamp(mix(inA,\x20inB,\x20clamp(uSquareFade,\x200.0,\x201.0)),\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20finalColor\x20=\x20mix(color,\x20squareColor,\x20squareMask\x20*\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(finalColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','vertexAttribPointer','uResolution','bass','program','uSquareALoc','330KexNdJ','useProgram','VIBE','clearColor','1694JZVMkn','21yfHQOw','MID','uSquareBLoc','drawArrays','random','clear','squarePosA','min','time','max','lastFrameTime','2078451eOlWsa','uniform1f','drawingBufferWidth','CHILL','autoDispose','viewport','10IRhkXi','uResolutionLoc','ENERGY','createBuffer','uSquareSize','bassEnergy','squareFadeDuration','getAttribLocation','66012ZTVgMB','squarePosB','665232rUIDcu','GROOVY','FLOAT','BLEND','bindBuffer','aPosition','135377nCZfYO','isBeat','uSquareFade','TRIANGLES','overallEnergy','safe-best-practices-demo','1255vjpmlj','uBass','stereo','squareTimer','8WKUhEV','234496zsELqr','vvavy','init','centroid','uTime','deleteBuffer','uCentroidLoc','createProgram','buffer','height','lastSquareTriggerTime','uBassLoc','187965kFunKl','uSquareFadeLoc','drawingBufferHeight','COLOR_BUFFER_BIT','TEMPO','uEnergyLoc','getUniformLocation','meta','STATIC_DRAW','disable','TECH'];_0x4bc0=function(){return _0x4c5329;};return _0x4bc0();}function _0x1fef(_0x3d1b02,_0x116210){const _0x4bc037=_0x4bc0();return _0x1fef=function(_0x1fef27,_0x5515dd){_0x1fef27=_0x1fef27-0xf3;let _0x3eca8b=_0x4bc037[_0x1fef27];return _0x3eca8b;},_0x1fef(_0x3d1b02,_0x116210);}!(function(){const _0x2ad38e=_0x1fef;class _0x1f454a extends _0x210461{static [_0x2ad38e(0x10f)]={'hidden':!0x0,'savedAt':0x19c66eabf77,'createdBy':_0x2ad38e(0xfd),'description':'Safe\x20reference\x20visual:\x20bright\x20color\x20bands,\x20steady\x20camera,\x20no\x20default\x20glow\x20or\x20vignette.','tags':[_0x527afb[_0x2ad38e(0x112)]['GEOMETRY'],_0x527afb[_0x2ad38e(0x127)][_0x2ad38e(0x138)],_0x527afb[_0x2ad38e(0x13d)][_0x2ad38e(0x12b)],_0x527afb[_0x2ad38e(0x10c)][_0x2ad38e(0x146)]]};constructor(_0x296e10){const _0x1a45ec=_0x2ad38e;super(_0x296e10),this[_0x1a45ec(0x123)]=null,this[_0x1a45ec(0x104)]=null,this[_0x1a45ec(0x11a)]=null,this['uResolutionLoc']=null,this['uEnergyLoc']=null,this[_0x1a45ec(0x107)]=null,this[_0x1a45ec(0x102)]=null,this['uStereoLoc']=null,this[_0x1a45ec(0x124)]=null,this['uSquareBLoc']=null,this[_0x1a45ec(0x109)]=null,this[_0x1a45ec(0x114)]=null,this[_0x1a45ec(0x132)]=0x0,this[_0x1a45ec(0x11b)]=0x0,this[_0x1a45ec(0x122)]=0x0,this['centroid']=0.3,this[_0x1a45ec(0xf9)]=0x0,this[_0x1a45ec(0x134)]=null,this[_0x1a45ec(0x113)]=0x0,this[_0x1a45ec(0x141)]=0x1,this[_0x1a45ec(0xfa)]=0x0,this[_0x1a45ec(0x130)]={'x':-0.25,'y':0x0},this[_0x1a45ec(0x144)]={'x':0.25,'y':0x0},this[_0x1a45ec(0x118)]=0.3,this[_0x1a45ec(0x106)]=0x0;}[_0x2ad38e(0xfe)](){const _0x2d3a02=_0x2ad38e,_0x450ff8=this['gl'];if(!_0x450ff8)return;const _0x5e1f31=this[_0x2d3a02(0x103)]('\x0a\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20aPosition;\x0a\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(aPosition,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',_0x2d3a02(0x11f));this[_0x2d3a02(0x123)]=_0x5e1f31,this[_0x2d3a02(0x139)](_0x5e1f31);const _0x47812c=new Float32Array([-0x1,-0x1,0x3,-0x1,-0x1,0x3]),_0x5ee87d=_0x450ff8[_0x2d3a02(0x13e)]();_0x450ff8[_0x2d3a02(0x149)](_0x450ff8['ARRAY_BUFFER'],_0x5ee87d),_0x450ff8['bufferData'](_0x450ff8[_0x2d3a02(0x116)],_0x47812c,_0x450ff8[_0x2d3a02(0x110)]),this[_0x2d3a02(0x104)]=_0x5ee87d,this[_0x2d3a02(0x139)](_0x5ee87d,(_0x4e2885,_0x3fc5b1)=>_0x4e2885[_0x2d3a02(0x101)](_0x3fc5b1)),this[_0x2d3a02(0x11a)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,_0x2d3a02(0x100)),this[_0x2d3a02(0x13c)]=_0x450ff8['getUniformLocation'](_0x5e1f31,_0x2d3a02(0x121)),this['uEnergyLoc']=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,'uEnergy'),this[_0x2d3a02(0x107)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,_0x2d3a02(0xf8)),this['uCentroidLoc']=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,'uCentroid'),this[_0x2d3a02(0x11c)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,_0x2d3a02(0x117)),this[_0x2d3a02(0x124)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,_0x2d3a02(0x11e)),this[_0x2d3a02(0x12c)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,'uSquareB'),this[_0x2d3a02(0x109)]=_0x450ff8['getUniformLocation'](_0x5e1f31,_0x2d3a02(0xf3)),this[_0x2d3a02(0x114)]=_0x450ff8[_0x2d3a02(0x10e)](_0x5e1f31,_0x2d3a02(0x13f)),_0x450ff8[_0x2d3a02(0x111)](_0x450ff8[_0x2d3a02(0x148)]);}['onMetrics'](_0x46fb36,_0x43eee0){const _0x32febf=_0x2ad38e,_0x38d068=_0x46fb36?.['time']??0x0,_0x411e21=null!=this[_0x32febf(0x134)]?Math[_0x32febf(0x133)](0x0,Math[_0x32febf(0x131)](_0x38d068-this['lastFrameTime'],0.05)):0x1/0x3c;this[_0x32febf(0x134)]=_0x38d068;const _0x5ac574=_0x46fb36?.[_0x32febf(0xf5)]??_0x46fb36?.[_0x32febf(0x11b)]??0x0,_0x3fb556=_0x46fb36?.['smooth']?.[_0x32febf(0x140)]??_0x46fb36?.[_0x32febf(0x140)]??0x0,_0x4d613b=_0x46fb36?.[_0x32febf(0xff)]??0x0,_0x4e0ce1=_0x46fb36?.[_0x32febf(0x11d)]??0x0,_0x2ef6a6=(_0xf63326,_0x50b861,_0x35ca78)=>_0xf63326+(_0x50b861-_0xf63326)*_0x35ca78,_0x582700=(_0x2dd3c8,_0x5f43e4,_0x408e35)=>_0x2dd3c8<_0x5f43e4?_0x5f43e4:_0x2dd3c8>_0x408e35?_0x408e35:_0x2dd3c8,_0x2e63ae=_0x582700(_0x5ac574,0x0,0x1),_0x3a7793=2.5*_0x411e21;this[_0x32febf(0x11b)]=_0x2ef6a6(this[_0x32febf(0x11b)],_0x2e63ae,_0x3a7793);const _0x4a40b2=_0x582700(1.2*_0x3fb556,0x0,0x1),_0x638d41=0x3*_0x411e21;this['bass']=_0x2ef6a6(this[_0x32febf(0x122)],_0x4a40b2,_0x638d41);const _0x417eee=_0x582700(_0x4d613b/0x2ee0,0x0,0x1),_0x249de6=1.2*_0x411e21;this['centroid']=_0x2ef6a6(this[_0x32febf(0xff)],_0x417eee,_0x249de6);const _0x5acbaa=_0x582700(_0x4e0ce1,-0x1,0x1),_0x1f69e1=0x4*_0x411e21;this['stereo']=_0x2ef6a6(this[_0x32febf(0xf9)],_0x5acbaa,_0x1f69e1);const _0x1e3501=0.25+0.7*this[_0x32febf(0x11b)];this[_0x32febf(0x132)]+=_0x411e21*_0x1e3501;const _0x3b7e43=_0x2e63ae>0.05,_0x24d130=Boolean(_0x43eee0&&_0x43eee0[_0x32febf(0x14c)]);if(_0x38d068-this[_0x32febf(0x106)]>=0.5&&(_0x24d130||_0x3b7e43)){const _0x223647=0.4;this['squareFadeDuration']=Math['max'](_0x223647,this[_0x32febf(0x141)]-0.01),this['lastSquareTriggerTime']=_0x38d068,this[_0x32febf(0x113)]=0x1,this[_0x32febf(0xfa)]=0x0;const _0x488615=this[_0x32febf(0x144)];this[_0x32febf(0x130)]={'x':_0x488615['x'],'y':_0x488615['y']};const _0x32703e=1.2*Math[_0x32febf(0x12e)]()-0.6,_0x4b2e6f=0.8*Math[_0x32febf(0x12e)]()-0.4;this[_0x32febf(0x144)]={'x':_0x32703e,'y':_0x4b2e6f};}if(this[_0x32febf(0x113)]>0x0&&this[_0x32febf(0x141)]>0x0){this['squareTimer']+=_0x411e21;const _0x50c3d4=this[_0x32febf(0xfa)]/this[_0x32febf(0x141)];this[_0x32febf(0x113)]=_0x50c3d4<0x1?0x1-_0x50c3d4:0x0;}}[_0x2ad38e(0x115)](_0x59b468){const _0x226683=_0x2ad38e;if(!this[_0x226683(0x123)]||!this[_0x226683(0x104)])return;const _0x365868=_0x59b468[_0x226683(0x137)]||this['width']||0x1,_0x376a61=_0x59b468[_0x226683(0x10a)]||this[_0x226683(0x105)]||0x1;_0x59b468[_0x226683(0x13a)](0x0,0x0,_0x365868,_0x376a61),_0x59b468[_0x226683(0x128)](0x0,0x0,0x0,0x1),_0x59b468[_0x226683(0x12f)](_0x59b468[_0x226683(0x10b)]),_0x59b468[_0x226683(0x126)](this[_0x226683(0x123)]),_0x59b468[_0x226683(0x149)](_0x59b468[_0x226683(0x116)],this['buffer']);const _0x4982aa=_0x59b468[_0x226683(0x142)](this[_0x226683(0x123)],_0x226683(0x14a));_0x4982aa>=0x0&&(_0x59b468['enableVertexAttribArray'](_0x4982aa),_0x59b468[_0x226683(0x120)](_0x4982aa,0x2,_0x59b468[_0x226683(0x147)],!0x1,0x0,0x0)),_0x59b468[_0x226683(0x136)](this[_0x226683(0x11a)],this[_0x226683(0x132)]),_0x59b468[_0x226683(0x119)](this[_0x226683(0x13c)],_0x365868,_0x376a61),_0x59b468[_0x226683(0x136)](this[_0x226683(0x10d)],this['energy']),_0x59b468[_0x226683(0x136)](this[_0x226683(0x107)],this[_0x226683(0x122)]),_0x59b468[_0x226683(0x136)](this[_0x226683(0x102)],this[_0x226683(0xff)]),_0x59b468[_0x226683(0x136)](this['uStereoLoc'],this[_0x226683(0xf9)]),this['uSquareALoc']&&_0x59b468[_0x226683(0x119)](this['uSquareALoc'],this[_0x226683(0x130)]['x'],this['squarePosA']['y']),this[_0x226683(0x12c)]&&_0x59b468[_0x226683(0x119)](this['uSquareBLoc'],this['squarePosB']['x'],this[_0x226683(0x144)]['y']),this[_0x226683(0x109)]&&_0x59b468[_0x226683(0x136)](this[_0x226683(0x109)],this[_0x226683(0x113)]),this[_0x226683(0x114)]&&_0x59b468['uniform1f'](this['uSquareSizeLoc'],this[_0x226683(0x118)]),_0x59b468[_0x226683(0x12d)](_0x59b468[_0x226683(0xf4)],0x0,0x3);}}_0x32e412(_0x2ad38e(0xf6),_0x1f454a,{'meta':_0x1f454a['meta']});}());
