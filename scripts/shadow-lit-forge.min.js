const _0x1f4b8b=_0x34ed;(function(_0x3677d4,_0x5eecdc){const _0xf0a7b7=_0x34ed,_0x46be8d=_0x3677d4();while(!![]){try{const _0x19e086=parseInt(_0xf0a7b7(0x14b))/0x1+-parseInt(_0xf0a7b7(0x17d))/0x2+-parseInt(_0xf0a7b7(0x147))/0x3+-parseInt(_0xf0a7b7(0x130))/0x4*(-parseInt(_0xf0a7b7(0x11b))/0x5)+-parseInt(_0xf0a7b7(0x163))/0x6+parseInt(_0xf0a7b7(0x155))/0x7+parseInt(_0xf0a7b7(0x126))/0x8*(parseInt(_0xf0a7b7(0x149))/0x9);if(_0x19e086===_0x5eecdc)break;else _0x46be8d['push'](_0x46be8d['shift']());}catch(_0xa18cc3){_0x46be8d['push'](_0x46be8d['shift']());}}}(_0x5123,0x8dabf));function _0x34ed(_0x247895,_0x24b67b){const _0x512387=_0x5123();return _0x34ed=function(_0x34ed6d,_0x4a9147){_0x34ed6d=_0x34ed6d-0xf2;let _0x3ea19b=_0x512387[_0x34ed6d];return _0x3ea19b;},_0x34ed(_0x247895,_0x24b67b);}import{C as _0x1023af,b as _0x587a26,W as _0x10f6d4,S as _0x15e5de,u as _0x20e7ac,e as _0x1f5aca,a as _0x397508,n,P as _0x16a844,M as _0xf2ac05,G as _0x136306,I as _0x499859,B as _0x1c7f0a,j as _0xf6e89,p,q as _0x26cef2,s as _0x3b2190}from'./three.module.min.js';import{V as _0xfa1d8f,r as _0x5c9f34,W as _0x365044}from'./main.min.js';var C=_0x1f4b8b(0x101),M=_0x1f4b8b(0x16e);const y={'savedAt':0x19c4ecec384,'name':_0x1f4b8b(0x145),'description':_0x1f4b8b(0x16b),'tags':[_0xfa1d8f['VIBE'][_0x1f4b8b(0x15b)],_0xfa1d8f['VIBE']['CINEMATIC'],_0xfa1d8f['ENERGY'][_0x1f4b8b(0x133)],_0xfa1d8f[_0x1f4b8b(0x10b)][_0x1f4b8b(0x129)],_0xfa1d8f[_0x1f4b8b(0x170)]['HD'],_0xfa1d8f[_0x1f4b8b(0x170)][_0x1f4b8b(0x113)],_0xfa1d8f[_0x1f4b8b(0x170)][_0x1f4b8b(0x117)]],'createdBy':_0x1f4b8b(0x159)},P={'energy':0x0,'bass':0x0,'subBass':0x0,'centroid':0x0,'flux':0x0,'tempo':0x78,'stereo':0x0,'impact':0x0,'pulse':0x0};function _0x5123(){const _0x6f402e=['uDropPulse','_slamRecoverDuration','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0avarying\x20vec3\x20vNormal;\x0avarying\x20vec3\x20vViewPosition;\x0avarying\x20vec3\x20vWorldPos;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uPulse;\x0auniform\x20float\x20uImpact;\x0auniform\x20float\x20uDrop;\x0auniform\x20vec3\x20uForgeColor;\x0auniform\x20float\x20uOpacity;\x0a\x0afloat\x20hash(vec2\x20p)\x20{\x0a\x20\x20p\x20=\x20fract(p\x20*\x20vec2(123.34,\x20456.21));\x0a\x20\x20p\x20+=\x20dot(p,\x20p\x20+\x2045.32);\x0a\x20\x20return\x20fract(p.x\x20*\x20p.y);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20float\x20a\x20=\x20hash(i);\x0a\x20\x20float\x20b\x20=\x20hash(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20return\x20mix(a,\x20b,\x20u.x)\x20+\x20(c\x20-\x20a)\x20*\x20u.y\x20*\x20(1.0\x20-\x20u.x)\x20+\x20(d\x20-\x20b)\x20*\x20u.x\x20*\x20u.y;\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20v\x20=\x200.0;\x0a\x20\x20float\x20a\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x20{\x0a\x20\x20\x20\x20v\x20+=\x20a\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20*=\x202.0;\x0a\x20\x20\x20\x20a\x20*=\x200.5;\x0a\x20\x20}\x0a\x20\x20return\x20v;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20noiseVal\x20=\x20fract(sin(dot(vUv,\x20vec2(12.9898,\x2078.233)))\x20*\x2043758.5453);\x0a\x20\x20vec3\x20stone\x20=\x20vec3(0.04,\x200.04,\x200.06)\x20-\x20(noiseVal\x20*\x200.02);\x0a\x0a\x20\x20float\x20fractal\x20=\x20fbm(vWorldPos.xy\x20*\x200.15\x20+\x20uTime\x20*\x200.05);\x0a\x20\x20float\x20crack\x20=\x20pow(fractal,\x205.0)\x20*\x2040.0\x20*\x20uImpact;\x0a\x0a\x20\x20float\x20veins\x20=\x20sin(vUv.y\x20*\x2012.0\x20-\x20uTime\x20*\x205.0\x20+\x20vUv.x\x20*\x204.0)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20veins\x20=\x20pow(veins,\x204.0)\x20*\x20pow(vUv.y,\x201.2);\x0a\x0a\x20\x20vec3\x20viewDir\x20=\x20normalize(vViewPosition);\x0a\x20\x20float\x20rim\x20=\x20pow(1.0\x20-\x20max(dot(viewDir,\x20vNormal),\x200.0),\x203.0);\x0a\x0a\x20\x20vec3\x20glow\x20=\x20uForgeColor\x20*\x20(veins\x20*\x20uPulse\x20*\x203.0\x20+\x20rim\x20*\x20uPulse\x20*\x202.0\x20+\x20crack);\x0a\x0a\x20\x20vec3\x20dropRim\x20=\x20vec3(0.9,\x200.88,\x200.85)\x20*\x20rim\x20*\x20uDrop\x20*\x200.7;\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(stone\x20+\x20glow\x20+\x20dropRim,\x20uOpacity);\x0a}\x0a','isFinite','TECH','energyChangeIntensity','onRender','_lastCoreY','rmsTime','length','_floorMaterial','uDrop','uTime','_slamActive','random','life','value','828168UHqPnI','_reflectionMaterial','lookAt','_coolColor','uniforms','flux','push','_scene','time','dpr','_slamHoldDuration','_createSparks','aspect','destroy','resetState','_resetSpark','bass','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0avarying\x20vec3\x20vNormal;\x0avarying\x20vec3\x20vViewPosition;\x0avarying\x20vec3\x20vWorldPos;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uPulse;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUv\x20=\x20uv;\x0a\x20\x20vNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20vWorldPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20vec3\x20pos\x20=\x20position;\x0a\x20\x20float\x20bend\x20=\x20sin(uTime\x20*\x200.5)\x20*\x200.15\x20*\x20uPulse;\x0a\x20\x20if\x20(pos.y\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20pos.x\x20+=\x20pow(pos.y\x20*\x200.06,\x202.0)\x20*\x20bend;\x0a\x20\x20}\x0a\x0a\x20\x20float\x20vibration\x20=\x20sin(uTime\x20*\x2060.0)\x20*\x20(uPulse\x20*\x200.03);\x0a\x20\x20pos\x20+=\x20normal\x20*\x20(vibration\x20+\x20sin(uTime\x20*\x202.0\x20+\x20position.y\x20*\x200.3)\x20*\x20uPulse\x20*\x200.1);\x0a\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(pos,\x201.0);\x0a\x20\x20vViewPosition\x20=\x20-mvPosition.xyz;\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','_time','traverse','cos','sizes','_dropColor','now','_orbitAngle','attackRelease','bassEnergy','TEMPO','clone','forEach','_warmColor','_dropActive','_forgeColor','_cleanupHandle','material','PARTICLES','_audio','_impactFactor','_createArchitecture','GEOMETRY','cues','copy','_timeStart','176920UQRzbL','undefined','_floorColor','_reflectionGroup','set','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vUv\x20=\x20uv;\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a}\x0a','fog','setAttribute','lives','rotation','autoClear','3384oRuZsA','render','_globalHeat','STEADY','position','clamp','uImpact','tempo','positionAttr','canvas','80UVjfxB','stereo','overallEnergy','PUNCHY','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20vec2\x20vUv;\x0auniform\x20float\x20uTime;\x0auniform\x20float\x20uImpact;\x0auniform\x20float\x20uPulse;\x0auniform\x20float\x20uDrop;\x0auniform\x20float\x20uDropPulse;\x0auniform\x20vec3\x20uForgeColor;\x0a\x0afloat\x20hash(vec2\x20p)\x20{\x0a\x20\x20p\x20=\x20fract(p\x20*\x20vec2(123.34,\x20456.21));\x0a\x20\x20p\x20+=\x20dot(p,\x20p\x20+\x2045.32);\x0a\x20\x20return\x20fract(p.x\x20*\x20p.y);\x0a}\x0a\x0afloat\x20noise(vec2\x20p)\x20{\x0a\x20\x20vec2\x20i\x20=\x20floor(p);\x0a\x20\x20vec2\x20f\x20=\x20fract(p);\x0a\x20\x20float\x20a\x20=\x20hash(i);\x0a\x20\x20float\x20b\x20=\x20hash(i\x20+\x20vec2(1.0,\x200.0));\x0a\x20\x20float\x20c\x20=\x20hash(i\x20+\x20vec2(0.0,\x201.0));\x0a\x20\x20float\x20d\x20=\x20hash(i\x20+\x20vec2(1.0,\x201.0));\x0a\x20\x20vec2\x20u\x20=\x20f\x20*\x20f\x20*\x20(3.0\x20-\x202.0\x20*\x20f);\x0a\x20\x20return\x20mix(a,\x20b,\x20u.x)\x20+\x20(c\x20-\x20a)\x20*\x20u.y\x20*\x20(1.0\x20-\x20u.x)\x20+\x20(d\x20-\x20b)\x20*\x20u.x\x20*\x20u.y;\x0a}\x0a\x0afloat\x20fbm(vec2\x20p)\x20{\x0a\x20\x20float\x20v\x20=\x200.0;\x0a\x20\x20float\x20a\x20=\x200.5;\x0a\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x20{\x0a\x20\x20\x20\x20v\x20+=\x20a\x20*\x20noise(p);\x0a\x20\x20\x20\x20p\x20*=\x202.0;\x0a\x20\x20\x20\x20a\x20*=\x200.5;\x0a\x20\x20}\x0a\x20\x20return\x20v;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20uv\x20=\x20vUv\x20*\x202.0\x20-\x201.0;\x0a\x20\x20float\x20d\x20=\x20length(uv);\x0a\x0a\x20\x20vec3\x20color\x20=\x20vec3(0.01,\x200.01,\x200.015);\x0a\x20\x20float\x20impact\x20=\x20clamp(uImpact,\x200.0,\x201.5);\x0a\x0a\x20\x20vec2\x20rockUv\x20=\x20uv\x20*\x206.6\x20+\x20vec2(uTime\x20*\x200.02,\x20-uTime\x20*\x200.01);\x0a\x20\x20float\x20rockNoise\x20=\x20fbm(rockUv\x20*\x202.3\x20+\x20uTime\x20*\x200.02);\x0a\x20\x20float\x20ridged\x20=\x201.0\x20-\x20abs(rockNoise\x20*\x202.0\x20-\x201.0);\x0a\x20\x20ridged\x20=\x20pow(ridged,\x201.8);\x0a\x0a\x20\x20vec3\x20rockColor\x20=\x20mix(vec3(0.05,\x200.04,\x200.04),\x20vec3(0.18,\x200.13,\x200.11),\x20ridged);\x0a\x0a\x20\x20vec2\x20lavaUv\x20=\x20uv\x20*\x203.6\x20+\x20vec2(0.0,\x20uTime\x20*\x200.12);\x0a\x20\x20float\x20lavaBase\x20=\x20fbm(lavaUv\x20*\x202.6);\x0a\x20\x20float\x20lavaDetail\x20=\x20fbm(lavaUv\x20*\x208.0\x20+\x2011.9);\x0a\x20\x20float\x20lavaField\x20=\x20mix(lavaBase,\x20lavaDetail,\x200.5);\x0a\x20\x20float\x20fissures\x20=\x20smoothstep(0.52,\x200.88,\x20lavaField);\x0a\x20\x20float\x20glow\x20=\x20pow(fissures,\x201.7)\x20+\x20uPulse\x20*\x200.45;\x0a\x20\x20float\x20dropGlow\x20=\x20uDrop\x20*\x20(0.6\x20+\x20uDropPulse\x20*\x201.2);\x0a\x0a\x20\x20float\x20chasm\x20=\x20smoothstep(0.45,\x200.1,\x20d);\x0a\x20\x20float\x20lavaMask\x20=\x20clamp(chasm\x20+\x20(1.0\x20-\x20fissures)\x20*\x200.25,\x200.0,\x201.0);\x0a\x0a\x20\x20vec3\x20lavaColor\x20=\x20mix(vec3(0.07,\x200.01,\x200.01),\x20vec3(1.6,\x200.38,\x200.06),\x20glow\x20+\x20impact\x20*\x200.25\x20+\x20dropGlow);\x0a\x0a\x20\x20float\x20crackPattern\x20=\x20pow(fbm(uv\x20*\x208.0\x20+\x20uTime\x20*\x200.1),\x206.0)\x20*\x2060.0\x20*\x20impact;\x0a\x20\x20float\x20shatterMask\x20=\x20smoothstep(0.25,\x200.0,\x20abs(fissures\x20-\x200.6))\x20*\x20uDrop;\x0a\x20\x20float\x20dropHalo\x20=\x20smoothstep(0.6,\x200.0,\x20d)\x20*\x20uDrop;\x0a\x20\x20float\x20dropFlare\x20=\x20smoothstep(0.35,\x200.0,\x20d)\x20*\x20uDropPulse;\x0a\x20\x20vec3\x20crust\x20=\x20rockColor\x20+\x20uForgeColor\x20*\x20(crackPattern\x20+\x20dropHalo\x20*\x203.5\x20+\x20dropFlare\x20*\x205.0);\x0a\x20\x20crust\x20-=\x20rockColor\x20*\x20(0.3\x20*\x20shatterMask);\x0a\x20\x20crust\x20+=\x20lavaColor\x20*\x20(shatterMask\x20*\x200.65);\x0a\x0a\x20\x20color\x20=\x20mix(crust,\x20lavaColor,\x20lavaMask);\x0a\x0a\x20\x20gl_FragColor\x20=\x20vec4(color,\x201.0);\x0a}\x0a','needsUpdate','height','positions','max','_material','sin','_slamCooldown','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0aattribute\x20float\x20size;\x0aattribute\x20float\x20life;\x0avarying\x20float\x20vLife;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vLife\x20=\x20life;\x0a\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20gl_PointSize\x20=\x20size\x20*\x20(500.0\x20/\x20-mvPosition.z);\x0a\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a}\x0a','add','_sparkMaterial','dropIntensity','_createArchGroup','_sparks','_setupThree','_camera','_tempVec3','Shadow-Lit\x20Forge','uPulse','2047170drTSXt','_slamTimer','4149dugSIS','#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0aprecision\x20highp\x20float;\x0a#else\x0aprecision\x20mediump\x20float;\x0a#endif\x0a\x0avarying\x20float\x20vLife;\x0auniform\x20vec3\x20uColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20float\x20d\x20=\x20distance(gl_PointCoord,\x20vec2(0.5));\x0a\x20\x20if\x20(d\x20>\x200.5)\x20discard;\x0a\x20\x20float\x20strength\x20=\x20pow(smoothstep(0.5,\x200.0,\x20d),\x202.0);\x0a\x20\x20gl_FragColor\x20=\x20vec4(uColor,\x20strength\x20*\x20vLife);\x0a}\x0a','729821yAsmlx','trackGLCleanup','flushTrackedGLResources','_disposeScene','_slamDownDuration','_orbitSpeed','isArray','_core','lerp','_coreReflection','3427319kRepBI','dropPulse','setPixelRatio','centroid','vvavy','spectralFlux','DARK','setSize','#000000','subBass','subBassEnergy','onResize','_renderer','width','2672160sjBJVi','_createFloor','dispose','energy','geometry','_sparkColor','_arches','dropBloom','Cathedral\x20pillars,\x20a\x20hovering\x20core,\x20and\x20fractal\x20forge\x20cracks\x20that\x20ignite\x20with\x20audio-driven\x20impact\x20waves.'];_0x5123=function(){return _0x6f402e;};return _0x5123();}_0x5c9f34('shadow-lit-forge',class extends _0x365044{static ['meta']=y;constructor(_0xdee3e3){const _0x310cd3=_0x1f4b8b;super({..._0xdee3e3,'config':{'backgroundColor':_0x310cd3(0x15d),'autoClear':!0x0,..._0xdee3e3?.['config']??{}}}),this[_0x310cd3(0x161)]=null,this['_scene']=null,this[_0x310cd3(0x143)]=null,this[_0x310cd3(0x139)]=null,this[_0x310cd3(0x17e)]=null,this['_floorMaterial']=null,this[_0x310cd3(0x13e)]=null,this[_0x310cd3(0x169)]=[],this['_reflectionGroup']=null,this[_0x310cd3(0x152)]=null,this[_0x310cd3(0x154)]=null,this['_sparks']=null,this['_audio']={...P},this[_0x310cd3(0x11a)]=0.001*(_0x310cd3(0x11c)!=typeof performance?performance[_0x310cd3(0x107)]():Date[_0x310cd3(0x107)]()),this['_time']=0x0,this[_0x310cd3(0x108)]=0x0,this[_0x310cd3(0x150)]=0.2,this['_impactFactor']=0x0,this['_globalHeat']=0x0,this[_0x310cd3(0x10f)]=!0x1,this['_slamActive']=!0x1,this[_0x310cd3(0x148)]=0x0,this[_0x310cd3(0x14f)]=0.45,this[_0x310cd3(0xfa)]=1.6,this[_0x310cd3(0x16d)]=0.7,this['_slamCooldown']=0x0,this[_0x310cd3(0x173)]=0x0,this[_0x310cd3(0x110)]=new _0x1023af(0xff4400),this[_0x310cd3(0xf3)]=new _0x1023af(0x9900ff),this[_0x310cd3(0x106)]=new _0x1023af(0xff1a1a),this['_warmColor']=new _0x1023af(0xff3300),this[_0x310cd3(0x168)]=new _0x1023af(0xffaa00),this[_0x310cd3(0x11d)]=new _0x1023af(0xff4400),this['_tempVec3']=new _0x587a26(),this[_0x310cd3(0x111)]=null;}['init'](){const _0x583d08=_0x1f4b8b;this['gl']&&(this[_0x583d08(0x14d)](),this[_0x583d08(0x142)]());}[_0x1f4b8b(0x142)](){const _0x352610=_0x1f4b8b;this[_0x352610(0x161)]=new _0x10f6d4({'canvas':this[_0x352610(0x12f)],'context':this['gl'],'antialias':!0x0,'powerPreference':'high-performance'}),this[_0x352610(0x161)][_0x352610(0x125)]=!0x0,this[_0x352610(0x161)][_0x352610(0x157)](this[_0x352610(0xf9)]),this[_0x352610(0x161)]['setSize'](this[_0x352610(0x162)],this[_0x352610(0x136)],!0x1),this[_0x352610(0xf7)]=new _0x15e5de(),this[_0x352610(0xf7)][_0x352610(0x121)]=new _0x20e7ac(0x0,0.005),this[_0x352610(0x143)]=new _0x1f5aca(0x3c,Math[_0x352610(0x138)](0x1,this[_0x352610(0x162)]/this[_0x352610(0x136)]),0.1,0x1388),this[_0x352610(0x139)]=new _0x397508({'vertexShader':C,'fragmentShader':M,'transparent':!0x0,'uniforms':{'uTime':{'value':0x0},'uPulse':{'value':0x0},'uImpact':{'value':0x0},'uDrop':{'value':0x0},'uForgeColor':{'value':this[_0x352610(0x110)]},'uOpacity':{'value':0x1}}}),this[_0x352610(0x17e)]=new _0x397508({'vertexShader':C,'fragmentShader':M,'transparent':!0x0,'uniforms':{'uTime':{'value':0x0},'uPulse':{'value':0x0},'uImpact':{'value':0x0},'uDrop':{'value':0x0},'uForgeColor':{'value':this[_0x352610(0x110)]},'uOpacity':{'value':0.25}}}),this['_sparkMaterial']=new _0x397508({'vertexShader':_0x352610(0x13c),'fragmentShader':_0x352610(0x14a),'transparent':!0x0,'blending':n,'depthWrite':!0x1,'uniforms':{'uColor':{'value':this[_0x352610(0x168)]}}}),this[_0x352610(0x176)]=new _0x397508({'vertexShader':_0x352610(0x120),'fragmentShader':_0x352610(0x134),'uniforms':{'uTime':{'value':0x0},'uImpact':{'value':0x0},'uPulse':{'value':0x0},'uDrop':{'value':0x0},'uDropPulse':{'value':0x0},'uForgeColor':{'value':this[_0x352610(0x11d)]}}}),this[_0x352610(0x116)](),this[_0x352610(0xfb)](),this[_0x352610(0x164)](),this[_0x352610(0x111)]=this[_0x352610(0x14c)](()=>this[_0x352610(0x14e)]());}[_0x1f4b8b(0x164)](){const _0x356603=_0x1f4b8b;if(!this[_0x356603(0xf7)]||!this['_floorMaterial'])return;const _0x42dbf9=new _0x16a844(0x5dc,0x5dc,0x1,0x1),_0x58ecbb=new _0xf2ac05(_0x42dbf9,this['_floorMaterial']);_0x58ecbb['rotation']['x']=-Math['PI']/0x2,_0x58ecbb[_0x356603(0x12a)]['y']=0x0,this[_0x356603(0xf7)][_0x356603(0x13d)](_0x58ecbb);}[_0x1f4b8b(0x116)](){const _0x5e6dd9=_0x1f4b8b;if(!this['_scene']||!this[_0x5e6dd9(0x139)]||!this[_0x5e6dd9(0x17e)])return;this[_0x5e6dd9(0x169)]=[],this['_reflectionGroup']=new _0x136306(),this[_0x5e6dd9(0xf7)]['add'](this['_reflectionGroup']);for(let _0xddc1a7=0x0;_0xddc1a7<0x8;_0xddc1a7+=0x1){const _0x479209=_0xddc1a7/0x8*Math['PI']*0x2,_0x10e710=0x32*Math[_0x5e6dd9(0x104)](_0x479209),_0x1ce1d9=0x32*Math[_0x5e6dd9(0x13a)](_0x479209),_0x123a09=this[_0x5e6dd9(0x140)](this[_0x5e6dd9(0x139)]);_0x123a09['position']['set'](_0x10e710,0x19,_0x1ce1d9),_0x123a09[_0x5e6dd9(0xf2)](0x0,0x64,0x0),this[_0x5e6dd9(0xf7)][_0x5e6dd9(0x13d)](_0x123a09);const _0x3043d3=this[_0x5e6dd9(0x140)](this['_reflectionMaterial']);_0x3043d3[_0x5e6dd9(0x12a)][_0x5e6dd9(0x11f)](_0x10e710,-0x19,_0x1ce1d9),_0x3043d3['scale']['y']=-0x1,_0x3043d3['lookAt'](0x0,-0x64,0x0),this['_reflectionGroup']['add'](_0x3043d3),this['_arches'][_0x5e6dd9(0xf6)]({'group':_0x123a09,'reflectGroup':_0x3043d3,'angle':_0x479209});}this[_0x5e6dd9(0x152)]=new _0xf2ac05(new _0x499859(0xc,0x4),this[_0x5e6dd9(0x139)]),this['_scene'][_0x5e6dd9(0x13d)](this['_core']),this[_0x5e6dd9(0x154)]=this['_core'][_0x5e6dd9(0x10c)](),this[_0x5e6dd9(0x154)][_0x5e6dd9(0x112)]=this[_0x5e6dd9(0x17e)],this[_0x5e6dd9(0x11e)][_0x5e6dd9(0x13d)](this[_0x5e6dd9(0x154)]);}['_createArchGroup'](_0x4ae70a){const _0x5b95b2=_0x1f4b8b,_0x563571=new _0x136306(),_0x5622bd=new _0xf2ac05(new _0x1c7f0a(3.5,0x6e,3.5,0x1,0x40,0x1),_0x4ae70a);_0x563571[_0x5b95b2(0x13d)](_0x5622bd);const _0xe44e31=new _0xf2ac05(new _0xf6e89(0x1,1.4,0x50,0x10,0x1),_0x4ae70a);return _0xe44e31[_0x5b95b2(0x12a)][_0x5b95b2(0x11f)](0x14,-0x1e,0x0),_0xe44e31[_0x5b95b2(0x124)]['z']=0.15*Math['PI'],_0x563571['add'](_0xe44e31),_0x563571;}['_createSparks'](){const _0x5aae5b=_0x1f4b8b;if(!this[_0x5aae5b(0xf7)]||!this[_0x5aae5b(0x13e)])return;const _0x2a65fc=0x9c4,_0x14046a=new p(),_0x33d0cf=new Float32Array(0x1d4c),_0xf35260=new Float32Array(_0x2a65fc),_0x28fe99=new Float32Array(_0x2a65fc);for(let _0x33b17c=0x0;_0x33b17c<_0x2a65fc;_0x33b17c+=0x1)this['_resetSpark'](_0x33b17c,_0x33d0cf,_0x28fe99,_0xf35260);_0x14046a['setAttribute'](_0x5aae5b(0x12a),new _0x26cef2(_0x33d0cf,0x3)),_0x14046a[_0x5aae5b(0x122)]('size',new _0x26cef2(_0xf35260,0x1)),_0x14046a[_0x5aae5b(0x122)](_0x5aae5b(0x17b),new _0x26cef2(_0x28fe99,0x1));const _0x53162a=new _0x3b2190(_0x14046a,this[_0x5aae5b(0x13e)]);this[_0x5aae5b(0xf7)][_0x5aae5b(0x13d)](_0x53162a),this[_0x5aae5b(0x141)]={'points':_0x53162a,'positions':_0x33d0cf,'lives':_0x28fe99,'sizes':_0xf35260,'positionAttr':_0x14046a['getAttribute'](_0x5aae5b(0x12a)),'lifeAttr':_0x14046a['getAttribute']('life'),'count':_0x2a65fc};}[_0x1f4b8b(0xff)](_0x490450,_0x4620e5,_0x4f9077,_0x21260c){const _0x40624a=_0x1f4b8b,_0x2eb9dc=this[_0x40624a(0x152)]?this[_0x40624a(0x152)][_0x40624a(0x12a)]['y']:0x0,_0x112cd1=0x3*_0x490450;_0x4620e5[_0x112cd1]=0x28*(Math[_0x40624a(0x17a)]()-0.5),_0x4620e5[_0x112cd1+0x1]=_0x2eb9dc+0xa*Math[_0x40624a(0x17a)](),_0x4620e5[_0x112cd1+0x2]=0x28*(Math['random']()-0.5),_0x4f9077[_0x490450]=0.2+0.8*Math[_0x40624a(0x17a)](),_0x21260c[_0x490450]=0x6+0x14*Math[_0x40624a(0x17a)]();}[_0x1f4b8b(0x160)](){const _0x3ced13=_0x1f4b8b;this[_0x3ced13(0x161)]&&this['_camera']&&(this[_0x3ced13(0x161)][_0x3ced13(0x15c)](this[_0x3ced13(0x162)],this[_0x3ced13(0x136)],!0x1),this[_0x3ced13(0x143)][_0x3ced13(0xfc)]=Math['max'](0x1,this[_0x3ced13(0x162)]/this['height']),this[_0x3ced13(0x143)]['updateProjectionMatrix']());}['onUpdate'](_0xeee892){const _0x26cec3=_0x1f4b8b;if(!_0xeee892)return;const _0x1ff156=this[_0x26cec3(0x12b)](_0xeee892['dt']??0x1/0x3c,0x1/0xf0,0.2),_0x2fbb8c=this[_0x26cec3(0x12b)](_0xeee892[_0x26cec3(0x132)]??_0xeee892[_0x26cec3(0x166)]??_0xeee892[_0x26cec3(0x174)]??0x0,0x0,1.2),_0x51ec21=this[_0x26cec3(0x12b)](_0xeee892[_0x26cec3(0x10a)]??0x0,0x0,1.2),_0x1073d3=this[_0x26cec3(0x12b)](_0xeee892[_0x26cec3(0x15f)]??0x0,0x0,1.2),_0x3bafe7=this[_0x26cec3(0x12b)](1.1*(_0xeee892[_0x26cec3(0x15a)]??0x0)+0.4*(_0xeee892[_0x26cec3(0x171)]??0x0),0x0,1.5),_0x462aa1=this[_0x26cec3(0x12b)]((_0xeee892['centroid']??0x1068)/0x2ee0,0x0,0x1),_0x439558=this[_0x26cec3(0x12b)](_0xeee892['tempo']??0x78,0x32,0xc8),_0xfe240b=this[_0x26cec3(0x12b)](_0xeee892['stereoSpread']??0x0,0x0,0x1),_0x2e382e=this['clamp'](_0xeee892?.[_0x26cec3(0x118)]?.['dropIntensity']??_0xeee892[_0x26cec3(0x13f)]??_0xeee892[_0x26cec3(0x156)]??0x0,0x0,1.5),_0x127fc9=Boolean(_0xeee892?.[_0x26cec3(0x118)]?.['dropStart']||_0xeee892?.[_0x26cec3(0x118)]?.[_0x26cec3(0x16a)])||_0x2e382e>0.75;if(this['_audio']['energy']=this[_0x26cec3(0x109)](this['_audio'][_0x26cec3(0x166)],_0x2fbb8c,_0x1ff156,0.08,0.5),this[_0x26cec3(0x114)][_0x26cec3(0x100)]=this[_0x26cec3(0x109)](this[_0x26cec3(0x114)]['bass'],_0x51ec21,_0x1ff156,0.06,0.45),this[_0x26cec3(0x114)][_0x26cec3(0x15e)]=this[_0x26cec3(0x109)](this[_0x26cec3(0x114)]['subBass'],_0x1073d3,_0x1ff156,0.08,0.5),this[_0x26cec3(0x114)][_0x26cec3(0xf5)]=this[_0x26cec3(0x109)](this[_0x26cec3(0x114)]['flux'],_0x3bafe7,_0x1ff156,0.08,0.6),this[_0x26cec3(0x114)][_0x26cec3(0x158)]=this['attackRelease'](this[_0x26cec3(0x114)][_0x26cec3(0x158)],_0x462aa1,_0x1ff156,0.1,0.6),this[_0x26cec3(0x114)][_0x26cec3(0x12d)]=this['attackRelease'](this[_0x26cec3(0x114)][_0x26cec3(0x12d)],_0x439558,_0x1ff156,0.2,0.8),this[_0x26cec3(0x114)]['stereo']=this[_0x26cec3(0x109)](this[_0x26cec3(0x114)][_0x26cec3(0x131)],_0xfe240b,_0x1ff156,0.08,0.5),this[_0x26cec3(0x13b)]>0x0&&(this['_slamCooldown']=Math[_0x26cec3(0x138)](0x0,this[_0x26cec3(0x13b)]-_0x1ff156)),_0x127fc9&&!this[_0x26cec3(0x179)]&&this[_0x26cec3(0x13b)]<=0x0&&(this[_0x26cec3(0x179)]=!0x0,this[_0x26cec3(0x148)]=0x0),this[_0x26cec3(0x179)]){this[_0x26cec3(0x148)]+=_0x1ff156;const _0x4fa4d4=this[_0x26cec3(0x14f)]+this[_0x26cec3(0xfa)]+this[_0x26cec3(0x16d)];this[_0x26cec3(0x148)]>=_0x4fa4d4&&(this[_0x26cec3(0x179)]=!0x1,this[_0x26cec3(0x148)]=0x0,this['_slamCooldown']=1.2);}this['_dropActive']=_0x127fc9;const _0x434ae6=this[_0x26cec3(0x12b)]((this[_0x26cec3(0x114)][_0x26cec3(0x12d)]-0x32)/0x96,0x0,0x1),_0x54e4d1=this[_0x26cec3(0x153)](0.14,0.5,_0x434ae6);this[_0x26cec3(0x150)]=this[_0x26cec3(0x109)](this[_0x26cec3(0x150)],_0x54e4d1,_0x1ff156,0.2,0.8),this[_0x26cec3(0x108)]+=this[_0x26cec3(0x150)]*_0x1ff156;const _0x523ebd=Number[_0x26cec3(0x16f)](_0xeee892[_0x26cec3(0xf8)])?_0xeee892[_0x26cec3(0xf8)]:0.001*(_0x26cec3(0x11c)!=typeof performance?performance[_0x26cec3(0x107)]():Date[_0x26cec3(0x107)]())-this['_timeStart'];this[_0x26cec3(0x102)]=_0x523ebd;}[_0x1f4b8b(0x172)](){const _0x3d3628=_0x1f4b8b;if(!(this[_0x3d3628(0x161)]&&this[_0x3d3628(0xf7)]&&this[_0x3d3628(0x143)]&&this[_0x3d3628(0x139)]&&this['_floorMaterial']))return;const _0x29bb97=this[_0x3d3628(0x102)]??0x0,_0xf8928e=0.6*this[_0x3d3628(0x114)][_0x3d3628(0x166)]+0.4*this[_0x3d3628(0x114)][_0x3d3628(0x100)];this['_globalHeat']=this['lerp'](this[_0x3d3628(0x128)],_0xf8928e,0.1);const _0x5431bb=0.2+0.15*this[_0x3d3628(0x114)][_0x3d3628(0x166)],_0x2c6667=0.5*Math['sin'](_0x29bb97*_0x5431bb)+0.5,_0x1f2f3c=0x28+_0x2c6667*(0xdc+0xb4*this[_0x3d3628(0x114)][_0x3d3628(0x15e)]);let _0x10f7e7=_0x1f2f3c;const _0x5c9d7b=_0x2c6667<0.2?0x1:0x0;let _0x229d6d=_0x5c9d7b*(0.4+1.4*this[_0x3d3628(0x114)][_0x3d3628(0x100)]);if(this[_0x3d3628(0x179)]){const _0x11ecfb=this['_slamDownDuration'],_0x34fdd5=this[_0x3d3628(0x14f)]+this[_0x3d3628(0xfa)],_0x45f84c=_0x34fdd5+this[_0x3d3628(0x16d)];if(this[_0x3d3628(0x148)]<=_0x11ecfb){const _0x1fa186=this['clamp'](this[_0x3d3628(0x148)]/this[_0x3d3628(0x14f)],0x0,0x1),_0x512301=_0x1fa186*_0x1fa186*(0x3-0x2*_0x1fa186);_0x10f7e7=this[_0x3d3628(0x153)](_0x1f2f3c,0x8,_0x512301);}else{if(this['_slamTimer']<=_0x34fdd5)_0x10f7e7=0x8;else{if(this[_0x3d3628(0x148)]<=_0x45f84c){const _0x27b6c2=this['clamp']((this[_0x3d3628(0x148)]-_0x34fdd5)/this[_0x3d3628(0x16d)],0x0,0x1),_0x14e9c8=_0x27b6c2*_0x27b6c2*(0x3-0x2*_0x27b6c2);_0x10f7e7=this['lerp'](0x8,_0x1f2f3c,_0x14e9c8);}}}_0x229d6d=Math[_0x3d3628(0x138)](_0x229d6d,1.1+0.6*this[_0x3d3628(0x114)][_0x3d3628(0x100)]);}this['_impactFactor']=this[_0x3d3628(0x153)](this[_0x3d3628(0x115)],_0x229d6d,_0x5c9d7b?0.18:0.04),this[_0x3d3628(0x152)]&&(this[_0x3d3628(0x152)]['position']['y']=_0x10f7e7),this['_coreReflection']&&(this['_coreReflection'][_0x3d3628(0x12a)]['y']=-_0x10f7e7);const _0x50d829=0.5*Math[_0x3d3628(0x13a)](0.15*_0x29bb97)+0.5,_0x2dc050=this[_0x3d3628(0x153)](0.25,0.9,this[_0x3d3628(0x114)][_0x3d3628(0x158)]),_0x2117ee=this['clamp'](_0x50d829*_0x2dc050,0x0,0x1);this[_0x3d3628(0x110)]['lerpColors'](this[_0x3d3628(0xf3)],this[_0x3d3628(0x10e)],_0x2117ee),this[_0x3d3628(0x179)]?(this[_0x3d3628(0x110)][_0x3d3628(0x119)](this['_dropColor']),this[_0x3d3628(0x11d)][_0x3d3628(0x119)](this[_0x3d3628(0x106)]),this[_0x3d3628(0x168)]['copy'](this[_0x3d3628(0x106)])):(this['_floorColor'][_0x3d3628(0x119)](this[_0x3d3628(0x110)]),this[_0x3d3628(0x168)][_0x3d3628(0x119)](this['_forgeColor']));const _0x59c230=this['_impactFactor'],_0x4f0eb0=this[_0x3d3628(0x128)];this[_0x3d3628(0x139)][_0x3d3628(0xf4)][_0x3d3628(0x178)][_0x3d3628(0x17c)]=_0x29bb97,this['_material'][_0x3d3628(0xf4)][_0x3d3628(0x146)][_0x3d3628(0x17c)]=_0x4f0eb0,this[_0x3d3628(0x139)][_0x3d3628(0xf4)][_0x3d3628(0x12c)][_0x3d3628(0x17c)]=_0x59c230,this[_0x3d3628(0x139)][_0x3d3628(0xf4)][_0x3d3628(0x177)][_0x3d3628(0x17c)]=this[_0x3d3628(0x179)]?0x1:0x0,this['_reflectionMaterial']['uniforms'][_0x3d3628(0x178)][_0x3d3628(0x17c)]=_0x29bb97,this[_0x3d3628(0x17e)][_0x3d3628(0xf4)][_0x3d3628(0x146)][_0x3d3628(0x17c)]=_0x4f0eb0,this[_0x3d3628(0x17e)][_0x3d3628(0xf4)][_0x3d3628(0x12c)]['value']=_0x59c230,this[_0x3d3628(0x17e)][_0x3d3628(0xf4)]['uDrop'][_0x3d3628(0x17c)]=this['_slamActive']?0x1:0x0,this[_0x3d3628(0x176)][_0x3d3628(0xf4)]['uTime'][_0x3d3628(0x17c)]=_0x29bb97,this[_0x3d3628(0x176)][_0x3d3628(0xf4)]['uImpact'][_0x3d3628(0x17c)]=_0x59c230,this['_floorMaterial'][_0x3d3628(0xf4)][_0x3d3628(0x146)][_0x3d3628(0x17c)]=_0x4f0eb0,this[_0x3d3628(0x176)]['uniforms'][_0x3d3628(0x177)][_0x3d3628(0x17c)]=this[_0x3d3628(0x179)]?0x1:0x0;const _0x587a02=this[_0x3d3628(0x179)]?this[_0x3d3628(0x12b)](0x1-(this[_0x3d3628(0x148)]-this[_0x3d3628(0x14f)])/0.5,0x0,0x1):0x0;this[_0x3d3628(0x176)][_0x3d3628(0xf4)][_0x3d3628(0x16c)]['value']=_0x587a02*_0x587a02;const _0x13daba=0x32*this[_0x3d3628(0x153)](0.8,1.2,this['_audio']['stereo']);for(let _0xfe99b6=0x0;_0xfe99b6<this[_0x3d3628(0x169)][_0x3d3628(0x175)];_0xfe99b6+=0x1){const {group:_0x44e79f,reflectGroup:_0x3b4fb6,angle:_0x293ba9}=this[_0x3d3628(0x169)][_0xfe99b6],_0x3122ce=Math['cos'](_0x293ba9)*_0x13daba,_0x5d4831=Math[_0x3d3628(0x13a)](_0x293ba9)*_0x13daba;_0x44e79f[_0x3d3628(0x12a)][_0x3d3628(0x11f)](_0x3122ce,0x19,_0x5d4831),_0x44e79f[_0x3d3628(0xf2)](0x0,0x64,0x0),_0x3b4fb6&&(_0x3b4fb6[_0x3d3628(0x12a)][_0x3d3628(0x11f)](_0x3122ce,-0x19,_0x5d4831),_0x3b4fb6[_0x3d3628(0xf2)](0x0,-0x64,0x0));}const _0x3a67fd=0xb4-0x78*_0x2c6667,_0x5295d9=Math[_0x3d3628(0x13a)](this[_0x3d3628(0x108)])*_0x3a67fd,_0x24fadb=Math[_0x3d3628(0x104)](this[_0x3d3628(0x108)])*_0x3a67fd,_0x3b8619=_0x10f7e7+0x50+0x96*_0x2c6667,_0x3d9dc2=this[_0x3d3628(0x179)]?this['clamp'](0x1-(this['_slamTimer']-this[_0x3d3628(0x14f)])/0.6,0x0,0x1):0x0;if(this[_0x3d3628(0x144)][_0x3d3628(0x11f)](_0x5295d9,_0x3b8619-0x23*_0x3d9dc2,_0x24fadb),_0x59c230>0.8&&(this[_0x3d3628(0x144)]['x']+=(Math[_0x3d3628(0x17a)]()-0.5)*_0x59c230*1.5,this[_0x3d3628(0x144)]['y']+=(Math[_0x3d3628(0x17a)]()-0.5)*_0x59c230*1.5),this['_camera'][_0x3d3628(0x12a)][_0x3d3628(0x119)](this[_0x3d3628(0x144)]),this['_camera'][_0x3d3628(0xf2)](0x0,0.7*_0x10f7e7,0x0),this['_lastCoreY']=_0x10f7e7,this[_0x3d3628(0x141)]){const _0x49093b=this[_0x3d3628(0x141)][_0x3d3628(0x137)],_0x3a2ea3=this[_0x3d3628(0x141)][_0x3d3628(0x123)],_0x2714db=this[_0x3d3628(0x179)]?1.6:0x1,_0x2ca937=0x1+1.6*this[_0x3d3628(0x114)][_0x3d3628(0xf5)],_0x384e1c=0.5*(0x1+this[_0x3d3628(0x128)]+0.5*_0x59c230)*_0x2ca937*_0x2714db,_0x174842=0.012*_0x2ca937;for(let _0xbe255f=0x0;_0xbe255f<this[_0x3d3628(0x141)]['count'];_0xbe255f+=0x1)_0x3a2ea3[_0xbe255f]-=_0x174842,_0x49093b[0x3*_0xbe255f+0x1]+=_0x384e1c,_0x3a2ea3[_0xbe255f]<=0x0&&this['_resetSpark'](_0xbe255f,_0x49093b,_0x3a2ea3,this['_sparks'][_0x3d3628(0x105)]);this[_0x3d3628(0x141)][_0x3d3628(0x12e)][_0x3d3628(0x135)]=!0x0,this[_0x3d3628(0x141)]['lifeAttr'][_0x3d3628(0x135)]=!0x0;}this[_0x3d3628(0x161)][_0x3d3628(0xfe)](),this[_0x3d3628(0x161)][_0x3d3628(0x127)](this[_0x3d3628(0xf7)],this[_0x3d3628(0x143)]);}[_0x1f4b8b(0x14e)](){const _0x4df060=_0x1f4b8b;this[_0x4df060(0x161)]&&this[_0x4df060(0x161)][_0x4df060(0x165)](),this[_0x4df060(0xf7)]&&this[_0x4df060(0xf7)][_0x4df060(0x103)](_0x17054=>{const _0x16efee=_0x4df060;_0x17054[_0x16efee(0x167)]&&_0x17054[_0x16efee(0x167)][_0x16efee(0x165)]?.(),_0x17054['material']&&(Array[_0x16efee(0x151)](_0x17054[_0x16efee(0x112)])?_0x17054[_0x16efee(0x112)][_0x16efee(0x10d)](_0x1436fd=>_0x1436fd[_0x16efee(0x165)]?.()):_0x17054[_0x16efee(0x112)]['dispose']?.());}),this[_0x4df060(0x161)]=null,this[_0x4df060(0xf7)]=null,this[_0x4df060(0x143)]=null,this['_material']=null,this[_0x4df060(0x17e)]=null,this['_floorMaterial']=null,this[_0x4df060(0x13e)]=null,this[_0x4df060(0x169)]=[],this[_0x4df060(0x11e)]=null,this[_0x4df060(0x152)]=null,this[_0x4df060(0x154)]=null,this[_0x4df060(0x141)]=null,this['_cleanupHandle']?.(),this[_0x4df060(0x111)]=null;}[_0x1f4b8b(0xfd)](){const _0xb2a83c=_0x1f4b8b;super[_0xb2a83c(0xfd)]();}},{'meta':y});
